

欽定四庫全書

子部六

測圓海鏡

天文算法類二【算書之屬】提要

【臣】等謹案測圓海鏡十二卷元李冶撰冶字鏡齋欒城人金末登進士入元官翰林學士事迹具元史本傳其書以勾股容圓爲題自圓心圓外縱橫取之得大小十五形皆無奇零次列識別雜記數百條以窮其理次設問一百七十則以盡其用探賾索隱參伍錯綜𨿽習其法者不能驟解而其艸多言立天元一按立天元一法見扵宋秦九韶九章大衍術中厥後授時艸及四元玉鑑等書皆屢見之而此書言之獨詳其法關乎數學者甚大然自元以來疇人皆株守立成習而不察至遂無知其法者故唐順之與頋應祥書稱立天元一漫不省爲何語頋應祥演是書爲分類釋術其自序亦云立天元一無下手之術則是書𨿽存而其傳已泯矣明萬曆中利瑪竇與徐光啟李之等譯爲同文算指諸書扵古九章皆有辧訂獨於立天元一法闕而不言徐光啟扵勾股義序中引此書又謂欲說其義而未遑是此書已爲利瑪竇所見而猶未得其解也迨我

國朝醲化翔洽梯航鱗萃歐邏巴人始以借根方法進

呈

聖祖仁皇帝授

蒙養齋諸臣習之梅防成乃悟卽古立天元一法扵赤水遺珍中詳解之且載西名阿爾熱巴拉【案原本作阿爾熱巴逹謹據西洋借根法攺正】卽華言東來法知卽冶之遺書流入西域又轉而還入中原也今用以勘驗西法一一脗合瑴成所說信而有徴特錄存之以爲算法之祕鑰且以見中法西法互發益明無容設畛域之見焉乾隆四十六年二月恭校上

總纂官【臣】紀昀【臣】陸錫熊【臣】孫士毅

總校

官【臣】陸

費墀

原序

數本難窮吾欲以力彊窮之彼其數不惟不能得其凡而吾之力且憊矣然則數果不可以窮耶旣已名之數矣則又何爲而不可窮也故謂數爲難窮斯可謂數爲不可窮斯不可何則彼其冥冥之中固有昭昭者存夫昭昭者其自然之數也非自然之數其自然之理也數一出於自然吾欲以力彊窮之使隸首復生亦末如之何也已苟能推自然之理以明自然之數則𨿽逺而乾端坤倪幽而神情鬼狀未有不合者矣予自幼喜算數恆病夫考圓之術例出於牽彊殊乖於自然如古率徽率密率之不同截弧截矢截背之互見內外諸角析剖支條莫不各自名家與世作法及反覆研究卒無以當吾心焉老大以來得洞淵九容之說日夕玩繹而向之病我者使爆然落去而無遺余山中多暇客有從余求其說者於是乎又爲衍之遂累一百七十問旣成編客復目之測圓海鏡蓋取夫天臨海鏡之義也昔半山老人集唐百家詩選自謂廢日力於此良可惜明道先生以上蔡謝君記誦爲玩物喪志夫文史尙矣猶之爲不足貴況九九賤技能乎嗜好酸鹹平生每痛自戒勅竟莫能已類有物慿之者吾亦不知其然而然也故嘗私爲之解曰由技兼於事者言之夷之禮夔之樂亦不免爲一技由技進乎道者言之石之斤扁之輪非聖人之所與乎覽吾之編察吾苦心其憫我者當百數其笑我者當千數乃若吾之所自得則自得焉耳寧復爲人憫笑計哉李冶序

總率名號

天之地爲通

天之幹爲通股

幹之地爲通勾

天之川爲邊

天之西爲邊股

西之川爲邊勾

日之地爲底

日之北爲底股

北之地爲底勾

天之山爲黃廣天之金爲股

金之山爲勾

月之地爲黃長月之泉爲股

泉之地爲勾

天之日爲上髙天之旦爲股

旦之日爲勾

日之山爲下髙日之朱爲股

朱之山爲勾

月之川爲上平月之靑爲股

靑之川爲勾

川之地爲下平川之夕爲股

夕之地爲勾

天之月爲大差天之坤爲股

坤之月爲勾

山之地爲小差山之艮爲股

艮之地爲勾

日之川爲皇極日之心爲股

心之川爲勾

月之山爲太虛月之水爲股

水之山爲勾

日之月爲明

日之南爲股

南之月爲勾

山之川爲�

山之東爲股

東之川爲勾

今問正數

通六百八十勾三百二十股六百

勾股和九百二十較二百八十

勾和一千較三百六十

股和一千二百八十較八十

較和九百六十較四百

和和一千六百較二百四十

邊五百四十四勾二百五十六股四百八十勾股和七百三十六較二百二十四

勾和八百較二百八十八

股和一千零二十四較六十四

較和七百六十八較三百二十

和和一千二百八十較一百九十二

底四百二十五勾二百股三百七十五勾股和五百七十五較一百七十五

勾和六百二十五較二百二十五

股和八百較五十

較和六百較二百五十

和和一千較一百五十

黃廣五百一十勾二百四十【卽城徑也】股四百五十

勾股和六百九十較二百一十

勾和七百五十較二百七十

股和九百六十較六十

較和七百二十較三百

和和一千二百較一百八十

黃長二百七十二勾一百二十八股二百四十【卽城徑也】

勾股和三百六十八較一百一十二

勾和四百較一百四十四

股和五百一十二較三十二

較和三百八十四較一百六十

和和六百四十較九十六

髙二百五十五【上下同】勾一百二十【卽半徑】股二百二十五

勾股和三百四十五較一百零五

勾和三百七十五較一百三十五

股和四百八十較三十

較和三百六十較一百五十

和和六百較九十

平一百三十六【上下同】勾六十四股一百二十【卽半徑也】

勾股和一百八十四較五十六

勾和二百較七十二

股和二百五十六較十六

較和一百九十二較八十

和和三百二十較四十八

大差四百零八勾一百九十二股三百六十勾股和五百五十二較一百六十八

勾和六百較二百一十六

股和七百六十八較四十八

較和五百七十六較二百四十

和和九百六十較一百四十四

小差一百七十勾八十股一百五十

勾股和二百三十較七十

勾和二百五十較九十

股和三百二十較二十

較和二百四十較一百

和和四百較六十

皇極二百八十九勾一百三十六股二百五十五

勾股和三百九十一較一百一十九

勾和四百二十五較一百五十三

股和五百四十四較三十四

較和四百零八較一百七十

和和六百八十較一百零二

太虛一百零二勾四十八股九十

勾股和一百三十八較四十二

勾和一百五十較五十四

股和一百九十二較一十二

較和一百四十四較六十

和和二百四十較三十六

明一百五十三勾七十二股一百三十五勾股和二百零七較六十三

勾和二百二十五較八十一

股和二百八十八較一十八

較和二百一十六較九十

和和三百六十較五十四

�三十四勾十六股三十

勾股和四十六較一十四

勾和五十較一十八

股和六十四較四

較和四十八較二十

和和八十較十二

識別雜記

天之於日與日之於心同心之於川與川之於地同日之於心與日之於山同故以山之川爲小差川之於心與川之於月同故以月之日爲大差

明勾�股相得名爲內率求虛積明股�勾相得名爲外率求虛積虛勾虛股相得名爲虛率求虛積

凡勾股和卽黃和凡大差卽股黃較凡小差卽勾黃較

髙股平勾差名角差【又】名逺差此數卽髙平二差共也又爲明和�和較也【又】爲通差內去極差【又】爲極差虛差共明�二差共名次差【又】名近差【又】名戾【音列】和此數【又】爲明大差�小差較也勾圓差之股股圓差之勾相並名混同和此數【又】爲一徑一虛共也明�二差較名傍差此數又爲髙平二差較【又】爲極雙差內減虛和【又】爲極和內減城徑也虛差不及傍差名蓌差此數又爲大差差內去角差【又】爲極差內去二之平差【又】爲次差內去小差差【又】爲明股�勾共內去二之明勾也虛差傍差共爲蓌和【蓌音剉】

凡大差股小差勾相乘爲半段徑冪大差勾小差股相乘亦同上虛勾乘大股得半段徑冪虛股乘大勾亦同上邊股�股相乘得半徑冪明勾底勾相乘亦同上黃廣股黃長勾相乘得徑冪髙股平勾相乘得半徑冪明明股並與��勾並相乘得半徑冪明明勾並與��股並相乘亦同上髙平相乘爲一段皇極積明勾�股相乘倍之爲一段太虛積明股�勾相乘亦同

右諸雜名目

通上勾股和卽一城徑一通也其較卽勾圓差之勾股圓差之股相較也勾和卽二勾一大差其較則大差也股和卽二股一小差其較則小差也較和爲一徑三差共其較則大勾小差共也三事和卽邊三事和上帶大勾也【又】爲底三事和上帶大股也其較則城徑也

邊上勾股和爲通股平共其較則大差股內去平也勾和卽通股底勾共其較則明股明共也股和卽通股通和內少个邊勾也其較則平勾也較和爲大差上股和其較則大勾也三事和卽通上股和【又】爲黃廣三事和上帶勾圓差也其較則大差勾也【又】爲平上較和【又】爲太虛上股和也

底上勾股和爲通勾髙共其較則髙內去小差勾也勾和爲通上較較與髙股共其較則髙股也股和爲半个通上三事和其較則�上勾和也較和爲大差上勾和也其較則小差上勾和也三事和卽通上勾和【又】爲黃長三事和上帶股圓差其較則小差股也【又】爲髙上較較【又】爲太虛上勾和

黃廣上勾股和爲大股虛股共【又】爲通勾通股共內少个小差上勾股和其較則兩个髙差也勾和爲二髙一圓徑共其較則二明股也股和爲通上較和其較則二�股也較和卽兩个大差股也其較卽兩个小差股也三事和兩大股也其較則兩虛股也

黃長上勾股和爲大勾虛勾共【又】爲通和內少个大差上勾股和也其較則兩个平差也勾和爲通上較較其較則兩个明勾也股和爲二圓徑二�勾其較則二�勾也較和爲兩个大差勾也其較則兩个小差勾也三事和爲兩大勾其較則兩虛勾也

髙上勾股和爲髙虛股共【又】爲一徑及髙勾髙股差也其較則底內減大勾也【又】爲邊股內減底股也勾共則底股其較則明股也股共卽邊股其差則�股也較共則大差股其較則小差股也三事和卽大股其較則虛股也【又】爲小差上勾較【又】爲明上較較

平上勾股共卽平虛勾共也其較則大股內減邊也勾共卽底勾其差則明勾也股共卽邊勾其較則�勾也較共卽大差勾其較則小差勾也三事和卽大勾其較則虛勾也【又】爲大差上股較【又】爲�上較和

大差上勾股和卽大股內去虛勾其差則大差內去圓徑也勾共卽大股其差則大差股內去二之明勾也股和爲大股上加个大中差也【按大中差乃明股和與半徑之較】其較則虛勾也較和爲兩个邊上勾較其較卽城徑也三事和卽大股與股圓差共【又】爲大大較共【又】爲二邊股其較則太虛上較和也

小差上勾股和卽大勾內去虛股也其較則圓徑內去小差也勾和爲大勾上減个小中差也【按小中差乃�勾和與半徑之較】其較則虛股也股共卽大勾其較則小差勾內去兩个�股也較和爲圓徑其較則爲兩个底上股較【又】爲兩个�上勾和也三事和卽大勾與勾圓差共也又爲大大較較【按卽通又上較較】爲二底勾其較則太虛上較較也

皇極勾股和卽髙平共其較則明股內去�勾也勾共卽底其較則明也股共則邊其較則�也較和爲髙明共【又】爲大股內減大差勾【又】爲大差其較則小差也三事和卽通其較則太虛也【又】爲明勾�股共【又】爲髙內減明【又】爲平內減�【又】爲大差勾上減虛股【又】爲小差股上減虛勾也

太虛勾股和卽圓徑內減虛【又】爲虛虛黃方共【又】爲皇極內去明股�勾共其差則大差勾內減个小差股也勾共卽小差股也其較則虛股內減个小黃方也股共卽大差勾其較則虛勾內減个小黃方也較和爲大差上和較【又】黃長上勾較【又】爲兩个明勾其較小差上黃方面也三事和卽大黃方其較則爲兩个明上股較【又】爲�上兩个勾較【又】爲明上小差與�上大差共也

明勾股和卽大差股內減明其較則明內減虛股也勾並卽髙股其較則髙股內少二之明勾也股和卽邊股內減大差勾【又】爲邊勾邊差其較則半个虛黃方也較和卽大差上勾較其較則虛股也三事和卽股圓差其較則太虛上勾較【又】爲虛股內減虛黃方也

�上勾股和卽小差內減�其較則虛勾內減�也勾和卽底勾內減小差股【又】爲底股底差其較則半个虛黃方也股和卽平勾其較則平勾內少二个�股也較和卽虛勾其較則小差上股較也三事和卽勾圓差其較則太虛上股較【又】爲虛勾內減虛黃方也

前黃廣勾股下其勾股較【又】爲大差股上少个小差股【又】爲中差【按中差系通勾股較】內少个小差較【又】爲黃廣股內少一徑勾共【又】爲兩个底股【又】爲大股與小差股共股和【又】爲大中差共【又】爲兩个邊股股差【又】爲小差上黃方面

前黃長勾股下其勾股較【又】爲大差勾上少个小差勾也【又】爲圓徑內少个黃長勾勾共【又】爲兩个底勾【又】爲大勾與小差勾共勾較【又】爲大差上黃方靣股共【又】爲兩个邊勾

右五和五較

大爲大勾與股圓差共【又】爲大股與勾圓差共邊乃邊股平勾共【又】爲大股內減平上勾股較底乃底勾髙股共【又】爲大勾內加一个髙差黃廣爲大股內減虛股【又】爲邊股�股共黃長乃大勾內減虛勾【又】爲底勾明勾共

髙乃大差內減明【又】爲明虛共平乃小差內減�【又】爲�虛共大差乃大股內減大差勾【又】爲髙明共【又】大內去黃長小差爲大勾內減小差股【又】爲平�共【又】爲大內去黃廣極乃髙股平勾共【又】爲平明共【又】爲髙�共【又】爲大差內減髙平二較【又】爲小差內加髙平二較虛乃皇極黃方靣【又】爲明勾�股共【又】爲髙內減明【又】爲平內減�明乃髙內減虛�乃平內減虛

黃廣黃長相並爲大虛共也以此數減於大和余卽虛和若以二相減余卽虛平共也【按虛平共此題數偶合當云二極差】黃廣【又】爲大差虛共黃長【又】爲小差虛共以黃長減於大勾余卽虛勾以黃廣減於大股余卽虛股

邊底相並爲大皇極共也於此並數內減大和余爲皇極內減圓徑也若以二相減余卽皇極差也此數同者最多故【又】爲皇極內少个小差【又】爲髙平較【又】爲明股內少�勾【又】爲大差內少皇極【又】爲次差虛差共也邊【又】爲皇極股共【又】爲黃廣�共

底【又】爲皇極勾共【又】爲黃長明共也以邊減大股余爲半徑內減平勾【又】爲平內減小差勾也底內減大勾余爲髙股內減半徑【又】爲大差股內減髙也

黃廣內減邊股卽�股黃長內減底勾卽明勾也

髙髙股共卽邊股平平勾共卽底勾髙髙勾共卽底股平平股共卽邊勾

上髙減於通股余卽邊股內減�股也下平減於通勾余卽邊勾內減明勾也髙平相並卽大內少个皇極也若以相並數減於大和余爲皇極圓徑共也髙平相減余卽皇極差也【又】爲皇極上減小差也若以相減數卻加於相並數卽黃廣也

髙內減明股得半徑平內減�勾亦同上皇極勾上加明爲皇極皇極股上加�亦同上

皇極得極勾卽底得極股卽邊內去極勾卽明去極股卽�減於通卽極和得虛亦同上內去虛卽明�共去虛黃卽明和�和共也去城徑卽傍差

內加極差卽大差去極差卽小差加角差卽兩个髙股減角差卽二平勾

太虛加入極爲極和極內去之卽明�二共再去之則明大差�小差並也加於大差卽黃廣加於小差卽黃長內去明勾則�勾加明勾爲圓徑內少虛黃�股共加入明股爲明和�股共減於明股卽明較內去�股加入明爲極股減於明爲明大差�小差內少个�加於明和卽兩个虛一个髙差共也減於明和卽髙差也內去�勾卽明勾�較共【又】爲�股平差共加於�勾卽�和明勾共加於�股爲二虛內少明勾【又】爲圓徑內少虛黃明勾共內減�股卽明勾內加�卽極勾減於�爲明勾內少个�小差加入�和卽兩个虛內少个平差也內減�和卽平差也加入明�二和共卽極和內少个虛黃也若減於明�二和共卽明股�勾共也減於髙卽明減於平卽�加於角差卽二明勾一極差也減於角差卽一極差二�股較也得傍差卽明股�勾共內減傍差卽太虛三事和內去了極雙差也【按雙】

【差系勾差股差】內加虛差卽二明勾內減虛差卽二�股內加虛黃方卽虛和內減虛黃方卽太虛大小差並也

右諸

大差小差共卽兩个極也以兩个極差爲之較大差差小差差共卽兩个極差也以兩个傍差爲之較大差上大差小差上大差共卽兩个明也以兩个明差爲之較大差上小差小差上小差共卽兩个�也以兩个�差爲之較大差黃【按卽二明勾】小差黃【按卽二�股】數共卽兩个極黃【按卽二虛】也以兩个虛差爲之較大差勾小差勾共卽兩个極勾也以兩个平差爲之較大差股小差股共卽兩个極股也以兩个髙差爲之較二和共爲二極和以二角差爲之較

大差上較較卽圓徑小差上較和亦同上大差上小差卽虛勾小差上大差卽虛股也大差與明勾共卽邊股小差與�股共卽底勾也大差內減中差卽黃長勾【按勾應作股】小差內加中差卽黃廣股也【按股應作勾】大股內減小差股卽黃廣股大勾內減大差勾卽黃長勾也虛得虛股卽大差勾虛得虛勾卽小差

股也明段較和卽大差上勾較明段較較卽小差上勾較也�段較和卽大差上股較�段較較卽小差上股較也大差勾內減虛余卽虛股小差股內減虛余卽虛勾也以大差和減大股卽虛勾以小差和減大勾卽虛股也以大差差減圓徑卽明勾此差若多於圓徑則內減圓徑余卽虛勾也【按此條因題數偶合而誤若勾股差甚大甚小者皆不能合】以小差差減圓徑卽小差也大差上加一徑卽大股上加虛勾也小差上加一徑卽大勾上加虛股也大差股內減髙余卽髙股內減半徑平內減小差勾余卽半徑內減平勾也大差內減虛差卽二明差小差內減虛差卽二�差也

大內減大差股小差勾共卽圓徑三事和內減二之大差股小差勾共卽三个圓徑也

大差勾小差股相並名混同卽一圓徑一虛也若以相減卽虛差也

大差和小差和二數相並卽大虛共也二數相減卽中差虛差共也【又】半之並數卽爲極虛共也【又】爲髙平共【又】爲皇極勾股共也

大差差小差差二數相並卽兩个皇極差【又】爲大差內減小差也二數相減而半之卽是皇極上減圓徑也【卽傍差】

右大小差

大差差小差差虛差共爲一个通差髙平極三差共亦同上明�虛三差共爲一个極差也諸黃方面亦仿此

邊黃內減底黃卽虛差黃廣黃內減黃長黃卽二虛差髙黃內減平黃卽虛差蓋髙黃卽虛股平黃卽虛勾也大差黃內減小差黃卽二虛差蓋大差黃卽二明勾小差黃卽二�股也明黃內減�黃余卽虛差�上三差合成一个虛黃方

髙差內減平差爲傍差邊差內減底差亦同上明差內減�差亦同上大差差內減小差差爲二旁差黃廣差內減黃長差亦同上

極雙差卽明�二共內加虛雙差卽明�二和共內減虛雙差卽明雙差�雙差共也內加旁差卽極內少个虛旁差差內減旁差卽虛和也內加虛差卽極內少二�股內減虛差則極內少二明勾也

極差內加旁差爲大差差內減旁差爲小差差也內加虛差卽角差內減虛差卽次差也倍

極差爲大差差小差差共則倍旁差爲之較倍極爲大差小差共倍極差爲之較以極差爲明差平差共則以蓌差爲之較以極差爲髙差�差共則以蓌和爲之較副置蓌和上加蓌差而半之卽旁差也減蓌差而半之則虛差也極差內減二之平差得蓌差

角差內加旁差爲二髙差內減旁差卽二平差也內加明�二差並而半之得極差內減明�

二差而半之則虛差也內加極差則通差內減極差則虛差也

以虛差減於明和爲明�二股共以虛差加於�和爲明�二勾共也又副置二和共上加次差而半之卽明�二股共減次差而半之卽明�二勾共也明�二股共以髙差爲之較明�二勾共以平差爲之較

以髙差減明和卽虛以平差加�和亦同上以髙差減髙股卽半徑以平差加平勾亦同上以髙差減大差差卽明差以平差減小差差

卽�差也以髙差減大差卽髙以平差加小差卽平也二之平差內去虛差余卽小差差去二虛差卽兩个�差

髙股卽半徑上股方差平勾卽半徑上勾方差故髙勾平股共爲全徑也黃廣股卽全徑上股方差黃長勾卽全徑上勾方差故黃廣勾黃長股共數爲兩个全徑也

邊內減底卽皇極差邊股內減底股卽髙差【又】爲底內減大勾邊勾內減底勾卽平差【又】爲大股內減邊也

大勾減底余卽半徑爲勾之中差也大股內減邊余卽半徑爲股之中差也邊股底勾相並卽大若以相減卽通中差也

二髙股一虛差合成一个股圓差二平勾一虛差合成一个勾圓差【按此二條誤當云二明股一虛股合成一个股圓差二�勾一虛勾合成一个勾圓差也】

明雙差亦爲明�二大差其較則明差也�雙差亦爲明�二小差其較則�差也明雙差內減明差卽虛黃�雙差上加�差亦同上以明雙差加明和卽兩明以�雙差加�和則兩�也以明雙差減明和而半之卽明黃【又】爲虛大差以�雙差減於�和而半之卽�黃【又】爲虛小差也以虛大差減明和卽爲明以虛小差減�和卽�也明雙差�雙差相較則次差也明雙差�雙差相並加於明�二和共則爲兩个極雙差若以減於明�二和共則爲兩个虛雙差也明雙差上加虛雙差卽明�二股共�雙差上加虛雙卽明�二勾共也

以明�二股共爲明�黃共則髙差虛黃共爲之較【按明又�黃較】爲明大小差虛大小差共則明�二股共內去兩个虛雙差爲之較也【按明大小差虛大小差之較】以明�二勾共爲�明黃共則以平差虛黃

較爲之較【又】爲�大小差虛大小差共則明�二勾共內減兩个虛大小差爲之較也【按虛大小差�大小差之較】

明�二和共內減旁差卽二虛虛內加旁差明股�勾共也

明和內去平差卽明股�勾共�和上加髙差亦同上也明和內去髙差卽虛�和上加平差亦同上明內去髙差卽虛勾�上加平差卽虛股也明股內去�股卽髙差去�勾則極差也明勾內去�股卽虛差去�勾則平差也

明�二股並內減虛卽明差明�二勾並減於虛卽�差

明�二和共【又】爲明�二共與明�二黃共數也其較則明雙差�雙差共數也其明�二和共數內減旁差卽二虛也若內減虛雙差卽明�二共也

極得極差爲大差大差內減明和則髙內減虛大差也內減極差則爲小差小差內減�和則是平內減虛小差也又大差內減明和與髙股共余則爲虛勾不及明勾數小差內減�和與平勾共余則爲�股不及虛股數也

右諸差

邊勾邊股差【又】爲皇極差與髙差共也【又】爲邊內去大勾也邊勾邊共【又】爲大勾邊股共邊勾邊較【又】爲大差內減半徑也邊股邊較【又】爲�股和

底勾底股差【又】爲皇極差平差共【又】爲大股內去底【又】爲髙股內去底小差底勾底共爲大內少个底股大勾差底勾底較【又】爲明上勾弦和底股底共與邊勾邊共同底股底較【又】爲底勾內少小差股也

邊股內減髙余則髙股內減大差余則明勾內減底卽底股內減大勾也【又】爲髙內減

底勾也

底勾內減平余卽平勾內減小差余卽�股以底勾減於邊余卽大股內減邊勾也【又】爲

邊股內減平也

邊內減底股與底內減邊勾同爲皇極內減半徑也

皇極勾內減明勾余卽平勾也若減�勾卽半徑也倍之則爲底勾明勾共皇極股內減�股余卽髙股也若減明股余卽半徑也倍之則爲邊股�股共也

明股得虛股卽髙股明勾得虛勾卽半徑�股得虛股卽半徑�勾得虛勾卽平勾也髙內減髙股卽�股平內減平勾卽明勾也明內減明差卽虛股�內加�差卽虛勾也髙股卽虛明二股共平勾卽虛�二勾共也明明勾並數與髙股同��股並數與平勾同也

明股�勾相倂減於極卽虛和【又】爲極黃虛黃共數也

明�二並內減�雙差卽明�二股並內減明雙差卽明�二勾並內加虛卽極內減虛卽明大差�小差並也

以明和爲明明黃共則明雙差爲之較以�和爲��黃共則�雙差爲之較也明和【又】爲髙差虛共【又】爲極差與明�二勾共數�和【又】爲平差少於虛數【又】爲極差少於明�二股數

半之三事和內加半黃方卽勾股共若減之則也半圓徑內加半虛黃卽虛和減半虛黃卽虛也【又】以半虛黃加明和卽髙股以半虛黃加�和卽平勾也加明股則明加�股則�也減明勾則明黃減�股則�黃也以虛黃加明黃則爲虛股以加�黃則虛勾也

右諸率見

髙�共爲極其差卽虛極差共也髙股�股共爲髙其差卽虛股髙差共也髙勾�勾共爲平其差卽半徑內減�勾也髙和�和共爲極和其差卽極和內少二�和也髙差�差共爲極差其差卽虛差旁差共也髙黃�黃共爲虛其差卽�黃不及虛股數也【髙黃卽虛股】髙大差�大差共卽明其差卽半虛黃不及明股數也此髙大差卽明股此�大差卽半虛黃也髙小差【卽�股】�小差共卽�其差卽�小差

不及�股數也明平二共亦爲極其較卽虛不及極差數也明平二股共亦爲髙其較卽明股內減半徑也明平二勾共亦爲平其較卽平差內去虛勾也明平二和共亦爲極和其較卽極和內少二之平和也明平二差共亦爲極差其較卽虛差不及旁差數也明平二黃共亦爲虛其較則虛勾【按虛勾卽平黃】不及明黃數也明平二大差共亦爲明其較卽明勾不及明大差數【平大差卽明勾】明平二小差共亦爲�其較則�勾不及半虛黃數也此明小差卽半虛黃此平小差卽�勾

右四位相套

邊自減其股爲平勾自減其勾爲明股明並減於通余平減於通股余平差內減通勾余邊差內減底余極差內減底股爲半徑旁差共【又】爲極內少半徑內減底勾卽大股內去邊勾也內減黃廣余�內減黃廣股卽小差股內去平差內減黃廣勾卽大差股內去平差內減黃長【又】得黃長【按此條誤】內減黃長股與內減黃廣勾同內減黃長勾卽大股內去極勾虛勾共內減皇極余髙

底自減其股爲�勾�並自減其勾爲髙股減於通余髙減於通股余底差內減通勾余髙差減於邊余極差減於邊股卽底差內去半徑內減邊勾卽髙差平勾共減於黃廣余爲明大差�小差並【按此條亦系數偶合】減於黃廣股卽底差內去小差股內減黃廣勾卽一个明一个黃長股較內減去黃長余明內減黃長股與內減黃廣勾同內減黃長勾余爲髙股明勾共內減極爲平減於邊股【又】爲底股內去大勾

髙差平差共【又】爲平勾髙股差以半徑減髙股卽髙差半徑內減平勾卽平差明勾內減�勾與平差同明股內減�股與髙差同股圓差內減極股卽髙差也勾圓差減於極勾卽平差正股內去邊卽平差也底內去正勾卽

髙差也大差勾內去極勾卽平差也極股內去小差股卽髙差也極差內去�差卽髙差也內去明差卽平差也

旁差卽城徑極較也【又】爲明差�差較【又】爲髙差平差較極差得之爲大差差也去之則爲小差差也

又髙差平差下明和內去虛卽髙差虛內去�和卽平差

大差內加虛差卽黃廣股小差股內減虛差卽黃長勾

通差內去髙差卽底差內去平差卽邊差也虛大差得二虛勾卽勾圓差之股虛小差得二虛股卽股圓差之勾也

明股較與勾共卽虛股也�勾較與股共卽虛勾也

半虛黃�勾得之卽�也減於此數卽虛黃內去�也�股得之虛勾也去之卽�黃方也�得之卽平勾內去�黃也去之則�勾也明勾內得之卽虛股也去之則明黃方也明

股得之卽明也去之則明內去个虛黃方也明得之卽髙股內去明黃也去之則明股也右拾遺

按識別雜記約五百條皆隨時錄其所得未經審定者故難易淺深不拘先後要皆精思妙義足以開示數理之蘊奧者徐光啟亟新法而於勾股義中獨推是書其必有所見矣

測圓海鏡卷一

欽定四庫全書

測圓海鏡卷二

元李冶撰

正率一十四問

假令有圓城一所不知周徑四面開門門外縱橫各有十字大道其西北十字道頭定爲幹地其東北十字道頭定爲艮地其東南十字道頭定爲防地其西南十字道頭定爲坤地所有測望雜法一一設問如後

或問甲乙二人俱在幹地乙東行三百二十步而立甲南行六百步望見乙問徑幾里

答曰城徑二百四十步

法曰此爲勾股容圓也以勾股相乘倍之爲實並勾股冪以求復加入勾股共以爲法

艸曰置甲南行六百步在地以乙東行三百二十步乘之得一十九萬二千步倍之得三十八萬四千步爲實以乙東行步自之得一十萬零二千四百步爲勾冪以甲南行步自之得三十六萬步爲股冪二冪相並得四十六萬二千四百步爲方實以平方開之得六百八十步則也以加勾股共共得一千六百步以爲法如法而一得二百四十步則城徑也合問

或問甲乙二人俱在西門乙東行二百五十六步甲南行四百八十步望見乙問答同前

法曰此爲勾上容圓也以勾股相乘倍之爲實並勾股冪以求加入股以爲法

艸曰置甲南行四百八十步在地以乙東行二百五十六步乘之得一十二萬二千八百八十步倍之得二十四萬五千七百六十步爲實以乙東行步自之得六萬五千五百三十六步爲勾冪以甲南行步自之得二十三萬零四百步爲股冪勾股冪相並得二十九萬五千九百三十六步爲方實以平方開之得五百四十四步爲也以加入南行步共得一千零二十四步以爲法而一得二百四十步則城徑合問

或問甲乙二人俱在北門乙東行二百步而止甲南行三百七十五步望見乙問答同前

法曰此爲股上容圓也以勾股相乘倍之爲實以勾股冪求加入勾以爲法

艸曰置甲南行三百七十五步以乙東行二百步乘之得七萬五千步倍之得一十五萬步爲實以乙東行自之得四萬步爲勾冪以甲南行自之得一十四萬零六百二十五步爲股冪勾股冪相並得一十八萬零六百二十五步爲方實如平方而一得四百二十五步則也加入乙東行二百步共得六百二十五步以爲法以法除之得二百四十步則城徑也合問

或問甲乙二人俱在圓城中心而立乙穿城向東行一百三十六步而止甲穿城南行二百五十五步望見乙問答同前

法曰此爲勾股上容圓也以勾股相乘倍之爲實並勾股冪如法求以爲法

艸曰以二行步相乘得三萬四千六百八十步倍之得六萬九千三百六十步爲實置乙東行自之得一萬八千四百九十六步爲勾冪又以甲南行自之得六萬五千零二十五步爲股冪二冪相並得八萬三千五百二十一步爲方實以平方開之得二百八十九步卽也便以爲法如法除實得二百四十步卽圓城之徑也合問

或問甲乙二人同立於幹地乙東行一百八十步遇塔而止甲南行三百六十步回望其塔正居城徑之半問答同前

法曰此爲上容圓也以勾股相乘倍之爲實以勾股和爲法

艸曰以二行步相乘得六萬四千八百步倍之得一十二萬九千六百步爲實並二行步得五百四十步以爲法除實得二百四十步卽城徑也合問

或問甲乙二人俱在坤地乙東行一百九十二步而止甲南行三百六十步望乙與城防相直問答同前法曰此爲勾外容圓也以勾股相乘倍之爲實以較和爲法

艸曰以二行步相乘得六萬九千一百二十步倍之得一十三萬八千二百四十步爲實置乙東行自之得三萬六千八百六十四步爲勾冪又置甲南行自之得一十二萬九千六百步爲股冪二冪相並得一十六萬六千四百六十四步爲方實以平方開之得四百零八卽也又置甲南行步內減乙東行步餘一百六十八步卽較也以較加共得五百七十六步以爲法實如法而一得二百四十步爲城徑也合問

按此題用勾股求得卽可加減得較較爲城徑今必以勾股相乘倍積爲實求得加減得較和爲法而後始得較較爲城徑者蓋欲因此並明勾股相乘之倍積爲較較較和相乘之積非故爲紆廻也

或問甲乙二人同立於艮地甲南行一百五十步而止乙東行八十步望乙與城防相直問答同前

法曰此爲股外容圓也以勾股相乘倍之爲實以較較爲法

艸曰二行步相乘得一萬二千倍之得二萬四千步爲實以甲南行自之得二萬二千五百步爲股冪又以乙東行步自之得六千四百步爲勾冪勾股冪相並得二萬八千九百步爲方實以平方開之得一百七十步卽也以二行步相減餘七十步爲勾股較也以此較又減餘一百步卽較較也便以爲法實如法而一得二百四十步卽城徑也合問按此題系較和爲城徑其用法實以較取和之意與上題同

或問甲乙二人同立於防地乙西行四十八步而止甲北行九十步望乙與城防相直問答同前

法曰此爲外容圓也勾股相乘倍之爲實以和較爲法

艸曰以二行步相乘得四千三百二十步倍之得八千六百四十步爲實以甲北行自之得八千一百步爲股冪又以乙西行自之得二千三百零四步爲勾冪並二冪得一萬零四百零四步爲方實以平方開之得一百零二步爲也又並二行步得一百三十八步爲和以減和餘三十六步得黃方以爲法實如法而一得二百四十步卽城徑也合問

按此題和和卽城徑其以勾股相乘倍積爲實黃方爲法者亦以明和和黃方相乘之積與勾股相乘之倍積爲相等也

或問甲乙二人俱在南門乙東行七十二步而止甲南行一百三十五步望乙與城防相直問答同前法曰此爲勾外容圓半也以勾股相乘倍之爲實以大差爲法

艸曰以二行步相乘得九千七百二十步倍之得一萬九千四百四十步爲實又以乙東行自之得五千一百八十四步爲勾冪又以南行自之得一萬八千二百二十五步爲股冪二冪相並得二萬三千四百零九步爲方實以平方開之得一百五十三步卽也以乙東行七十二步爲勾以減餘八十一步卽勾差也便以爲法實如法而一得二百四十步卽城徑也合問

或問甲乙二人俱在東門甲南行三十步而止乙東行一十六步回望甲與城防相直問答同前

法曰此爲股外容圓半也以勾股相乘倍之爲實以小差爲法

艸曰以二行步相乘得四百八十步倍之得九百六十步爲實又以乙東行自之得二百五十六步爲勾冪又以甲南行自之得九百步爲股冪二冪相並得一千一百五十六步爲方實以平方開之得三十四步卽也以甲南行三十步爲股以減餘四步以爲法以法除實得二百四十步卽城徑也合問

或問甲出西門南行四百八十步而止乙出東門南行三十步望見甲問答同前

法曰此爲半矮梯也以二行步相乘爲實如平方而一得半徑

艸曰以二行步相乘得一萬四千四百步爲實以平方開之得一百二十步倍之卽城徑也合問

又問甲乙二人乙出南門折而東行七十二步而止甲出北門折而東行二百望見乙問答同前

法曰以二行步相乘得數四之爲實如平方而一得城徑

艸曰二行步相乘得一萬四千四百步又四之得五萬七千六百步爲實以平方開之得二百四十步卽城徑也合問

又假令乙出南門折東行二十步甲出北門折東行七百二十步如此之類亦同上法【以上三問是以半矮梯求之】按右三題通爲一問

或問甲乙二人乙在艮地東行八十步而立甲在坤地南行三百六十步望見乙問答同前

法曰此爲兩差求黃方也以二行步相乘倍之爲實以平方開得城徑

艸曰二行步相乘得二萬八千八百步倍之得五萬七千六百步爲實以平方開之得二百四十步卽城徑也合問別得甲南行卽股圓差也乙東行卽勾圓差也

或問甲出東門四十八步而立乙出南門四十八步見之問答同前

法曰此當以方五斜七求之每出門二步管徑十步艸曰置出門步在地以五之得二百四十步卽城徑也據此法合置出門步在地以十之二而一以二數相折故五因便是合問

按方五斜七古率非密率也設問以盡此題之變故率之疏密勿論

或問出西門南行四百八十步有樹出北門東行二百步見之問答同前

法曰以二行步相乘爲實二行步相並爲從二步常法得半徑

艸曰立天元一爲半徑置南行步在地內減天元半徑得��爲股圓差【按斜畫者少之記也��是爲四百八十步少一元也下仿此】又置乙東行步在地內減天元得下式��爲勾圓差以勾圓差乘股圓差得丨��【按丨��爲一平方少六百八十元多九萬六千步】爲半段黃方冪卽城冪之半也【寄左】又置天元冪以倍之得��亦爲半段黃方冪與左相消得丨��如帶縱法之得半徑合問【按相消者取上兩相等之數同加減相等之數使一爲步數一爲方元數仍相等也如寄數內減一平方加六百八十元則得九萬六千步又數內亦減一平方加六百八十元則得一平方六百八十元是爲一平方六百八十元與九萬六千步等故其式爲丨��舊稿方元數皆作斜畫以別之然遇方元數有多少異號者殊混人目今不用】

又法識別得二行並卽大也立天元一爲半徑置甲南行步加天元一得��爲大股又置乙東行步加天元得��爲大勾也勾股相乘得丨��爲一个大直積以天元除之得下式���爲三事和【寄左黃方除倍積得三事和今以半黃方除直積亦爲三事和也】然後並二行步又並入勾股共得��爲同數與左相消得���以帶縱平方開之得一百二十步倍之得全徑也合問按是書皆先法後艸艸者以立天元一推衍而得其方元積數者也法者又取推衍中之支節條目融防而歸於簡約者也艸者法之本法者艸之用法使人易於推步而艸則存其義以俟知者二者相須不可偏廢顧應祥僅演其開方乘除之數而去其細艸蓋亦不得其理矣

按元時未有筆算故加減乘除之式不能詳載觀者遂以爲無下手處今借根方法旣明視此則渙如冰釋矣

測圓海鏡卷二

欽定四庫全書

測圓海鏡卷三

元李冶撰

邊股一十七問

或問乙出東門南行不知步數而止甲出西門南行四百八十步望見乙復就乙行五百一十步與乙相防問答同前

法曰倍相減步以乘二之甲南行步爲平方實得城徑

艸曰識別得二行相減餘三十步卽乙出東門南行步也倍相減步得六十步以乘二之甲南行步九百六十步得五萬七千六百步爲平方實如法開之得二百四十步卽城徑也合問

或問甲出西門南行四百八十步而止乙從艮隅東行八十步望見甲問答同前

法曰倍南行步以東行步乘之爲實東行步爲從方一步常法得全徑

艸曰立天元一爲全徑以減於二之甲南行步得��爲兩个大差也以乙東行步乘之得��爲圓徑冪【寄左】然後以天元冪與左相消得丨��以帶縱平方開之得二百四十步卽城徑也合問

又法半之乙東行步乘南行步爲實半之乙東行步爲從一步常法得半徑

艸曰立天元一爲半城徑減甲南行步得��爲大差也以半之東行步乘之得��卽半徑冪【寄左】然後以天元冪爲同數與左相消得丨��開帶縱平方得一百二十步倍之卽城徑也合問

或問甲出西門南行四百八十步而止乙從艮隅亦南行一百五十步望見甲問答同前

法曰兩行步相乘爲實南行步爲從方一爲隅得半徑

艸曰立天元一爲半城徑以減乙南行步得��爲半梯頭以甲行步爲梯底以乘之得��爲半徑冪【寄左】然後以天元冪與左相消得丨��開帶縱平方得一百二十步倍之卽城徑也合問

或問甲出西門南行四百八十步乙出東門直行一十六步望見甲問答同前

法曰以四之東行步乘南行冪爲實從空東行爲亷一步爲隅法得全徑

艸曰立天元一爲圓徑加乙東行步得��爲中勾其甲南行卽中股也置東行步爲小勾以中股乘之得�合以中勾除今不受除便以爲小股也【內寄中勾分母】乃復以中股乘之得三百六十八萬六千四百又四之得一千四百七十四萬五千六百爲一段圓徑冪【寄中勾分母寄左】然後以天元徑自之又以中勾乘之得��爲同數與左相消得丨���以縱立方開之得二百四十步爲城徑也合問

按不受除者無可除之理也凡二數此數於彼數有可除之理則受除無可除之理則不受除也蓋除有法有實實可二法不可二此題以中勾爲法而中勾內有一元又有十六步其爲數已二矣又何以均分不一之數乎故曰不受也寄分者姑寄其應除之數也俟求得兩相等數而此數內尙少一除不除此而轉乘彼則兩數仍相等猶之受除者也此所謂以乘代除也

或問乙出南門東行七十二步而止甲出西門南行四百八十步望乙與城防相直問答同前

法曰以乙東行冪乘甲南行爲實乙東行冪爲從方甲南行步內減二之東行步爲益亷一步常法得半徑

艸曰立天元一爲半城徑以減南行步得��爲小股又以天元加乙東行步得��爲小勾又以天元加南行步得��爲大股乃置大股在地以小勾乘之得下式丨��合以小股除之今不受除便以爲大勾【內寄小股分母】又置天元半徑以分母小股乘之得��以減大勾得���爲半个梯底於上以乙東行七十二步爲半个梯頭以乘上位得���爲半徑冪【內寄小股分母】寄左然後置天元冪又以分母小股乘之得���爲同數與左相消得����以立方開之得一百二十步倍之卽城徑也合問

又法曰以二數相乘爲實相減爲從一虛法平開得半徑

艸曰別得二數相並爲大股內少一虛勾其二數相減爲大差也立天元一爲半徑副置之上位減於四百八十得��爲股圓差【卽大差股也】下位加七十二得��與股圓差相乘得下式���爲一大差積【寄左】再以大差勾減於大差股余��爲較又加入大差四百單八共得��爲較共也以天元乘之得��爲同數與左相消得���以平方開之得一百二十步卽半徑合問前法太煩故又立此法以就簡也

或問乙出南門東行不知步數而立甲出西門南行四百八十步望見乙與城防相直又就乙行四百零八步與乙相防問答同前

法曰二行步相減以乘甲南行步爲實甲東行步內減相減步爲益方一步常法得半徑

艸曰識別得二行相減餘七十二步卽是乙出南門東行數也更不湏用遂立天元一爲半城徑加乙東行得��爲小勾也副置南行步上減天乙得��爲小股下加天元得��爲大股乃置大股以小勾乘之得下式丨��合以小股除之今不受除便以此爲大勾也【內帶小股分母】又倍天元以小股乘之得下式��以減於大勾得���爲勾圓差也合以股圓差乘之緣此勾圓差內已帶小股分母【小股卽股圓差也】更不湏乘便以此爲半段黃方冪【更無分母也】寄左乃以天元自之又倍之得��爲同數與左相消得���以平方開之得一百二十步倍之卽城徑也合問

或問乙出東門直行不知步數而止甲出西門南行四百八十步望見乙復就乙斜行五百四十四步與乙相會問答同前

法曰半南行步減半斜行步以乘南行步爲實從方空半斜行半南行相減得數加入南行步爲隅法得半徑

艸曰識別得二行相減餘六十四步卽半徑爲股之勾也立天元爲半徑就以爲小股其二行相減餘六十四步卽小勾也乃置甲南行步加天元得下式��爲大股以小勾乘之得��又以小股除之得��爲大勾又倍天元一減之得下式���爲勾圓差也半之得���於上乃以天元減甲南行步得��爲股圓差以乘上位得丨�○�爲半徑冪【寄左】然後以天元冪與左相消得下式���以平方開之得一百二十步倍之卽城徑也合問

按此問以小股爲除法蓋因小股只一天元其數不二猶有可除之理也然得數降於實數之下者皆不可以命名至開方時仍湏各升一位以計之是兩邊各加一乘猶是寄分之理也

又法以二數差乘二數並開方得邊勾復以邊股乘之爲實並二數而半之爲法實如法得二百四十步卽城徑【此蓋用前勾上容圓法也】

或問乙從幹地東行不知幾步而止甲出西門南行四百八十步望見乙復就乙斜行六百八十步與乙相防問答同前

法曰並二行數以二行差乘之內減二行差冪爲實並二行步及二行差爲從方二步常法得半徑艸曰識別得二行相減餘二百步卽半圓徑與小差勾之共數也立天元一爲半城徑加於二百步得��爲大勾也又以天元加於甲南行步四百八十得��卽大股也乃以大勾自之得丨��爲勾冪【寄左】乃置乙斜行六百八十步爲大加入大股共得��於上再置二行差內減天元得��爲小差勾卽股較以乘上位得���爲同數與左相消得���以平方開之得一百二十步倍之卽城徑也合問

又法求小差二行相減以自之又四之爲實二行相減八之於上二之南行步內減二之二行相減數又以加上位爲益方二步常法

艸曰立天元一爲小差減二行差得��爲半城徑以自之得丨��又四之得���爲圓徑冪【寄左】然後以半城徑減於甲南行得��又倍之得��爲兩个大差也又以天元乘之得��○爲同數與左相消得下式���以平方開之得八十步爲小差也

或問乙出南門南行不知步數而立甲出西門南行四百八十步望乙與城防相直復就乙斜行二百五十五步與乙相防問答同前

法曰甲南行內減二之兩行差余以乘甲南行又倍之爲實二步爲隅得半徑

艸曰別得二行步相減餘二百二十五步乃是半徑爲勾之股也立天元一爲半城徑就以爲小勾率其二行差二百二十五步卽爲小股率乃置甲南行步加入天元得��爲大股以天元小勾乘之得丨�合以小股除今不受除【按此所謂不受除乃其數奇零不能盡非無可除之理也與前辭同而意異】便以此爲大勾【內寄小股分母】乃倍天元以小股乘之得�以減大勾余丨�爲一个小差於上【內寄小股分母】乃以天元減甲南行步得��爲大差也以乘上位得���又倍之得���爲圓徑冪【內寄小股分母】寄左然後倍天元以自之又以小股乘之得��爲同數與左相消得�○�以平方開之得一百二十步倍之卽城徑也合問

按此題止用股求勾法卽得城半徑其必展轉數次而後始得者益見其爲發明立天元一之術使人易曉也後多有仿此者

或問乙出南門直行一百三十五步而止甲出西門南行四百八十步望乙與城防相直問答同前

法曰二行步相減余以自乘內減乙行冪爲實二之甲南行爲益從一步常法得半徑

艸曰立天元一以爲半徑便以爲勾率又以天元加乙行步並以減於甲行步得��爲股率乃置乙南行步一百三十五步爲小股以勾率乘之得�合以股率除之今不受除乃便以此爲小勾【內寄股率分母】又置乙南行步加二天元得��爲大股以勾率乘之得��合以股率除之今不受除便以此爲大勾【內寄股率分母】以小勾大勾相乘得���爲半徑冪【內帶股率冪爲分母】寄左然後置天元以自乘又以股率冪乘之得丨���爲同數與左相消得���以平方開之得一百二十步倍之卽城徑也合問

按此艸得數爲九百六十立方少一三乘方與十萬零八百平方等皆虛數也各降二位卽如各以平方除之乃爲九百六十元少一平方與十萬零八百步等兩數等所降之位又等則兩數仍相等而實積步數乃出矣故可以帶縱平方開之也此系降位而得實數者與前升位而得實數者其理互相發明艸中不言蓋以爲不待於言也

或問甲乙二人同出西門向南行至西南十字道口分路乙折東行一百九十二步而立甲又南行甲通行四百八十步望乙與城防相直問答同前

法曰兩行相乘得數又以乙東行乘之爲實二行相乘於上位又置乙東行以二行相減數乘之得數加上位爲法

艸曰立天元一爲半城徑副置上位加南行步得��爲大股也下位減於甲行步得��爲小股也其乙東行卽小勾也置大股以小勾乘之得��內寄小股��爲母便以爲大勾也置天元以母通之得��減於大勾得丨��爲半个矮梯底於上再置乙東行內減天元得下式��爲半个矮梯頭以乘上位得下式����爲半徑冪寄左再置天元以自之爲冪又以分母乘之得���爲如積與左相消得��上法下實得一百二十步卽城之半徑也合問

按艸中相消法皆得兩邊數此獨得一邊二數蓋此條共數比彼條共數少一數又多一數爲相等則多少二數其必爲相等無疑矣多少數多者亦仿此此又相消法中之一變也

又法二行步相乘爲實倍甲南行內減乙東行爲法艸曰立天元一爲半城徑副置上位加甲南行得��爲大股下位減甲行步得��爲小股便是股圓差也其乙東行卽小勾也置大股以小勾乘之得��內寄小股��爲母便以爲大勾也再置天元以二之又以分母乘之得��爲全徑以減於大勾余���爲勾圓差也合以股圓差乘之緣內已有小股分母不湏乘便以此爲兩段之半徑冪也更無分母【寄左】然後置天元冪以二之得��爲如積以左相消得��上法下實得一百二十步卽半城徑也合問

或問見邊股四百八十步�三十四步問答同前【此題在甲乙二人同出西門南行至十字道乙折東行一百九十二步而立甲又南行甲通行四百八十步望見乙與城防相直之後】

法曰�乘邊股半之爲實半�半邊股相並爲從半步隅法平方得�股

艸曰立天元一爲�股加�得��爲平勾也又以天元減邊股而半之得��爲髙股也平勾髙股相乘得���爲半徑冪【寄左】然後以天元乘邊股得�爲同數與左相消得下式���開平方得�股三十步以乘邊股開平方倍之卽圓城徑也合問按此問原稿在三卷末

或問見邊股四百八十明一百五十三問答同前法曰二云數相減復倍之內減邊股復以邊股乘之於上又以明冪乘上位爲實以邊股乘明冪又二之爲從二云數相減余以自之爲第一亷二云數相減又倍之爲第二益亷一常法開三乘方得明勾艸曰立天元一爲明勾加明得��爲髙股也以髙股減邊股余��爲髙以倍之得��爲黃廣也內減邊股得��爲�股復以邊股乘之得��於上又以明自乘得二萬三千四百零九爲分母以乘上位得��爲分半徑冪【寄左】然後置黃廣以天元乘之得��復合以明除之不除寄爲母便以此爲全徑又半之得��爲半徑以自之得���爲同數與左相消得下式丨����開三乘方得七十二步卽明勾也餘各依法求之合問

又法邊股內減二明以邊股乘之復以明冪乘之爲三乘方實亷從並同前

艸曰識別得二數相減余爲髙股虛共又爲髙明勾共此餘數內又去半徑卽明和也明和明相並卽股圓差相減則明黃方也又倍明加明黃亦得股圓差也邊股內減明勾余卽大差也立天元一爲明勾減於云數相減數得��卽髙也以髙減邊股得��卽髙股也以髙股減於云數相減數得��卽虛也以天元又減虛得��卽�股也乃置髙以天元乘之得��合明除之不受除便以此爲髙勾也【卽半徑】髙勾自之得丨���爲半徑冪【內帶明冪分母】寄左然後置邊股以�股乘之得��爲半徑冪又以明冪二萬三千四百零九分母通之得��爲同數與左相消得實從亷隅五層如前式

或問邊股四百八十步髙二百五十五步問答同前法曰以邊股減於二之髙復以邊股乘之開平方得半徑

艸曰立天元一爲半徑先倍髙內減邊股余�復以邊股乘之得��寄左以天元冪與左相消得丨��開平方得數倍之卽城徑也合問

或問邊股四百八十步平一百三十六步答問同前法曰置平以邊股再乘之爲實以邊股自之爲益從平爲益亷一虛隅開立方得半徑

艸曰別得平卽皇極勾也立天元一爲半徑副之上位加平得��卽邊勾也下位減於平得��卽�勾也置�勾以邊股乘之得��合邊勾除今不受除寄爲母便以此爲�股乃以此邊股乘之得��爲半徑冪【內邊勾分母】寄左然後以天元爲冪以分母邊勾乘之得丨��爲同數與左相消得丨���開立方得一百二十步倍之卽城徑也合問

或問邊股四百八十步明股明和二百八十八步問答同前

法曰以云之云數相減余加邊股復以減余乘之訖又折半於上又以減余自之減上位爲實並云數半之爲法得明勾

艸曰別得二數相減余爲大差勾立天元一爲明勾減於大差勾得��卽半徑也又以天元減半徑得��爲虛勾於上又以半徑加邊股得��爲通股於下上下相乘得���折半得丨��爲半徑冪【寄左】然後以半徑冪丨��爲同數與左相消得��上法下實得七十二步卽明勾也合問

或問見邊股四百八十步�勾�和五十步問答同前

法曰半邊股半和步相並得爲泛率以泛半減邊股以自之又二之於上以和步乘泛率減上位爲實以泛率減邊股六之於上內又加半个邊股三个和步爲益從三步常法得�股

艸曰別得和步得�股卽小差也小差邊股共卽二中差【按此句誤】立天元一爲�股加和步得��卽小差也以小差加邊股而半之得��卽中差也中小差相並得��卽大差也以小差乘之得���爲半段徑冪【寄左】然後置邊股內減大差得��爲半徑以自之得���又倍之得下式���與左相消得下式���開平方得三十步卽�股也合問按艸云以小差邊股共卽二中差有誤蓋中差卽勾股較小差卽股較邊股卽勾較與容圓半徑和若設勾二十股二十一二十九則勾較九容圓半徑六並之得十五爲邊股股較八爲小差小差邊股共得二十三勾股較一爲中差倍之僅得二則相差二十一矣是知細艸乃因題數之偶合而誤非正法也今依其術另設法艸於後以補其闕

法曰以�勾和自之邊股再乘爲實倍邊股加�勾和再以�勾和乘之爲從又倍�勾和減邊股余爲益亷一爲隅縱立方開之得�股艸曰別得邊股卽髙股和�股卽髙股差�股和卽平勾也立天天一爲�股自之得丨�應以�勾和除之不除便以爲�勾較【內寄�勾和分母】轉以�勾和自之得�爲�勾和加�勾較得丨○�爲倍�又以�勾和分母乘倍�股得�爲倍�股與倍�相加得丨��爲倍�股和卽倍平勾又於邊股內減�股得��爲倍髙股倍髙股倍平勾相乘得����爲圓徑冪寄左又以邊股�股相乘得�爲半徑冪四因之得�爲圓徑冪又以�勾和分母乘之得�爲同數與左相消得丨���開帶縱立方得�股三十步合問

測圓海鏡卷三﹤子部﹐天文算法類﹐算書之屬﹐測圓海鏡﹥

欽定四庫全書

測圓海鏡卷四

元李冶撰

底勾一十七問

或問乙出南門東行不知步數而立甲出北門東行二百步見之就乙斜行二百七十二步與乙相防問答同前

法曰二行差數乘甲東行又四之爲平方實得全徑艸曰識別得二行相減余卽乙出南門東行數也以甲東行減於就乙斜行餘七十二步以乘甲東行步得一萬四千四百步又四之得五萬七千六百步爲實以平方開之得二百四十步卽城徑也合問

或問乙從坤隅南行三百六十步甲出北門東行二百步見之問答同前

法曰二行步相乘倍之爲實乙南行爲從一步常法得城徑

艸曰立天元一爲城徑以減於二之甲東行步得【�】�爲兩个小差以乙南行步乘之得��爲城徑冪【寄左】然後以天元冪丨�與左相消得丨��以平方開之得二百四十步卽城徑也合問

又法半之乙南行步乘甲東行爲實半乙南行爲從一步常法得半徑

艸曰立天元一爲半城徑減甲東行得��爲小差半乙南行步得一百八十步以乘小差得��爲半徑冪【寄左】然後以天元冪丨�與左相消得下式丨��以平方開之得一百二十步倍之卽城徑也合問

或問乙從坤隅東行一百九十二步而止甲出北門東行二百步見乙問答同前

法曰兩行步相乘爲實甲東行爲從乙爲隅得半徑艸曰立天元一爲半徑減於乙東行得��以甲行步乘之得��爲半徑冪【寄左】然後以天元冪丨�與左相消得丨��以平方開之得一百二十步倍之卽城徑也合問

或問乙出南門直行一百三十五步甲出北門東行二百步見乙問答同前

法曰以乙南行步乘甲東行冪又四之爲實從空乙行爲亷一步常法得城徑

艸曰立天元一爲城徑加乙南行得��爲股率其甲東行卽勾率也其乙南行�爲小股以勾率乘之得�合以股率除今不除受便以此爲小勾【寄股率爲母】乃以甲東行步乘之得�又四之得�爲一段城徑冪【寄左】然後以天元城徑自之又以股率分母通之得丨��爲同數與左相消得下式丨���以立方開之得二百四十步卽城徑也合問

又法二行相乘又以自乘爲實以二行相乘倍之爲益方南行冪爲亷八步益隅立方開得小勾七十二艸曰立天元一爲小勾以南行爲小股以東行二百步爲大勾也置大勾內減天元得��爲中勾也以小股乘之得��以天元小勾除之得��爲中股卽城徑也以自之得���爲城徑冪也【寄左】又以天元小勾乘通勾二百步得�又四之得�爲同數與左相消得����開立方得七十二步卽小勾也以乘通勾二百步爲實平方開得一百二十步倍之卽城徑也合問

又法求半徑以南行步乘東行冪爲實從空東行步爲亷二步常法得半徑

艸曰立天元一爲半徑以二之加南行步得��爲股率以東行�爲勾率以南行爲小股也置小股以勾率乘之得�以股率除之不受除只寄股率分母便以此爲小勾也又以勾率乘之得下式�爲半徑冪【寄左】再立天元半徑以自之又以分母股率乘之得���爲同數與左相消得����開立方得一百二十步倍之卽城徑也合問

或問乙出東門南行三十步而止甲出北門東行二百步望乙與城防相直問答同前

法曰以甲東行步乘乙南行冪爲實以乙南行冪爲從甲東行內減二之乙南行爲益亷一步隅得半徑艸曰立天元一爲半城徑減於甲東行步得��爲小勾以天元加於乙南行步得��爲小股乃以天元加東行步得��爲大勾置大勾以小股乘之得丨��合以小勾除之今不受除便以此爲大股【內帶小勾分母】又置天元半徑以分母小勾乘之得��減於大股余���以乙南行步乘之得���爲半徑冪【內有小勾分母】寄左然後以天元爲冪又以小勾通之得���爲同數與左相消得下式����以立方開之得一百二十步倍之卽城徑也合問【翻法在記】

又法乙南行乘甲東行爲平實二數相減爲法一隅翻開得半徑

艸曰別得二數相並爲大勾內少一虛股其二數相減爲小差也立天元一爲半徑副置之上位減於二百步得��爲勾圓差【卽小差勾也】下位加三十步得��爲小差股勾股相乘得���爲一段小差積【寄左】再以小差勾減小差股余��爲一較也又以此較減於小差得下式��爲一个較較以天元一乘之得下式��爲同數與左相消得���開平方得一百二十步卽半城徑也合問【翻法在記】再立此法者蓋從簡也

按此乃以小差勾爲平上較較半徑爲平股故以小差上較較與半徑相乘等於平上較較與小差股相乘爲一段小差積也

或問乙出東門南行不知步數而立甲出北門東行二百步望乙與城防相直復就乙斜行一百七十步與乙相防問答同前

法曰以二行差乘甲東行爲實甲就乙斜行爲方一步常法得半徑

艸曰識別得二行相減餘三十步卽乙出東門南行步也【更不湏用】立天元一以爲半城徑加乙南行得��爲小股副置甲東行步上位減天元得下式��爲小勾下位加天元得��爲大勾也乃置大勾以小股乘之得下式丨��合以小勾除不受除便以此爲大股【內小勾分母】又倍天元以小勾乘之得��以減於大股得���又倍之得下���爲兩个股圓差合以勾圓差乘之緣爲其中已帶小勾分母更不須乘便以此爲黃方冪【更無分母】寄左然後倍天元以自之得��爲同數與左相消得���上下俱半之【俱半之者蓋從簡也】得���以平方開之得一百二十步倍之卽半徑也合問

或問乙出南門直行不知步數而止甲出北門東行二百步見之復就乙斜行四百二十五步與乙相防問答同前

法曰倍兩行差以乘二之甲東行爲實從空四之甲東行於上倍兩行差加上位爲隅得半徑

艸曰識別得二行差二百二十五步卽半徑爲勾之股也立天元一以爲半徑便是小勾其二行差便是小股乃置甲東行步加天元得��爲大勾以小股乘之得下式��又以小勾除之得��爲大股又倍天元以減之得���爲股圓差又倍之得���爲兩个股圓差於上乃以天元減甲東行得��爲勾圓差以乘上位得下式��○�爲城徑冪【寄左】然後倍天元一以自之得��爲同數與左相消得���開平方得一百二十步倍之卽城徑也合問【按此系得數各升一位然後開平方】

又法並二數以二數差乘之開方得底股復以甲東行二百步乘之爲實並二數而半之以爲法如法得二百四十步卽城徑也合問【此用股上容圓求之比前法極爲簡易】

或問乙從幹隅南行不知步數而止甲出北門東行二百步望見之復就乙斜行六百八十步與乙相會問答同前

法曰並二行以二行差乘之內減二行差冪爲實並二行步及二行相減數【按卽倍乙斜行】爲從二步常法得半徑

艸曰識別得斜行六百八十步卽大也其二行相減餘四百八十步卽乙南行步內減半徑也立天元一爲半城徑副置之上位加二行相減數得��爲大股也下位加甲東行步得��爲大勾也乃以大股自增乘得丨��爲大股冪【寄左】乃並大勾大得��於上又以大勾減大得��爲大差以乘上位得���爲同數與左相消得���開平方得一百二十步倍之卽城徑也合問

又法求大差

法曰二行差自乘爲實置二之二行差於上乃以甲東行步減二行差又半之以減於上爲益方【按三因斜行步二因東行步相減折半亦同】半步常法

艸曰立天元一爲大差減於二行差得��爲半城徑以自之得丨��爲半徑冪【寄左】乃以半城徑減於甲東行得下式丨�爲小差又以天元乘之得丨�又以半之得��爲同數與左相消得下式���以平方開之得三百六十步卽大差也合問

或問乙出東門不知步數而立甲出北門東行二百步望乙與城參相直復就乙斜行一百三十六步與乙相防問答同前

法曰甲東行步內減二之二行差【按倍斜行步內減東行步亦同】余以乘甲東行爲實一步常法得半徑

艸曰別得二行相減餘六十四步卽半徑爲股之勾立天元一爲半城徑就以爲股率其二行差卽勾率也乃置甲東行步加天元得��爲大勾以天元股率乘之得丨�合以勾率除之不受便以此爲大股【內勾率分母】乃倍天元以勾率乘之得�以減大股得丨�爲一个大差於上【內勾率分母】乃以天元減甲東行得��爲小差以乘上位���爲半段黃方冪【內寄勾率爲母】寄左然後以天元自之又以勾率乘之又倍之得��爲同數與左相消得下式丨��以平方開之得一百二十步倍之卽城徑也合問

或問乙出東門直行一十六步而止甲出北門東行二百步望見乙與城參相直問答同前

法曰二行步相減余以自乘內減乙東行冪爲實二之甲東行爲益從一步隅法得半徑

艸曰立天元一以爲半城徑加乙行步並以減於甲行步得��爲平勾率其天元半徑卽平股率也乃置乙東行一十六步爲小勾以股率乘之得�合以勾率除之今不受除便以此爲小股【內帶勾率分母】又置乙東行加二天元得��爲大勾以股率乘之得��合以勾率除之今不受除便以此爲大股【內寄勾率爲母】以此小股大股相乘得���爲半徑冪【內寄勾率冪爲母】寄左然後以勾率冪乘天元冪得丨���爲相同數相消得����開平方得一百二十步倍之卽城徑也合問【按此系得數各降二位然後開平方】

或問甲乙二人同出北門向東行至東北十字道口分路乙折南行一百五十步而立甲又向東行甲前後通行了二百步廻望乙恰與城相直問答同前法曰以二行步相乘於上又以南行步乘之爲實二行步相乘於上又以乙南行減於甲東行得數復以乙南行乘之加上位共爲法得半徑

艸曰立天元一爲半城徑副之上位加甲行步得��爲大勾也下位減於甲行步餘��爲小勾也其乙折南行卽小股也置大勾以小股乘之得��內寄小勾��爲母便以爲大股也再置天元以母乘之得��減於大股余丨��爲半个矮梯底於上【內寄小勾爲母】再置乙折行步內減天元得��爲半个矮梯頭以乘上位得����爲半徑冪【寄左】乃以小勾分母乘天元冪得下式���爲同數與左相消得��上法下實如法而一得一百二十步卽城之半徑也合問

又法

法曰二行步相乘爲實倍甲東行內減乙南行爲法

艸曰立天元一爲半圓徑副之上位加甲東行得��爲大勾下位減甲東行得��爲小勾此小勾便是勾圓差也其乙南行卽小股也置大勾以小股乘之得下式��內寄小勾��爲母便以爲大股也再置天元以二之又以分母乘之得��爲全徑以減於大股余得���爲股圓差也合以勾圓差乘之緣內已有小勾分母故不湏再乘便以此爲兩段之半徑冪也更無分母【寄左】再置天元以自之又二之得��爲同數與左相消得��上法下實一百二十步卽半城徑也合問

或問見底勾二百步明一百五十三步問答同前法曰半底勾乘明爲平實並二云數而半之爲從五分常法得明勾

艸曰立天元一爲明勾加明得��爲髙股也又以天元減底勾而半之得下式��爲平勾也勾股相乘得���爲半徑冪【寄左】然後以天元乘底勾得下式�爲同數與左相消得���開平方得七十二步卽明也以明乘底勾爲平方實如法開之得一百二十步倍之卽城徑也合問

或問見底勾二百步�三十四步問答同前

法曰底勾�相減余倍之內減去底勾【按倍�減底勾亦同】復以底勾乘之於上又以�冪乘上位爲三乘方實倍底勾以�冪乘之爲從二云數相減余以自之爲第一亷二云數相減余又倍之爲第二益亷一步隅法得�股

艸曰立天元一爲�股加�得��爲平勾以平勾減底勾余��爲平以倍之得��爲黃長也此內卻減底勾余得下式��爲明勾也復以底勾乘之得��於上又�自乘得一千一百五十六爲分母以乘上位得��爲帶分半徑冪【寄左】然後置黃長以天元乘之得��合以�除之不除寄爲母便以此爲全徑也以半之得��爲半徑【內帶�分母】以自之得丨���爲同數與左相消得丨����開三乘方得三十步卽�股也餘各依數求之合問

又法底勾內減二�復以底勾乘之復以�冪乘之爲三乘方實余亷從並與前同

艸曰識別得二數相減餘一百六十六爲平勾虛共又爲平�股共於此餘數內又去半徑卽�和也�和�相並卽勾圓差也相減則�黃方也又倍�加�黃亦得勾圓差也底勾內減�股余卽小差也立天元一爲�股減於云數相減數得��爲平以平減底勾得��卽平勾以平勾減於云數相減數得��卽虛以天元又減虛得��卽明勾也乃置平以天元乘之得��合�除不除寄爲母便以此爲平股也【卽半徑】平股自之得丨���○爲半徑冪【內帶�冪分母】寄左然後置底勾以明勾乘之得��又以�冪一千一百五十六通之得下式��爲同數與左相消得丨����亷從一一如上

或問見底勾二百步平一百三十六步問答同前法曰倍平內減底勾復以底勾乘之開平方得半徑

艸曰立天元爲半徑先倍平內減底勾余�爲明勾復以底勾乘之得�爲半徑冪【寄左】然後以天元冪爲同數與左相消得丨��開平方得一百二十步又倍之卽城徑也合問

或問底勾二百步髙二百五十五步問答同前法曰底勾冪乘髙爲立實底勾冪爲從髙爲亷一爲隅得半徑

艸曰識別得髙卽皇極股也立天元一爲半徑副之上位加髙得��卽底股也下位減於髙得��卽明股也置明股以底勾乘之得��合以底股除不除寄爲母便以此爲明勾又以底勾乘之得��爲半徑冪【內帶底股分母】寄左然後以天元冪乘底股得丨��與左相消得丨���開立方得一百二十步倍之卽城徑也合問

或問底勾二百步�勾�和五十步問答同前法曰以二云數相減余加底勾復以減余乘之半之於上以減余自之減上位爲實並云數半之爲法得�股

艸曰別得二數相減余爲小差股立天元一爲�股減於小差股得��卽半徑也又以天元減半徑得��爲虛股於上又以半徑加底勾得��爲通勾於下上下相乘得���折半得丨��爲半徑冪【寄左】然後以半徑自之得下式丨��爲同數與左相消得��上法下實得三十步卽�股也合問

或問見底勾二百步明股明和二百八十八步問答同前

法曰二數相減又半之得數又減於底勾余爲泛率以泛率自之又倍之於上位又二數相減而半之以乘和步所得減於上倍爲實倍泛率於上位又半底勾減和步加上位爲法得明勾

艸曰別得和步得明勾爲大差也大差得底勾爲二中差立天元一爲明勾加和步得��爲股圓差也【卽大差】內又加底勾得�折半得��卽通勾通股差也【此卽中差】置大差減中差得下��卽小差也大小差相乘得���爲半段圓徑冪【寄左】乃置底勾內減小差得��爲半徑以自之得���倍之得下式���爲同數與左相消得��上法下實得七十二步卽明勾也合問

按此條法艸與三卷末以小差邊股共爲二中差者同誤依問另設於後

法曰以底勾乘明股和冪爲實倍底勾以明股和乘之加入明股和冪爲從倍明股和內減底勾爲亷一爲隅開帶縱立方得明勾

艸曰別得明得明勾爲髙股髙勾卽半徑也底勾爲平勾和明勾爲平勾較平股卽半徑也立天元一爲明勾自之得丨�應以明股和除之不除便以爲明股較【內寄明股和分母】明股和自之得�爲股和以加股較得丨��爲倍明以分母乘倍天元得�爲倍明勾與倍明相加得丨��爲倍髙股置底勾減天元得��爲倍平勾與倍髙股相乘得����爲城徑冪【內寄明股和分母】寄左又倍天元與倍底勾相乘得�以寄分母乘之得�爲相同數與左相消得丨���開立方得明勾合問

測圓海鏡卷四

欽定四庫全書

測圓海鏡卷五

元李冶撰

大股一十八問

或問乙出南門直行一百三十五步而立甲從幹隅南行六百步望乙與城參相直問答同前

法曰倍二行差內減甲南行步復以乘甲南行步爲實【倍二行差減甲南行步卽是甲南行步內減二之乙南行也】四之甲南行步內減二之乙南行爲從方四爲益隅開平方得半徑艸曰立天元一爲半徑以二之加乙南行步得��爲中股以中股又減於甲南行步得��爲股率其天元半徑卽勾率也置甲南行爲大股以勾率乘之得�合以股率除之不受除便以此爲大勾【內股率分母】再置天元以二之以股率乘之得��減於大勾余��爲勾圓差於上【內有股率分母】又以二之天元減甲南行得��爲大差以乘上位得���爲半段黃方冪【內寄股率分母】然後以天元自之又以股率乘之又倍之得���爲同數與左相消得下式���開平方得一百二十步倍之卽城徑也合問

或問乙出南門東行七十二步而止甲從幹隅南行六百步望乙與城參相直問答同前

法曰云數相乘爲平實甲南行爲從二益隅得半徑艸曰別得虛勾乘通股得半段圓徑冪此與虛股乘通勾同立天元一爲半徑內減乙東行得��爲虛勾以乘甲南行得��爲半段徑冪【寄左】再以天元爲冪又倍之得��爲同數與左相消得���開平方得一百二十步卽城徑也合問

或問乙出東門直行一十六步甲從幹隅南行六百步望見乙問答同前

法曰以乙東行乘甲南行冪爲實二之乙東行乘甲行爲從方亷空二步隅法得半徑

艸曰立天元一以爲半城徑以二之加於乙東行得��爲勾率又以天元減甲南行得��爲股率乃置乙東行以股率乘之得��合以勾率除不除便以此爲小股此小股卽半梯之頭也【內帶勾率分母】又以股率乘之【此股率卽半梯之底也】得���爲半徑冪【內帶勾率分母】寄左然後置天元冪以勾率通之得���爲同數與左相消得�○��開立方得一百二十步倍之卽城徑也合問

或問乙出東門南行三十步而立甲從幹隅南行六百步望見乙問答同前

法曰二行步相乘爲寶以南行爲從一步常法得半徑

艸曰立天元一爲半徑以減於甲南行得��爲半梯底以乙南行三十步爲半梯頭以乘之得��爲半徑冪【寄左】乃以天元冪與左相消得丨��開平方得一百二十步卽半城徑也合問

或問乙從艮隅南行一百五十步而立甲從幹隅南行六百步望見乙問答同前

法曰二行步相乘爲實並二行步爲法得半徑艸曰立天元一爲半徑副置之上以減於乙南行得��爲半梯頭下以減於甲南行得��爲半梯底上下相乘得丨��爲半徑冪【寄左】乃以天元冪與左相消得下式��上法下實如法而一得一百二十步倍之卽城徑也合問

或問乙從艮隅東行八十步而立甲從幹隅南行六百步望見乙問答同前

法曰二行步相乘又倍之爲實二之乙東行爲從一步常法得全徑

艸曰別得乙東行八十步卽小差也立天元一爲城徑減於甲南行步得��爲大差以乙東行步乘之得��又倍之得��爲城徑冪【寄左】然後以天元冪與左相消得丨��開平方得二百四十步卽城徑也合問

或問南門東不知逺近有樹甲從幹隅南行六百步望樹與城防相直復就樹斜行四百八步至樹問答同前

法曰南行步冪內減兩段兩行相乘數爲實二之南行步爲從一步益隅得城徑

艸曰別得南行步內減城徑卽小股也其斜行步卽小也又二行相減卽大差爲股之勾也立天元一爲圓徑以減南行步得��爲股圓差也【合爲小股】置南行步以斜行步乘之得�合以小股除之不受除便以此爲大【內帶小股分母】再置南行步以小股乘之得��爲大股【亦帶小股分母】以大股減大得��爲小差也合以大差乘之緣於內帶大差分母更不湏乘便以爲半段黃方冪【更無分母】又二之得��爲一段黃方冪【寄左】然後以天元冪爲同數與左相消得���開平方得二百四十步卽城徑也合問

依前問假令乙出南門東行不知步數而立甲從幹南行六百步望乙與城相直復就乙斜行四百八步【按此卽前問以明又法】

法曰二行差冪乘甲南行爲實二之二行差以乘南行步爲益方二之二行差爲隅得半徑

艸曰識別得二行相減卽半城徑與乙東行共也得此數更不須用斜立天元爲半徑減於二行差一百九十二得��卽半梯頭也又以二天元減甲南行步得��爲股率又以一百九十二爲勾率乃置甲南行以勾率乘之得�合股率除不除便以此爲大勾【內寄股率分母】再置天元以股率乘之得��以減於大勾得���爲半梯底也頭底相乘得下����爲半城徑冪【內寄股率分母】寄左然後以股率乘天元冪得���爲同數與左相消得���開平方得一百二十步倍之卽城徑也合問

或問東門南不知逺近有樹甲從幹隅南行六百步見樹復向樹斜行五百一十步至樹問答同前

法曰二行差步乘甲南行步爲實二行之差步並甲南行步爲從二益隅【若欲從簡上下俱折半】

艸曰別得二行相減數卽虛積之股也立天元一爲半徑內減二行之差步得��爲梯頭於上又以天元減於甲之南行步得��爲梯底上下相乘得���爲圓徑冪【寄左】然後以天元冪與左相消得���開平方得一百二十步卽城徑也合問

或問乙出東門直行不知步數而立甲從幹隅南行六百步望見乙復就乙斜行五百四十四步與乙相防問答同前

法曰以二行步相減乘甲南行步得數又半之南行步以乘之爲實以二行差乘南行步於上又以半之南行步乘南行步加於上爲從方二之南行步爲益亷一步常法得半徑

艸曰別得二行相減卽半徑上勾股較【此股卽半徑也】又別得是大勾圓差不及平數立天元一以爲半城徑以減南行步得��爲中股其斜行步卽中也乃立半城徑以斜步乘之得�合以中股除今不受除便以此爲平【內帶中股分母】又以二行步相減餘五十六步爲勾圓差不及平數置此數以中股乘之得��復以減平余得��爲小差【內帶中股分母】乃以二天元減甲南行步得��爲大差又半之得��以乘小差得���爲半徑冪【寄左】然後以天元自乘又以中股通之得���爲同數與左相消得丨���開立方得一百二十步倍之卽城徑也合問【翻法在記】

或問甲乙二人俱在幹隅乙東行不知步數而立甲南行六百步望見乙復就乙斜行六百八十步與乙相會問答同前

法曰以二行差乘二行並開平方得數內復減二行差得全徑

艸曰別得二行相減卽勾圓差也先求大勾立天元一爲大勾以二行相減餘八十步以乘二行相並數一千二百八十步得�爲勾冪開平方得三百二十步卽大勾也大勾內減去勾圓差餘二百四十步卽城徑也合問

或問南門外不知逺近有樹甲從幹隅南行六百步望樹與城防相直復就樹斜行二百五十五步至樹問答同前

法曰倍二行相減數內減甲南行得數復以乘甲南行爲實倍二行相減數爲從二步益隅得半徑艸曰識別得斜行步乃是樹至城心之數也立天元一爲半徑加斜行步得��爲樹至城北門之步也乃以減於甲南行得��爲小股率其天元半徑卽小勾率其斜步卽小數也再置甲南行步內減天元得��爲梯底於上又置梯底內減二之小股率得��卽梯頭也復以乘上位得���爲半徑冪【寄左】然後以天元冪與左相消得下式���開平方得一百二十步倍之卽城徑也合問

或問東門外不知步數有槐樹一株甲從幹隅南行至柳樹下望見槐樹復斜行至槐樹下甲自云我共行了一千一百四十四步乙從艮隅東行望見槐樹與城相直復斜行至槐樹下乙自云我東行少不及斜行五十六步問答同前

法曰甲斜行減於甲南行以乘甲南行得數復以乘二之甲南行爲實半之甲南行以乘二之甲南行於上甲斜行減於甲南行余復以乘甲南行又倍之加上位爲從方二之甲南行爲益亷五分隅法【按五分隅法卽半个立方】

艸曰識別得五十六步是小差不及平數【此小差卽勾圓差也】又爲平上勾股差又爲甲斜行不及大股乃副置甲共行在地其上位加五十六步而半之得六百步卽大股也其下位減五十六步而半之得五百四十四步卽今也立天元一爲圓徑以半之減於甲南行步得��爲中股其斜行五百四十四步卽中也乃立半天元以斜步乘之得�合以中股除之今不受除便以此爲平【內寄中股分母】又置勾圓差不及平數以中股乘之得��復以減於平��爲小差【內帶小股分母】又以天元減甲南行倍之得��爲兩个大差以乘小差得���爲圓徑冪【寄左】然後以中股乘天元冪得下式���爲同數與左相消得����開立方得二百四十步卽城徑也合問【翻法在記】

或問出東門向南行不知步數有柳樹一株甲從幹隅南行六百步望見柳樹而止乙出東門直行不知步數望柳樹與甲相直卻斜行三十四步至柳樹下問答同前

法曰乙斜行乘甲南行數以乘甲南行冪爲實斜行乘甲南行冪又三之爲從方甲行冪內減兩段斜行南行相乘數【按甲南行內減二之乙斜行以甲南行乘之】爲第一亷二之南行步爲第二益亷二步常法得半徑

艸曰立天元一爲半徑以二之減甲南行得��爲大差以自之得���爲大差冪加於南行冪得���又半之得���爲大也內帶大差��分母別寄又置乙斜行以大股六百步乘之得�合大除不除便以此爲小股也【內帶大分母】乃以天元減甲南行得��卽半梯底也以乘小股半梯頭得��爲半徑冪於上此半徑冪內有大分母緣別寄大分母元帶大差分母故又用大差分母��乘上半徑冪得���爲帶分半徑冪也所帶之分謂只帶大分母也【寄左】然後以大乘天元冪得����爲同數與左相消得�����開三乘方得一百二十步卽半城徑也合問

按此條寄分內又帶寄分則以所帶之分乘本條仍以寄分乘次條者蓋寄分爲應除本條之數而寄分內所帶之分又爲應除寄分之數今不除寄分而乘本條則猶是寄分乘次條之理也乘除之變至斯而極矣

又法置甲南行冪於上又置甲行冪半之以乘上位爲實以斜行乘甲行冪倍之於上位又以甲行再自乘加上位爲益方置甲行冪於上以斜行乘甲南行倍之以減上位爲第一亷甲南行步爲第二亷半步常法得股圓差

艸曰立天元一爲股圓差【卽大差】以自之爲冪以加甲南行冪得丨��半之又以天元除之得���爲大其甲南行卽大股也別置乙斜行三十四步以大股乘之得�合大除不除便以爲小股【內寄大分母】乃以天元加甲南行步得��爲全梯底也以乘小股半梯頭得��又倍之得��爲城徑冪【內寄大爲母】寄左置天元大差減甲南行余��爲圓徑以自之得丨��又以大分母乘之得�����爲同數與左相消得�����開三乘方得三百六十步卽股圓差也以股圓差減甲南行餘二百四十步卽城徑也合問

或問甲從幹隅南行六百步而止丙出南門直行乙出南門東行各不知步數而立甲望乙丙悉與城防相直旣而乙就丙斜行一百五十三步相防問答同前法曰以甲南行步再自之於上以斜行步乘甲南行冪又倍之減上位爲立方實南行步自之又四之於上以斜步乘甲南行又倍之減上位爲益從六之甲行步爲從亷四步虛常法得半徑

艸曰立天元一爲半徑以二之減於甲南行得��爲大差也以自之得���爲大差冪也乃置甲南行冪內加大差冪而半之得���爲大也【內寄大差分母】又置甲南行冪內減大差冪而半之得��爲大勾也【亦帶大差分母】乃置斜行步在地以大勾乘之得��合以大除不除便以此爲小勾內帶大爲母【其大勾內元有大差分母不用】卽半梯頭也【寄上位】再寄天元半徑以大差乘之得��以減於大勾得�爲半梯底也以乘上位得���爲半徑冪也【內帶大差及大爲母】寄左然後置天元冪以大差通之又以大通之得�����爲同數與左相消得����開立方得一百二十步卽半城徑也合問

依前問假令南門外有樹乙出南門東行不知步數而立【只云乙東行步少於樹去城步】甲從幹隅向南行六百步望樹與乙悉與城防相直乙就樹斜行一百五十三步至問答同前

法曰以斜行步乘甲行冪爲立方實以甲行冪半之於上以斜行步乘甲行步減上位爲益從亷空五分隅得大勾大差

艸曰別得斜步卽小小得小和卽勾差也立天元一爲股圓差以自之爲冪副之上以加甲南行冪而半之得���爲大也【寄大差分母】下以減於甲南行冪而半之得下式���爲大勾也【寄大差分母】乃置斜步以大勾乘之得下���合以大除不除便以此爲小勾【寄大分母】又置斜步以甲南行乘之得�合以大除爲小股不除而又以同母分通之得�○爲同分小股也【內只寄大分母】注【大股乘時無大差分母故今通之以齊大勾上所有大差分母也】又置斜步以大通之得���爲通分小也三位相並得��爲股圓差【寄左】然後置天元大差以大分母通之得�○�爲同數與左相消得�○��開立方得三百六十步卽股圓差也以股圓差減於甲南行步卽城徑也合問

或問東門外不知步數有樹甲從幹南行六百步而止乙出北門東行斜望樹及甲與城防相直卻就樹斜行一百三十六步問答同前

法曰二行步相乘於上又半甲南行乘之爲實二行相乘於上又半甲南行以乘甲南行加上位爲益從甲南行爲從亷一步益隅開立方得半徑

艸曰立天元一爲半徑便以爲小股其斜行步卽小也乃以甲南行爲大股以小乘之復以天元除之得��卽大也又倍天元減甲南行余��爲大差以減大余���爲大勾也又倍天元以減勾得���爲小差也卻以半大差��乘之得���爲半徑冪【寄左】乃以天元冪相消得下式丨���開立方得一百二十步卽半徑合問

或問南門外不知步數有槐樹一株東門外不知步數有柳樹一株槐柳二樹相去二百八十九步有人從幹南行六百步而止斜望槐柳與城防相直問答同前

法曰云數相乘得又自增乘爲三乘方實斜步冪乘南行步又云之爲益從二云數相乘又倍之【按此下脫內減斜步冪五字】爲益亷二之斜步爲第二從亷二法常法得槐至城心步

艸曰別得槐樹至城心步卽人所止至槐樹步也乃立天元一爲槐樹至城心步【卽人至槐處】加於斜步得��爲邊也以天元乘之得丨�合斜步除不除便以此爲邊股【寄斜步分母】又以斜步乘南行步得�爲大股以邊股減之餘���爲半城徑【寄斜步分母】以自之得丨����爲半徑冪【內帶斜步爲母】寄左又以天元減斜步得��爲�以天元乘之得��○合斜步除不除寄爲母便以此爲半梯頭以邊股半梯底乘之得�○��爲同數與左相消得�����開三乘方得二百五十五步卽槐樹至城心之步也亦爲皇極正股又自之得數以減斜冪餘如平方而一得城心至柳樹步又爲皇極正勾也勾股相乘倍之爲實如斜步而一卽城徑也合問

或問甲從幹南行六百步而立乙出南門直行丙出東門直行三人相望俱與城相直而乙丙共行了一百五十一步問答同前

法曰甲南行爲冪折半又以自之爲實倍共步加甲南行以乘半段甲行冪爲從方甲行乘共數爲從亷一个半甲南行爲第二益亷二分五釐爲三乘方隅艸曰識別得共步加城徑卽皇極和也又是半徑爲勾之與半徑爲股之相和步也二之此數內減去大卽皇極勾股內黃方面也亦爲太虛乃立天元一爲大差以自之副置二位上位減於甲行冪以天元除之又折半得���爲大勾也下位加甲南行以天元除之又折半得���爲大也其甲南行卽大股也並勾大股得下式���卽大和也再以天元減甲南行得��卽圓徑也加共步得��卽皇極和又是半徑爲勾之及半徑爲股之共數也又倍之得��卽全徑爲勾之及全徑爲股之共數也內減大得���卽小和內黃方面也乃置大和���以小黃方面乘之得�����合以小和除之不除便以此爲大黃方也【內寄小和爲母】寄左然後以天元減甲南行得��爲大黃方以小和乘之得丨��爲同數與左相消得�����開三乘方得三百六十步卽股圓差也以股圓差減於甲南行餘二百四十步卽城徑也合問

或問丙出南門東行乙出東門南行各不知步數而立甲從幹隅南行六百步斜望乙丙悉與城參相直乙就丙斜行一百二步相防問答同前

法曰以斜步乘甲南行冪又倍之爲實倍甲行冪於上又以斜步乘二之甲南行加於上爲從方四之甲南行爲益亷四步常法開立方得半徑

艸曰別得斜步爲小也以斜步減圓徑余爲小和也乃立天元爲半徑以二之減於甲南行得��爲大差也以自之得���爲大差冪也置甲南行冪�內加大差冪而半之得���爲大也【內帶大差爲分母】又置甲南行冪內減大差冪而半之得��○爲大勾也【帶大差分母】又以大差乘股六百步得��並入大勾得���爲大和也【帶大差分母】乃先以小乘大和得下式���寄左又以倍天元減斜步得��爲小和以乘大得����爲同數與左相消得����開立方得一百二十步卽半徑也合問

依前問假令乙出東門南行丙出南門東行各不知步數而立【只云丙行步多於乙行步】甲從幹隅南行六百步望乙丙與城參相直乙復斜行就丙行了一百二步與丙相防問答同前

法曰以斜步乘甲行冪又倍之爲立方實甲行冪內加斜行南行相乘數爲從方甲南行爲益亷半步爲隅得全徑

艸曰別得相就步卽小也小得小和爲直徑也立天元一爲城徑以減於甲南行步得��爲大差以自之得丨��爲太差冪也置甲南行步以自之爲冪副之上以加大差冪而半之得���爲大也【內寄大差分母】下以減大差冪而半之得��○爲大勾也【內寄大差分母】乃置相就步在地以大勾乘之得��合大除不除寄爲母便以此爲小勾也寄大母又置斜步【卽相就步也】以甲南行乘之得�合以大除之不除寄爲母便以此爲小股而又以元分母大差乘之得��爲同分小股也只寄大爲母【其大勾內元有大差分母其大股內卻無分母故今乘過復以大差通之齊分母也】又置斜行步以大通之得���爲小也上三位相並得��爲城徑也【內寄大分母】寄左然後置天元以大通之得���爲同數與左相消得����開立方得二百四十步卽城徑也合問

測圓海鏡卷五

欽定四庫全書

測圓海鏡卷六

元李冶撰

大勾一十八問

或問乙從東門直行一十六步甲從幹隅東行三百二十步望乙與城參相直問答同前

法曰甲東行內減二之乙南行復以乘甲東行爲實四之東行內減二之乙東行爲從四益隅得半徑艸曰立天元一爲半徑以二之加乙東行得��爲中勾以中勾減於甲東行得��爲勾率也其天元半徑卽股率也置甲東行爲大勾以股率乘之得�合以勾率除之不受除便以此爲大股【內帶勾率分母】再置天元以二之以勾率乘之得��減於大股余��爲股圓差於上【內有勾率分母】又以二之天元減甲東行得��爲小差以乘上位得���爲半段黃方冪【內有勾率分母】寄左然後以天元自之又以勾率乘之又就分倍之得���爲同數與左相消得���開平方得一百二十步倍之卽城徑也合問

或問乙出東門南行三十步而立甲從幹隅東行三百二十步望乙與城參相直問答同前

法曰甲乙相乘爲實甲東行爲從二虛法得半徑艸曰識別具見大股第二問中立天元爲半徑內減乙南行得��爲虛股以乘通勾甲東行得��爲半段城徑冪【寄左】然後以天元自之又就分二之得��爲同數與左相消得���開平方得一百二十步倍之卽城徑也合問

或問乙出南門直行一百三十五步而立甲從幹隅東行三百二十步望見乙問答同前

法曰以乙南行乘甲東行冪爲實二之乙南行乘甲東行爲從方亷空二步常法得半徑

艸曰立天元一爲半城徑以二之加於乙南行得��爲股率以天元減甲東行得��爲勾率乃置乙南行以勾率乘之得��合股率除不除便以此爲小勾此卽半梯之頭【內帶股率分母】又以勾率乘之得���爲半徑冪【內股率分母】寄左乃以股率乘天元冪得���爲同數與左相消得�○��開立方得一百二十步倍之卽城徑也合問

或問乙出南門東行七十二步甲從西北隅取直行三百二十步見乙問答同前

法曰二行相乘爲實以東行爲從一步常法得半徑艸曰立天元一爲半城徑以減甲東行步得��爲梯底以乙東行七十二步爲梯頭以乘之得��爲半徑冪【寄左】然後以天元冪與左相消得丨��以平方開之得一百二十步倍之卽城徑也合問

或問乙從西南隅直東行一百九十二步甲從西北隅直東行三百二十步望見乙問答同前

法曰二行步相乘爲實二行相並爲法得半徑艸曰立天元一爲半徑副置之上以減於乙東行得��爲梯頭於上下位減於甲東行得��爲梯底以乘上位得丨��爲半徑冪【寄左】然後以天元冪與左相消得��上法下實卽半徑也合問

或問乙從坤隅直南行三百六十步而止甲從幹隅直東行三百二十步望見乙問答同前

法曰二行步相乘倍之爲實二之甲東行爲從一步常法得城徑

艸曰立天元一以爲城徑加一南行得��爲股二行步相並得六百八十步爲甲東行爲勾勾股相乘得��又倍之得��爲二直積【寄左】然後以勾股相並得��爲三事和以天元乘之得丨�爲同數與左相消得丨��開平方得二百四十步卽城徑也合問

或問東門南不知逺近有樹甲從幹隅東行三百二十步望樹與城參相直復就樹斜行一百七十步至樹問答同前

法曰兩段東行步冪內減兩段東行斜行相乘數爲實【按或云倍東行步以二行差東之亦同】二之東行爲從一益隅得城徑艸曰別得東行步卽大勾斜行步卽小也乃立天元一爲城徑減東行步得��爲勾圓差也【今爲小勾】置東行步以斜步乘之得�合以小勾除之今不受除便以此爲大【內帶小勾分母】再置東行步以小勾乘之得��爲大勾以減大得��爲大差合以小差乘之【緣內帶小差分母】更不湏乘便以此爲半段黃方冪【更無分母】又二之得��爲一段黃方冪【寄左】然後以天元冪與左相消得���開平方得二百四十步卽城徑也合問

依前問假令乙出東門南行不知步數而止甲從幹東行三百二十步望乙與城相直復就乙斜行一百七十步

法曰以甲東行乘二行差冪爲實以甲東行乘二之二行差爲從方二之二行差爲隅法得半徑

艸曰識別得二行相減餘一百五十卽半城徑與乙南行共數也得此數更不湏用斜立天元一爲半徑減於二行差得��卽半梯頭也又以二天元減甲東行步得��爲勾率又以一百五十爲股率乃置甲東行以股率乘之得�合勾率除不除便以此爲大股【內寄勾率分母】再置天元以勾率乘之得��以減於大股得���爲半梯底也頭底相乘得下����爲半徑冪也【內帶勾率分母】寄左然後以勾率乘天元冪得���爲同數與左相消得���開平方得一百二十步倍之卽城徑也合問

或問南門東不知逺近有樹甲從幹隅東行三百二十步見樹復向樹斜行二百七十二步至樹問答同前法曰二之二行差乘二之甲東行爲實並二之二行差及二之甲東行爲從二步益隅得城徑

艸曰別得二行相減餘四十八步卽虛積之勾也立天元一爲城徑內減二之二行差得��爲梯頭於上置甲東行步以二之內減天元得��爲梯底以乘上位得���爲城徑冪【寄左】然後以天元冪與左相消得���開平方得二百四十步卽城徑也合問

或問甲從幹隅東行三百二十步而止乙出南門直行不知步數望見甲復就甲斜行四百二十五步與甲相防問答同前

法曰二行步相減以乘東行冪得數半之爲實以半之東行步乘東行步於上二行步相減余乘東行步減上位爲從二之東行步爲益亷一步常法得半徑艸曰識別得二行相減是髙積上勾股較【此勾卽半徑也】又別得是髙不及股圓差數乃立天元爲半城徑以減東行步得��爲中勾其斜行步卽中也又置半城徑以斜步乘之得�合以中勾除之不受除便以此爲髙【內寄中勾爲母】又以二行步相減餘一百五步爲髙不及股圓差數置此數以中勾乘之得��加入髙得��爲大差於上【內帶中勾分母】又倍天元減東行步得��爲小差又半之得��以乘上位得���爲半徑冪【內有中勾分母】寄左乃以天元自乘又以中勾乘之得���爲同數與左相消得����以立方開得一百二十步倍之卽城徑也合問

或問甲乙二人俱在幹隅乙直南行不知步數而立甲直東行三百二十步望見乙復就乙斜行六百八十步與乙相防問答同前

法曰以二行差乘甲東行步又二之爲實以二之二行差爲從一步常法得城徑

艸曰別得二行步相減餘三百六十步卽股圓差也乃立天元一爲圓徑以減於甲東行步得��爲小差以東行斜行差三百六十步乘之得��倍之得��爲一段城徑冪【寄左】乃以天元冪與左相消得丨��開平方得二百四十步卽城徑也合問

或問東門外不知逺近有樹甲從幹隅東行三百二十步望樹與城參相直復就樹斜行一百三十六步至樹問答同前

法曰倍二行相減數內減甲東行得數復以乘甲東行爲實【按或云倍斜步以減甲東行余以甲東行乘之亦同】倍二行差爲從二步虛常法得半徑

艸曰識別得斜行步乃樹至城心步也立天元一爲半徑加斜行步得��卽樹至城西門之步也乃以減於甲東行得下��爲小勾率其天元半徑卽小股率其斜步卽小數也再置甲東行步內減天元得��爲梯底於上又置梯底內減二之小勾率得��【按倍小勾得三百六十八步少二元以少二元減梯底之少一元反爲多一元以三百六十八步減梯底之三百二十步反爲少四十八步也】以乘上位得���爲半徑冪乃以天元冪與左相消得下式���以平方開之得一百二十步倍之卽城徑也合問

或問南門外不知步數有槐一株甲從幹隅直東行至柳樹下望見槐樹復斜行至槐樹下甲自云我共行了七百四十五步乙從坤隅南行望見槐柳與城參相直復斜行至槐樹下乙自云我南行步多於斜行步一百五步

按此問下有艸無法今依細艸補之

法曰置甲共步內減乙較步餘數折半自之再倍乙較步乘之爲立方實置上減余折半數又減二之乙較步復以減余折半數乘之爲從甲共步內減乙較步爲亷五分爲負隅開立方得城徑

艸曰識別得一百五步是大差多於髙數又爲髙上勾股差數又別得是甲斜行多於東行數也乃副置甲共行七百四十五步在地其上位加一百五步而半之得四百二十五步卽甲斜行也其下位減一百五步而半之得三百二十步卽甲東行也乃立天元一爲圓徑以半之減於甲東行步得��爲中勾其甲斜行四百二十五步卽中也再置天元以半之爲小勾以中乘之得�合以中勾除不除便以爲髙於上【內中勾分母】別置乙多步一百五步以中勾乘之得��爲大差多於髙數也以加入上位得下式��爲一个大差也置甲東行以天元減之又倍之得��爲二个小差以乘大差得下���爲一段黃方冪【內帶中股分母】寄左然後置天元冪丨�以中勾通之得���與左相消得����開立方得二百四十步卽城徑也合問

或問出東門直行不知步數有槐樹一株出南門東行不知步數有柳樹一株槐栁斜相距一百五十三步甲從幹東行三百二十步望槐柳與城防相直問答同前

法曰二行相乘訖又以乘甲東行冪爲實斜行乘甲東行冪又三之爲從方甲東行冪內減兩段二行相乘數爲第一亷二之甲東行爲益二亷二步常法開三乘方得半徑

艸曰立天元一爲半徑以二之減於甲東行得��爲小差以自之得���加於甲東行冪復半之得���爲大【內寄小差分母】又置斜相距步以大勾乘之得�合大除不除便以此爲小勾【內大分母】乃以天元減甲東行數得��爲半梯底以乘小勾半梯頭得��爲半徑冪於上此半徑冪內有大分母此大分母元小差分母故先用小差分母以乘上半徑冪得���爲半徑冪也內本大分母【寄左】然後以大乘天元冪得����爲同數與左相消得�����開三乘方得一百二十步卽半城徑也合問

或問甲從幹隅東行三百二十步而止丙出東門南行乙出東門直行各不知步數而立甲廻望乙丙悉與城參相直旣而乙就丙斜行三十四步相防問答同前

法曰甲東行再自之於上以二之斜行步乘甲東行冪減上位爲立方實兩段南行冪內減東行斜行相乘數爲益從以甲東行加五【按加五卽加半】爲從亷五分虛隅得全徑

艸曰立天元一爲城徑以減於甲東行步得��爲小差以自之得丨��爲小差冪也乃置甲東行冪內加小差冪而半之得���爲大也【內帶小差分母】又置甲東行冪乃減小差冪而半之得��○爲大股也【內帶小差分母】乃置斜行步在地以大股乘之得��合以大除之不除而又倍之得��爲梯頭也【卽兩个小股內寄大爲母權寄】乃置天元圓徑以半之以小差分母通之得��以減於大股余得�又倍之得�爲梯底也【卽兩个邊股內亦有小差分母】以乘權寄得���爲城徑冪也【內寄大及小差分母】寄左然後以天元自之爲冪以大通之又以小差通之得�����爲同數與左相消得����開立方得二百四十步卽城徑也合問

依前問假令東門外有樹乙出東門南行不知步數而立【只雲樹去城步少於乙南行步】甲從幹隅向東行三百二十步望乙與樹悉與城參相直乙復就樹斜行三十四步到樹問答同前

法曰甲東行自之又以斜步乘之爲立方實置半段甲東行冪於上以斜步乘甲東行減上位爲從亷空半步常法得勾圓差

艸曰別得乙斜行卽�也�得小勾股卽大股較也乃立天元一爲勾圓差以自之爲冪副之上以加於甲東行冪而半之得���爲大也【寄小差分母】下以減於甲東行冪而半之得���爲大股也【寄小差分母】乃置斜步以大股乘之得���合大除不除便以此爲小股【寄大分母】又置斜步以甲東行乘之得�合大除不除便以此爲小勾而又以通母分通之得�爲同分小勾也【寄大分母】注【大股乘時有小差分母今大勾無母故又以齊同之】又置斜步以大通之得���爲同分小也三位相並得��爲勾圓差也【寄左】然後置天元以大通之得�○�爲同數與左相消得�○��開立方得八十步卽勾圓差也以勾圓差減於甲東行步餘二百四十步卽城徑也合問

或問南門外不知步數有樹甲從幹東行三百二十步而立乙出西門便南行望樹及甲與城參相直卻就樹斜行二百五十五步至樹問答同前

法曰二行相乘於上以半之甲東行乘之爲實二行相乘於上又半之甲東行以乘甲東行加上位爲益從甲東行爲從亷一步虛法開立方得半徑

艸曰立天元一爲半徑便以爲小勾其斜行卽小也乃以甲東行爲大勾以小乘之復以天元除之得��卽大也又倍天元減東行余��爲小差以減大余���爲大股也又倍天元以減股余��爲大差也卻以半小差��乘之得下式���爲半徑冪【寄左】乃以天元冪與左相消得丨���開立方得一百二十步倍之卽城徑也合問

或問南門外不知步數有槐樹一株東門外不知步數有柳樹一株槐柳相距二百八十九步甲從幹東行三百二十步斜望槐柳與城參相直問答同前法曰二行相乘得數又自增乘爲實斜行冪乘甲東行又倍之爲益從兩行相乘又倍之爲益亷二之斜步爲第二亷二步常法開三乘方得栁至城心步艸曰別得柳至城心步卽甲立處柳樹步也立天元一爲柳至城心步加斜步得��爲底以天元乘之得丨�○合斜步除不除便以此爲底勾【寄斜步分母】乃再置通勾以斜步乘之得�爲帶母通勾內減底勾余���爲半徑以自之得丨����爲半徑冪內帶斜步冪分母【寄左】乃以天元減斜步得��爲明以天元乘之得��合斜步除不除便以此爲半梯頭【寄斜步爲母】復以底勾半梯底乘之得����爲同數與左相消得�����開三乘方得一百三十六步卽柳至城心步也合問

或問甲從幹隅東行三百二十步而立乙出城東行丙出城南行三人相望俱與城相直乙丙共行了一百五十一步問答同前

法曰以甲東行爲冪折半又以自之爲三乘方實倍共步加甲東行以乘半段甲行冪爲從方甲行乘共數爲從亷甲東行加五爲第二益亷二分五釐常法得小差

艸曰別得乙丙共行步卽明股�勾共也立天元一爲小差以自之副置二位上位減於甲東行冪以天元除之又折半得�○�卽大股也下位加甲行冪以天元除之又折半得�○�爲大也其甲東行卽大勾也並大勾大股得���卽大和也再立天元以減甲東行步得��卽圓徑也以圓徑加共行步得��卽皇極和也【卽小和又爲髙平共數】又倍之得��卽黃長黃廣共也內減大得下式���爲皇極內小黃方也【亦爲虛】再置大和���以小黃方乘之得下式�����合以小和除之不除便以爲城徑內寄小和爲母【寄左】然後天元減甲東行得��爲大黃方以小和乘之得丨��爲同數與左相消得�����開三乘方得八十步卽小差也以小差減甲東行餘二百四十步卽城徑也合問

或問丙出南門東行乙出東門南行各不知步數而立甲從幹隅東行三百二十步望乙丙悉與城防相直乙就丙斜行一百二步相防問答同前

法曰甲東行自之於上倍斜行步乘之爲立方實倍斜行步乘甲東行於上加兩段甲東行冪爲從四之甲東行爲益亷四爲隅法得半城徑

艸曰別得斜步卽虛減於全徑卽小和也乃立天元一爲半徑以二之減於甲東行得��爲小差也以自之得���爲小差冪也置甲東行冪內加小差冪而半之得下���爲大【內帶小差分母】置甲東行冪內減小差冪而半之得��爲大股也內亦帶小差爲母又以小差乘大勾得��並入大股得���爲大和也【帶小差母】乃先以小乘大和得下���寄左次以斜步減於二天元得��爲小和以乘大得下式����爲同數與左相消得����開立方得一百二十步卽半城徑也合問

依前問假令乙出東門南行丙出南門東行各不知步數而立【只云丙行多於乙行步】甲從幹隅東行三百二十步望乙丙與城防相直其乙丙共行一百二步問答同前法曰倍共步以乘甲東行冪爲立方實共步乘甲東行於上又以甲東行自之加上位爲益從甲東行爲從亷五分隅常法得城徑

艸曰別得共步便爲小得小勾小股卽與圓徑同立天元爲城徑以減乙東行得��爲小差以自之得���爲小差冪也乃置甲東行以自之爲冪副之上以加小差冪而半之得���爲大也【內寄小差分母】下以減小差冪而半之得��○爲大股也【內寄小差分母】乃置共步在地以大股乘之得��合大除不除便以此爲小股也【寄大分母】又置共步以甲東行乘之得�合以大除不除便以此爲小勾而又以元分母小差乘之得��爲同分小勾【只寄大分母】注【其大內元帶小差分母其大勾內卻無分母故母故今復以小差通之齊同其分母也】又置共步以大通之得���同分小也三位相並得��爲城徑也【內有大分母】寄左然後置天元城徑�以大分母通之得���○爲同數與左相消得����開立方得二百四十步卽城徑也合問

測圓海鏡卷六﹤子部﹐天文算法類﹐算書之屬﹐測圓海鏡﹥

欽定四庫全書

測圓海鏡卷七

元李冶撰

明�前一十八問

或問出南門東行七十二步有樹出東門南行三十步見之問答同前

法曰倍南行以乘倍東行爲平實並二行又倍之爲從一虛隅得城徑

艸曰識別得此問名爲外容圓又爲內率求虛積其二行步相並爲虛若以相減卽虛較也又倍東行爲較和倍南行卽較較此二數相乘則兩虛積也若直以二行相乘則半个虛積也又倍東行減於城徑余卽二虛勾也倍南行減於城徑則二虛股也虛積上三事和卽城徑也乃立天元一爲圓徑便以爲三事和也倍二行步減之得��爲黃方一天元乘之得��爲二虛積【寄左】然後倍東行以乘倍南行得八千六百四十爲同數與左相消得丨��益積開平方得二百四十步卽城徑也合問

又法二行步相乘爲實二行步相並爲從一步虛法得半徑

艸曰立天元一爲半徑副置二位上加東行步得��爲大差勾下加�股得��爲小差股此二數相乘得下式丨��爲半段黃方冪【寄左】然後立天元以自之又二之與左相消得丨��益積開平方得一百二十步卽半城徑也

又法二云數相乘倍之於上加云數差冪權寄並二云數又自增乘得數內減上位爲平實並云數而倍之爲從二步益隅得半徑

艸曰立天元一爲半徑副之上減明勾得下��爲虛勾下減�股得��爲虛股勾股相乘得丨��又倍之得���又加二行差冪�得���爲冪【寄左】然後並云步以自之得�爲同數與左相消得���益積開平方得一百二十步卽半城徑也

又法云數相乘又倍之爲平實云數相減爲從一常法得虛勾

艸曰立天元一爲虛勾以南行減東行餘四十二步爲虛較也以虛較加天元得丨�爲虛股以天元乘之得下丨�爲直積【寄左】然後倍南行乘東行得�與左相消得丨��開平方得四十八步卽虛勾也以勾除積得九十步卽虛股也並勾股得�爲虛和也內加入二行並�得�卽圓徑也

又法並兩行步以自乘於上又倍南行乘倍東行加上位爲平實一隅法得小和

艸曰立天元一爲小和並二行步加之得��爲三事和也倍二行步而並之得�以減三事和余��爲黃方卻以三事和乘之得下丨��爲二虛積也【寄左】乃倍南行以乘倍東行得�爲同數與左相消得丨��開平方得一百三十八步卽虛和也加入二行步得二百四十步卽城徑也合問

或問丙出南門直行一百三十五步而立甲出東門直行一十六步見之問答同前

法曰以丙行步一百三十五步再自之得二百四十六萬零三百七十五於上又以甲行步一十六乘丙行冪一萬八千二百二十五得二十九萬一千六百以乘上位得七千一百七十四億四千五百三十五萬爲三乘方實以二行步相乘又倍之得四千三百二十以乘丙行步再自之數得一百六億二千八百八十二萬爲益從第一亷空以甲行乘丙行冪得二十九萬一千六百又倍之得五十八萬三千二百於上四之甲行冪一千零二十四以乘丙行步得一十三萬八千二百四十減上位餘四十四萬四千九百六十爲第二亷二行步相乘得二千一百六十爲虛常法得丙行步上勾差八十一

按法中載數自此始亦擇其數繁者詳之使人易曉也

艸曰識得二數相並以減於皇極余卽虛勾虛股並也若以二數相減余爲髙內減平又爲皇極內少个小差又爲大差內減个皇極也立天元一爲丙行大差數置丙行步一百三十五自乘得�用天元除之得��爲勾並也上減天元得���爲二丙勾也復用丙南行乘之得���爲二積也又以天元除之得��○�爲丙勾外容圓徑【泛寄】別置丙南行用二甲勾乘之得�合用二丙勾除之不受除便以此爲甲股【內寄二丙勾爲分母】復用二甲勾三十二乘之得�爲二个甲直積也又置丙南行內減天元得��爲黃方以自乘得丨��爲丙上勾差乘股差二段以天元除之得���爲兩个丙小差也乃用甲股乘之得下式���復用丙南行除之得���又折半得���爲一个甲步股差也內亦帶前二丙勾分母復置二个甲直積內已寄此甲股差分母便爲甲步股外容圓徑【寄左】乃再置先求到泛寄【按卽前所寄��○�之數】用甲股差分母乘之得��○��爲同數與左相消得下式��○��開三乘方得八十一步卽丙步上勾差也鈐經載此法以勾差率冪減丙行差冪復以丙行乘之爲實以差率冪爲法如法得徑此法只是以勾外求容圓半合以大差除陪積而今皆以大差冪爲分母也依法求之勾差八十一自之得六千五百六十一以減於丙行冪一萬八千二百二十五餘一萬一千六百六十四復以丙行一百三十五乘之得一百五十七萬四千六百四十爲實以大差冪六千五百六十一爲法如法得二百四十步卽城徑也

又法二行相乘得數又自之爲三乘方實並二行步以乘二行相乘數又倍之爲從二行相並數以自乘於上又二行相減數自乘減上位爲第一亷第二亷空一益隅益積開之得半徑【其第一亷只是四段二行相乘數】

艸曰立天元一爲半城徑副置之上加南行步得��爲股下位加東行步得��爲勾勾股相乘得丨��爲直積一段以天元除之得丨��爲以自之得丨����爲冪【寄左】乃以勾自之得丨��又以股自之得丨��二位相並得���爲同數與左相消得丨○���益積開三乘方得一百二十步卽半城徑也

又法條段同前

艸曰以前求得勾股率置出南門步爲小股以勾率乘之得��合以股率除不除寄爲母便以此爲半梯頭於上又置南行步加二天元得��爲大股以勾率乘之得���合以股率除不除寄爲母便以此爲梯底以乘上位得����爲半徑自乘數內帶股率冪爲母【寄左】然後置天元以自之又以股率冪乘之得下丨���爲同數與左相消得數一如前答

又法以二行差冪數自乘又倍之爲實並二行步以乘二行差冪又四之爲益從四段南行冪內減二段差冪於上又二段差冪內減四段東行冪余以減上位【按並二行冪減二行差冪四因之亦同】爲第一亷四之二行共爲第二亷二步虛法益積開之得皇極二百八十九艸曰立天元一爲皇極以自之爲冪於上以二行步相減余�以自之得�爲較冪以減上得丨��爲二直積復以天元除之得�○�爲一个城徑也副置之上位加二之東行步得���爲二勾也以自增乘得丨����爲四段勾冪於上下位加二之南行得���爲二股也以自增乘得丨����爲四段股冪也並入上位得下式�����爲四段冪【寄左】然後以天元爲冪四之爲同數與左相消得下式�����益積開三乘方得二百八十九步卽皇極也欲見城徑者別立天元半徑副之加東行爲勾加南行爲股勾股各爲冪並之與冪相消開方得城徑也

又法以二行差一百一十九自乘得一萬四千一百六十一爲差冪以東行步乘之得二十二萬六千五百七十六爲泛率又自增乘得五百一十三億三千六百六十八萬三千七百七十六爲五乘方實倍東行步得三十二以二行差一百一十九乘之得三千八百八爲小泛以乘泛率又倍之得一十七億二千五百六十○萬二千八百一十六爲從方並兩行而倍之得三百二以乘泛率得六千八百四十二萬五千九百五十二於上位以小泛冪一千四百五十萬○○八百六十四加入上位共得八千二百九十二萬六千八百一十六爲第一亷並兩行而倍之得三百二以乘小泛得一百一十五萬○○一十六爲寄數倍二行差以乘差冪得三百三十七萬零三百一十八內減寄數餘二百二十二萬零三百零二爲第二亷六段二行差冪八萬四千九百六十六內減二行並數冪二萬二千八百一餘六萬二千一百六十五爲第三益亷六之二行差七百一十四爲第四益亷二步虛法得�三十四步

艸曰立天元一爲皇極上股差【卽東行步上斜也亦謂�斜】以元加二行差得��卽明也【此卽皇極上勾差也】以天元乘之又倍之得���卽皇極內黃方冪也【泛寄】置皇極上勾差以東行步乘之得��以天元除之得��爲明勾也又置天元以南行乘之得��合用明除不除寄爲母便以此爲�股於上【寄明母】乃再置明勾以明乘之得���亦爲帶分明勾加入上位得���卽是一个虛也以自增乘得下式�����爲一段虛冪也內帶明冪分母【寄左】然後置明以自之得丨��爲明冪以乘泛寄得����爲同數與左相消得下式�������開五乘方得三十四步爲東行步上斜步也【卽�】其東行十六步卽�勾也勾各自爲冪以相減餘九百步開方得三十步卽�股也旣各得此數乃以股外容圓半法求圓徑得二百四十步卽城徑也合問

按此艸又法求�至開帶縱五乘方法愈繁數愈賾而天元一之用愈見其妙苐所得帶縱五乘方亷隅積數𨿽具而未習其法者不能信其數之必然今姑取已得之�數按亷隅數推其積數以明其數之無可疑焉置五乘方數二以�三十四乘之得六十八與四乘方數七百一十四相加得七百八十二又以�乘之得二萬六千五百八十八與三乘方數六萬二千一百六十五相加得八萬八千七百五十三又以�乘之得三百零一萬七千六百零二與立方數二百二十二萬零三百零二相加得五百二十三萬七千九百零四又以�乘之得一億七千八百零八萬八千七百三十六內減所少平方數八千二百九十二萬六千八百一十六餘九千五百一十六萬一千九百二十又以�乘之得三十二億三千五百五十萬零五千二百八十內減所少元數十七億二千五百六十萬零二千八百一十六餘十五億零九百九十萬零二千四百六十四又以�乘之得五百一十三億三千六百六十八萬三千七百七十六爲積數與艸中積數合【此卽無次商帶縱五乘方法】

或問出東門一十六步有樹出南門東行七十二步見之問答同前

法曰二行步相減得數以自之於上又以出東門步自之減上位爲平方實二之出南門東行步爲益從一步常法翻開得半徑

艸曰別得人到樹卽平也半圓徑卽平股也其東行七十二步則平勾平差也乃立天元一爲半徑加一十六減七十二得��爲勾也以自之得丨��爲勾冪又加入天元股冪得���爲冪【寄左】再立天元一爲半徑加出東門步得��卽也以自之得丨��爲同數與左相消得���翻法開之得一百二十步卽半城徑也合問

或問出南門一百三十五步有樹出東門南行三十步見之問答同前

法曰樹去城步內減南行步餘以爲冪於上又以樹去城步爲冪內減上位爲平實倍樹去城步爲從一虛隅翻法得半城徑

艸曰別得人距樹卽髙也半圓徑卽髙勾也其南行三十步卽髙上小差也乃立天元一爲半徑加樹去城步爲內減小差�得��卽股也以自之得丨��爲股冪內加入天元冪得���爲冪【寄左】再置��自之得丨��爲同數與左相消得丨��翻開得一百二十步卽半城徑也合問

或問乙出東門不知逺近而立甲出南門東行七十二步望見乙就乙斜行一百三十六步與乙相會問答同前

法曰以斜行步自之於上以二行相減余自爲冪減上位爲平實從空一步常法得半徑

艸曰別得七十二步卽大差也斜行卽半徑卽股也立天元一爲半徑以自之爲股冪又以二行差六十四以自之得�爲勾冪並二冪得丨��爲冪【寄左】然後以斜行步自之得�爲同數與左相消得丨��開平方得一百二十步倍之卽城徑也合問

或問甲出南門不知逺近而立乙出東門南行三十步望見甲卻就甲斜行二百五十五步與甲相防問答同前

法曰二行差自之爲冪以減於斜行冪爲平實一虛隅得半徑

艸曰別得南行步卽股差也斜步卽也半徑卽勾也乃立天元一爲半城徑以自之爲冪以二行相減餘二百二十五以自之得�爲股冪二冪相並得丨��爲冪【寄左】然後以斜行自之得�爲同數與左相消得下丨��開平方得一百二十步卽半徑也合問

或問甲出南門東行不知步數而立乙出東門南行三十步望見甲斜行一百二步相防問答同前

法曰二行相乘四之於上又加入斜行冪爲平實得虛和一百三十八

艸曰別得斜步內減南行爲甲東行步也此問以外容圓入之以二行相減數乘乙南行三十步得�又四之得�爲二直積也又加入斜步冪�共得�卽和冪也平方而一得一百三十八步卽虛和也又加斜步得二百四十步卽城徑也合問

或問乙出東門南行不知步數而立甲出南門東行七十二步望見乙斜行一百二步與乙相防問答同前法曰倍相減步以乘倍東行得數復以減於斜步冪余爲實平方而一得較也又以二行相減數乘倍東行爲平實以較爲從方得勾勾較共爲長又以斜步並入勾股共卽城徑

艸曰別得二行相減余�爲乙南行步也以此數又減於甲東行餘四十二步卽較也乃以二行相減數�乘倍東行得�爲平實以較爲從平方開得四十八卽勾也勾內加較得九十步卽股也勾股共得一百三十八又加入斜步共得二百四十步卽城徑也合問

或問乙出南門東行甲出東門南行兩相望見旣而乙云我東行不及城徑一百六十八步甲云我南行不及城徑二百一十問答同前

法曰半甲不及步以自之爲冪半甲不及步內減云數差以自之爲冪二冪相並內卻減差冪爲平實二之乙不及爲益從三步半虛法得甲南行

艸曰別得乙不及爲虛勾半徑共又爲徑內減明勾也甲不及爲虛股半徑共又爲徑內減�股也又二云數相並爲虛和圓徑共也云數相減卽虛較也乃立天元一爲甲南行以減於甲不及步又半之得��爲虛股也虛股內減虛較得��爲虛勾勾自之得���爲勾冪也又股自之得下式���爲股冪也二冪相並得���爲冪【寄左】然後以天元加虛較得��爲乙東行又加入天元甲南行得��爲虛以自之得���爲同數與左相消得���開平方得三十步卽甲南行也內加少步卽城徑也合問

或問丙出南門直行甲出東門直行兩相望見旣而丙云我行少於城徑一百五步甲云我行少於城徑二百二十四步問答同前

法曰二少步相乘訖又自乘爲實六之共步乘雲數相乘數爲益從十八之云數相乘數於上又三之共步自乘加上位內復減丙少步冪甲少步冪爲從亷四十八之共步爲益二亷六十三步常法翻法開三乘方得一百二十步卽半徑

艸曰別得云數共減於倍城徑爲甲丙共數又云數相減卽皇極差亦爲甲行不及丙行數立天元一爲半城徑以三之副置二位上位減丙少步得��爲皇極股也下位減甲少步得��爲皇極勾也勾股相乘得���以天元除之得���爲也自之得�����爲冪【寄左】然後以股自之得下���爲股冪於上又以勾自之得���爲勾冪並以加入上位得���爲同數與左相消得�����翻法開三乘方得一百二十步卽半城徑也合問

或問甲出東門直行丙出南門直行各不知步數而立乙望見甲就甲斜行了二百八十九步與甲相防其二直行共一百五十一步問答同前

法曰斜冪內減共步冪爲平實倍共步內減斜步爲從一常法得徑

艸曰別得共數城徑並卽皇極和也立天元一爲圓徑加共步得��爲皇極和以自之得丨��於上以斜行冪�減上位余丨��爲二直積【寄左】然後以天元乘斜步得��與左相消得丨��開平方得二百四十步卽城徑也合問

或問甲出東門直行乙出東門南行丙出南門直行丁出南門東行各不知步數而立四人遙相望悉與城參相直只云甲丙共行了一百五十一步乙丁立處相距一百二步又云丙直行步多於甲直行步問答同前

法曰共步距步相減得數自之於上以共步爲冪內減上爲平實二之距步內減共步距步差爲從一步虛法得城徑

艸曰別得共步得城徑卽皇極和也相距步卽虛也皇極和內減虛卽皇極也又共步距步差�卽皇極內減城徑也【此名旁差】乃立天元一爲城徑加共步得��爲皇極和也以自之得丨��於上以共步距步差�加天元得��爲皇極也以自之得下式丨��減上位余得��爲二直積【寄左】然後以天元徑乘皇極得丨�爲同數與左相消得丨��開平方得二百四十步卽城徑也合問

或問甲出南門東行不知步數而立乙出東門南行望見甲復就甲斜行與甲相防乙通計行了一百三十二步其乙南行步不及斜行七十二步其甲東行多於乙南行問答同前

法曰倍不及步在地以不及步減通步以乘之爲實以四之不及步爲法得乙南行三十步

艸曰別得乙南行卽�股也以減通步卽虛也以減不及步卽虛較也其不及步卽甲東行也立天元一爲乙南行置不及步以天元乘之又四之得�爲二直積【寄左】然後倍不及步以爲較和於上�以不及步減通步得�爲較較以乘上位得�爲同數與左相消得��上法下實得三十步爲乙南行也餘各以數求之

又法別得通行步爲兩个乙南行一个甲東行共也其不及步卽東行步也云步相並卽兩个虛相減卽兩个乙南行也

或問甲出南門東行不知步數而立乙出東門南行望見甲復斜行與甲相防二人共行了二百四步又云甲行不及乙一百三十二【按甲不及乙六十步非一百三十二步當云甲行不及共步方合】問答同前

法曰別得二行共卽兩个虛也其不及步卽乙南行與一虛共也置不及步內減一餘三十步卽乙南行也以乙南行反以減虛餘七十二步卽甲東行也以乙南行減甲東行余卽虛較也此問無艸

按右二問語若淺近然以發明加減乘除相通之

義最爲深切集中仿此者可類推之

或問乙出東門南行甲出西門南行甲望見乙斜行五百一十步相防乙云我南行少於城徑二百一十步問答同前

法曰少步冪爲平實四斜步內減二少步爲益從五步常法得乙南行

艸曰別得少步爲徑內減叀股立天元一爲乙南行以二之減於倍斜行步得��爲梯底也以二之天元乘之得��爲徑冪【寄左】再置天元加少步得下式��爲城徑以自之得丨��與左相消得���開平方得三十步卽乙南行也加少步卽城徑也合問

或問乙出南門東行甲出北門東行甲望見乙斜行二百七十二步與乙相防乙云我東行不及城徑一百六十八步問答同前

法曰以不及步冪之爲實四斜內減二之不及步爲虛從五常法平實開得乙東行七十二

艸曰別得不及步爲城徑減明勾也立天元一爲乙東行以倍之減於二之斜行步得下��爲梯底也倍天元乘之得��爲徑冪【寄左】再置天元加不及步得��爲城徑以自之得丨��爲同數與左相消得���開平方得七十二步卽乙東行也加入少步卽城徑也合問

或問乙出南門東行丁出東門南行卻有甲丙二人共在西北隅甲向東行丙向南行四人遙相望見俱與城參相直旣而相防甲云我多乙二百四十八步丙云我多於丁五百七十步問答同前

法曰二多步相乘爲平實並二多步而半之爲從七分半常法得城徑

艸曰別得甲多步爲大勾內減明勾也丙多步爲大股內少叀股也又乙東行得一虛勾爲半徑丁南行得一虛股爲半徑又二多數相並得�爲大和內少虛也又二多數相減余�爲兩个角差又甲多步內減半徑卽勾方差也丙多步內減半徑卽股方差也立天元一爲城徑以半之減於甲多步得��爲勾方差又以半徑減於丙多步得��爲股方差二差相乘得���爲徑冪【寄左】然後以天元冪與左相消得下式���開平方得二百四十步卽城徑也合問

或問甲丙二人俱在西北隅甲向東行丙向南行又乙出南門東行丁出東門南行各不知步數而立四人遙相望見悉與城參相直旣而相防甲云我與乙共行了三百九十二步丙云我與丁共行六百三十步問答同前

法曰甲乙共自之爲冪丙丁共自之爲冪二冪又相乘爲三乘方實甲乙共自之爲冪以丙丁共乘之於上又以丙丁共自之爲冪以甲乙共乘之加上位爲益從甲乙共自之爲冪丙丁共自之爲冪並以七分半乘之於上又以甲乙共乘丙丁共得數減上位爲第一益亷並二共數以七分半乘之爲第二亷以七分半自之得五分六釐二毫五絲於上位以一步內減上位餘四分三釐七毫五絲爲虛隅得城徑艸曰別得甲爲大勾乙爲明勾丙爲大股丁爲叀股也甲乙共內減半徑卽是黃長也丙丁共內減半徑卽黃廣也黃長黃廣二數相減余爲兩个皇極差也乃立天元爲城徑半之副置二位上以減於甲乙共數得��卽黃長也以自之得���爲黃長冪也內減天元一冪余得下式���爲勾方差冪也下位以減於丙丁共得下式��卽黃廣也以自之得���爲黃廣冪也內減天元一冪余得���爲殷方差冪也再以勾方差冪股方差冪相乘得�����爲徑冪【寄左】然後以天元爲冪又以冪自之與左相消得下式�����開三乘方得二百四十步卽城徑也合問

測圓海鏡卷七

欽定四庫全書

測圓海鏡卷八

元李冶撰

明叀後一十六問

或問出南門向東有槐樹一株出東門向南有柳樹一株丙丁俱出南門丙直行丁往至槐樹下甲乙俱出東門甲直行乙往至柳樹下四人遙相望見各不知所行步數隻云丙丁共行了二百七步甲乙共行四十六步又云甲丙立處相距二百八十九步問答同前

法曰以二共相減數又以減距數爲實二爲法得平勾

艸曰識別得丙丁共卽明和也甲乙共卽叀和也相距步卽極也二共相並卽極內少个虛黃也又爲極和內少个虛和也二共相減余爲平勾髙股差也又爲虛差極差共也又爲通差內減極差也立天元爲平勾加入二共相減數得��爲髙又加天元得��爲極【寄左】以相距步二百八十九與左相消得��上法下實如法得六十四卽平勾也以二共相減數加平勻得二百二十五爲髙股復以平勾乘之得一萬四千四百步開平方得一百二十步卽城半徑也合問

又法二共數並以減相距數餘者半爲泛率以泛率加丙丁共爲長以泛率加甲乙共爲闊長闊相乘爲平方實得半徑

艸曰置極內減二共並數餘三十六步卽虛黃也半之副置二位上以加明和得二百二十五步爲髙股也下以加叀和得六十四步爲平勾也二位相乘得一萬四千四百步開平方得一百二十步卽半徑也合問

或問依前見丙丁共二百七步甲乙共四十六步又云二樹相去一百二步問答同前

法曰以甲乙共乘樹相去步得數又以自之爲平實從空並二共數爲冪於上內減甲乙共自之數丙丁共自之數【按或云二共數相乘倍之亦同】爲益隅得叀

艸曰識別得兩樹相去步卽虛也餘數具前立天元一爲叀置明和以天元乘之合叀和除不除便以�爲明也【內帶�和分母】乃置虛以分母叀和乘之得�加入明得��爲極股也內帶叀和分母以自之得下式���爲極股冪【內寄叀和羃爲分母】又以天元加虛得��爲極勾以自之得丨��又以叀和冪�乘之得���爲勾冪也勾股相並得���爲兩積一較冪也內有叀和冪分母【寄左】然後置明�於上以叀和乘天元得�加上位得�爲二並又置虛以叀和乘之得�並入上位得下式��爲極以自之得���爲同數與左相消得���開平方得三十四步卽叀也

又法以樹相去步自之又以甲乙共乘之爲平實從空倍丙丁共爲虛隅得叀

艸曰立天元一爲叀依前術求得明�便以爲皇極勾差也【內帶叀和分母】以天元�便爲皇極股差以乘之又倍之得��爲虛冪【內有叀和分母寄左】然後以虛自之又以分母�乘之得四十七萬八千五百八十四爲同數與左相消得�○�開平方得三十四步卽叀也合問

或問皇極大小差共一百八十七步明黃叀黃共六十六步問答同前

法曰後數自乘爲實前後數相減余爲法得虛黃方艸曰別得一百八十七卽明叀二共也其六十六卽太虛大小差共也又二數相並得�卽明叀二和共若以相減余�卽明叀四差共也立天元一爲太虛黃方面加二黃共得��卽虛也倍虛又加天元得��卽城徑也又以虛加皇極大小差得��卽極也以極乘城徑得���爲兩段皇極勾股積【寄左】再以極虛相並得��卽皇極勾股共也自之得���內減皇極冪丨��得���爲同數與寄左相消得��上法下實如法得三十六步卽太虛黃方靣也合問

或問東門南有柳一株南門東有槐一株甲出東門直行丙出東門直行甲丙槐柳悉與城防相直旣而甲就柳樹斜行三十四步至柳樹下丙就槐樹斜行一百五十三步至槐樹下問答同前

法曰云數相乘倍之便爲平方實開方得虛一百二步以此加甲行步卽極勾以此加丙行步卽極股餘各依法求之識別甲斜行卽叀也丙斜行卽明也無艸

或問東門南有柳一株南門東有槐一株甲出東門直行丙出南門直行二人遙相望槐栁與城邊悉相直旣而甲復斜行至柳樹下丙復斜行至槐樹下各不知步數隻云丙共行了二百八十八步甲斜行與柳至東門步共得六十四步問答同前

法曰二云數相乘於上以六十四步自之又二之減上位爲平實十四之六十四於上倍丙行減上位爲從【按倍丙行乃數偶合當云九个半六十四內減丙行爲從】二十常法得甲直行步

艸曰別得丙共步卽明股明和也六十四卽平勾也內甲斜行卽叀也柳至東門步卽叀股也又云二數相並卽明差與極共也二云數相減卽明差與平勾髙股差共也又平勾內減叀勾卽虛勾也立天元一爲叀勾置丙共步以天元乘之復以六十四除之得��呔爲明勾也又以天元減於六十四得��爲虛勾也並虛明二勾��爲半徑也以自之得����倍之得����爲半段圓城徑冪【寄左】乃以天元加六十四得��爲勾圓差於上又以明勾加丙共步得���爲股圓差於下上下相乘得����爲同數與左相消得���開平方得一十六步卽叀勾也此叀勾乃甲出東門直行步也餘皆依數求合問

或問東門南有柳樹一株南門東有槐樹一株甲出東門直行丙出南門直行二人遙相望槐柳與城邊悉相直旣而甲復斜行至柳樹下丙復斜行至槐樹下各不知步數隻云甲共行五十步丙斜行與槐至南門步共得二百二十五步問答同前

法曰以二百二十五步自之爲冪又以此冪自爲冪於上置甲共行以二百二十五步三度乘之得數復折半減上位爲平實置二百二十五步自之數以二云數相減數乘之又倍之於上倍五十步在地以二百二十五步自之數乘之復折半加上位爲益從云數相減自乘於上以云數相乘復折半減上位爲常法得明股

艸曰識別得甲共步卽叀勾叀共也二百二十五卽髙股也內丙斜行卽明槐至南門步卽明勾也又二云數相並卽極內減一个叀差也云數相減卽叀差與髙股平勾差共也又髙股內減明股卽虛股也立天元一爲明股卽丙出南門直行步也置五十步以天元乘之得�合髙股除不除便以此�爲叀股也內帶髙股�分母再置髙股內減天元得��爲虛股以分母髙股乘之得下式��加入叀股得��卽半徑也以自增乘得下���爲半徑冪也內帶髙股冪爲母【寄左】然後置甲共步以分母髙股乘之得�加入叀股得��爲勾圓差於上【內帶髙股分母】又以天元加髙股得��爲股圓差於下上下相乘得���又以分母髙股乘之得���復折半得���爲同數與左相消得���開平方得一百三十五步卽明股也合問

或問通勾通共一千步叀勾叀共五十步問答同前

法曰置一千減二之五十步爲泛率以自乘復半之於上又置泛率復以五十乘之加上位爲平實二十二之泛率於上【按二十二乃此題叀和除通和所得通倍叀數加二數之數易題則數不同矣當直云通倍叀數加二數乘泛率】以四十二【按四十二乃此題倍通倍叀數加二數之數當直云倍通倍叀數加二數】乘五十得數內減泛率加上位爲益從二百【按二百乃此題通倍叀數加二數自乘折半於上又倍通倍叀數並二數以減上位之數當同上不必載數】爲常法得叀股

艸曰立天元一爲叀股置一千以天元乘之以五十除之得�爲通股也又以天元加五十步得��卽小差也通股加小差得��卽通也以通減一千得��卽通勾也以小差減通勾得��卽圓徑也以圓徑減通股得��卽大差也置大差以小差乘之得���【寄左】然後置圓徑以自之得���折半得���與左相消得���開平方得三十步卽叀股也合問

按此題通勾和爲叀勾和度盡之數則不用寄分而用除法以從省便作者蓋舉一以例其餘也

或問通勾通共一千步明勾明共二百二十五步問答同前

法曰以後數再自乘又以前數乘之爲平實以後數爲冪又以前數乘之爲從以前數冪爲常法得明股艸曰別得二百二十五步卽髙股也立天元一爲明股置一千以天元乘之合以髙股除不除便以此�爲通股【內帶髙股爲母】以天元加髙股��卽大差也置大差以髙股分母乘之得��卽帶分大差也以此減於通股余��卽圓徑也以自增乘得���寄左【內髙股冪分母】然後置一千以髙股分母通之得�內減帶分大差得��爲兩个通勾也內減兩个圓徑得��爲兩个小差也以帶分大差乘之得下式���爲同數與左相消得��開平方得一百三十五步卽明股也合問

或問通股通共一千二百八十步叀股叀共六十四步問答同前

法曰云數相乘爲平實前數爲益從置前數以後數除之得二十爲泛率泛率減一以自乘於上又倍泛率減一加上位爲常法倒積開得叀勾

艸曰別得六十四步卽平勾也立天元一爲叀勾置前數以天元乘之以後數除之得�卽通勾也又置天元加後數得��卽小差也以小差減通勾余��卽圓徑也以自之得���【寄左】然後以小差減於前數得��爲二通股內減兩个圓徑得��爲二大差也以小差乘之得下���與左相消得���開平方得一十六步卽叀勾也合問

或問通股通共一千二百八十步明股明共二百八十八步問答同前

法曰二數相減以後數乘之內減後數冪又半之爲泛率以自乘爲平實【按或云前數內減二後數余以後數乘之折半自之亦同】置前數加二之後數而半之爲次率以乘泛率於上以後數乘泛率減上位【按或云二數相加以乘前折半數亦同】爲益從次率自乘之於上以前數加次率復以後數乘之減上位【按或云前數折半內減後數又以半前數乘之亦同】爲隅法得明勾

艸曰別得二數相減余�爲通勾通股及明勾共也立天元一爲明勾置前數以天元乘之合以後數除之不除便以此�爲通勾也【內寄後數分母】又以二數相減得數內又減天元得��爲通和也乃以分母二百八十八乘之得下式��內減通勾余��爲通股也又以天元加後數又以分母【卽後數也】通之得��爲大差也以此大差減於通股得下式��爲一个圓徑也半之得��以自得之���爲半徑冪【寄左】然後以半圓徑減通勾得��爲底勾又以天元乘之又以分母二百八十八乘之得��呔爲同數與左相消得���開平方得七十二步卽明勾也合問

或問明股明並二百八十八步叀勾叀並五十步又云明股叀勾並多於虛四十九步問答同前法曰前二數相並內減二之多步卽圓徑又只以前二數相乘便是半徑冪

艸曰識別得前二數相減而半之卽極差也其多步名傍差又圓徑不及極數

或問平差髙差共一百六十一步明股叀勾並多於虛四十九步問答同前

法曰二數相減又半之以自乘爲實後數爲法得平勾

艸曰立天元一爲平勾以加前數得��爲髙股也又以天元加髙股得��爲極內減後數得��又半之得��爲半徑以自之得丨��【寄左】然後以天元乘髙股得丨�爲同數與左相消得��上法下實得六十四步卽平勾也合問

或問平勾髙股差一百六十一步明差叀差並七十七步又云極多於城徑四十九步問答同前

法曰並上二位而半之爲平率其四十九卽旁率也副置平率上加旁率下減旁率以相乘爲實倍旁差爲法得勾圓差【按求實數有誤當云並上二位而半之內減後數於上又置上前數內減後數以乘上位爲實方合】

艸曰識別得平勾髙股差名爲角差副置角差上加七十七而半之得�卽極差也下減七十七而半之得�卽虛差也角差加極差得�卽通差也又極多於城徑步名爲旁差副置角差上加旁差得�爲兩个髙段上勾股較下減傍差得�爲兩个平段上勾股較也又副置極差上加傍差得�爲股圓差上勾股較下減旁差�爲勾圓差上勾股較也立天元一爲勾圓差依法求得通差加入天元得��卽大差也以天元乘之得丨�爲半段圓徑冪【寄左】乃置大差��內減股圓差上勾股較�余有��爲股圓差之勾於上再置天元內加勾圓差上勾股較�得��爲勾圓差之股以乘上位得丨��爲同數與左相消得��上法下實得八十步卽勾圓差也

又依前問見角差一百六十一步見明差叀差並七十七步又見太虛較較六十步問答同前

法曰前二數相減而半之得數加入半之太虛較較爲泛率以自乘爲平實置一百六十一內減二之泛率爲從一常法得平勾

艸曰別得�卽二叀股也立天元一爲平勾先以前二數相減而半之得�爲虛差以虛差加叀股得�卽明勾也以明勾加天元得丨�爲平以自之得丨��內減天元冪得��爲半徑冪【寄左】然後以天元加一百六十一爲髙股以天元乘之得丨�爲同數與左相消得丨��開平方得六十四步卽平勾也

又法曰前數內加半之太虛較較以自乘【按此語內有誤當云倍角差加半太虛較以半太虛較乘之】爲實前數內減太虛較較爲從一常法開平方得平勾此更不用明差叀差並也艸曰依前求平勾前髙股內加叀股得��爲髙也以自之得丨��於上位內減髙股冪丨��余得��爲半徑冪【寄左】然後以天元乘髙股得丨�爲同數與左相消得下丨��開平方得六十四步卽平勾也合問

或問髙差平差並一百六十一步明差叀差並七十七步問答同前

法曰以前數自乘於上二數相並而半之以自乘減上位得數復自增乘爲平實前數自之於上又以四之前數乘之寄位以前數自之於上並二數而半之以自乘減上位得數又以四之前數乘之【按此下落又倍之三字】減於寄位爲從前數自之又四之於上又以四之前數爲冪加上位權寄以前數爲冪於上並二數而半之以自乘減上位得數復八之加上位又以四之前數爲冪加入上位並以減於權寄爲常法【按或云二和並而自之又半之以減髙平共差冪又四之爲常法亦同】得平勾

艸曰識別得二位相並而半之得�卽極差也立天元一爲平勾加一百六十一得��爲髙股髙股內又加天元得��爲極以自之得���於上內減極差冪一萬四千一百六十一餘���爲兩段極積合以極除不除寄爲母便以此爲城徑以自增乘得�����爲圓徑冪【內有極冪分母寄左】然後以天元乘髙股又四之得��又以分母極冪���通之得����呔爲同數與左相消得���開平方得六十四步卽平勾也合問

或問見明和二百七步叀和四十六步問答同前法曰二和上下相減數同則止名爲泛率又以二和直相減余爲泛實【此則角差也】乃以泛率除泛實所得爲差率也以差率加減泛率若半訖與勾股相應者其泛率便爲和率其泛實便爲較率乘和率也若不相應則直取差率以消息之定爲相管和率【其勾股數少得見黃而相爲率者勾三股四則其和七而其較一也勾五股十二則其和一十七而其較七也勾八股十五則其和二十三而其較亦得七七勾七股二十四則其和三十一而其較一十七也勾九股二十則其和二十九而其較一十一也此消息之大略也餘皆仿此】乃以和率約二和其明和所得爲明壘率其叀和所得爲叀壘率也又副置和率上加差率而半之則爲股率也下位減差率而半之則爲勾率也旣見勾股及差三率各以壘率乘之卽各得勾股及差之眞數也

按此用約分以勾股率數求之甚爲省便然必兩數度盡而得數最小者方可用若兩數不能度盡或𨿽度盡而得數尙大者轉屬繁難故又設後法

又法二云數相並以自乘於上二之云數相乘又四之以相並以四分半乘之又四之以並入上位爲從方以七十步零四分三釐七毫五絲爲常法得叀小差四步

按此法未求實數其求從隅皆用本題數不可通用今依細艸意另演一法於後亦惟二和數可以度盡者用之若不能度盡者仍用寄分爲便

法曰二和數相減自之爲平方實叀和除明和得數自而倍之內減四之除得數再加二單數以乘二和相並之數爲從除得數自而四之於上又以除得數自乘內減四之除得數外加一單數自之以減上位爲常法得叀小差

艸曰以二和相約命得叀率一明率四步半其兩數大小差率並同又別得明小差叀大差俱爲半虛黃也立天元爲叀小差以四步半乘之得�元爲�大差也又爲明小差又爲半虛黃置此�大差又以四步半乘之得�爲明大差也其四差相並得�減於二和並得��卽兩段太虛大小差並也內加三段虛黃方�得��合成一个太虛三事和卽圓城徑也以自增乘得���爲徑冪【寄左】乃置叀和加半虛黃得��爲平勾又置明和內加半虛黃得��爲髙股勾相乘得下式���又四之得���爲同數與左相消得下式���開平方得四步卽叀小差也合問

或問明叀二勾共八十八步明叀二股共一百六十五步問答同前

法曰先識別得二大差共二小差共及四差共乃以二大差二小差相乘爲實以四差共爲法如法得半之虛黃方

艸曰先置前後云數以約法約之得一十一卽壘率也復各置前後數如壘率而一前得八卽勾率也後得一十五卽股率也再以勾股率求得較率七和率二十三率一十七黃方率六大差率九小差率二卽見諸率各以壘率乘之其二和共得�二較共得�二共得�二黃共得�二大差共�二小差共�四差共�已上皆爲明叀所得之共數也乃立天元一爲半虛黃便爲明小差又爲叀大差也以減於大差共得��卽明大差也又以減於小差共得��卽叀小差也以二數相增乘得丨��【寄左】以天元冪與寄左相消得��上法下實得一十八步卽半之虛黃方也以倍之得�又加於二黃共六十六共得一百二卽明勾叀股共也又爲極黃方又爲虛也又以三十六減於一百八十七餘一百五十一卽明股叀勾共也此數內減虛余�爲明叀二差較也此名傍差以旁差減二共一百八十七餘得�卽太虛和也卻加入虛一百二並得�爲太虛三事和卽圓城徑也合問

又或以虛黃方加於上和共二百五十三得�爲極也以旁差減極餘二百四十步亦同

又或前後副置勾股較和黃六率在地前以小差率二因之則勾得�股得�較得�和得�得�黃得�卽叀段各數也後以大差率九因之則勾得�股得�較得�和得�得�黃得�卽明段各數也旣得明叀各數餘可知【按此因明卽皇極形勾差叀卽皇極形股差故以小差率乘各率卽得叀段各數以大差率乘各率卽得明段各數也】

按右二卷明叀前十八問後十六問在集中尢爲神妙惜其中有偶爾思省未至者亦未暇修飾故耳

測圓海鏡卷八﹤子部﹐天文算法類﹐算書之屬﹐測圓海鏡﹥

欽定四庫全書

測圓海鏡卷九

元李冶撰

大斜四問

或問甲丙俱在中心丙望南門直行不知步數而止甲出東門直行不知步數望見丙斜行與丙相防二人共行了六百八十步仍云甲直行少於丙直行一百一十九步問答同前

法曰二數相減余以爲冪內卻減差冪爲平實二數相減又四之於上又加入二之差步爲益從二步常法得皇極勾

艸曰別得共步卽皇極三事和少步卽勾股差也立天元一爲皇極勾加少步得��爲股也又以天元加股得��爲和也以和減共步得��爲也自之得���爲一段冪【寄左】然後置股以天元乘之又倍之得��爲二直積加入少步冪�共得���爲同數與左相消得���平方而一得一百三十六卽勾也勾加差爲股勾股相乘倍之爲實勾股和減共步爲法得城徑

又法云數並與云數差相乘【按此句有誤當云和數與倍差相加相減二得數相乘】爲平實云數並與二數差相並得數以減於八之共步爲益從【按此只云六因和步爲益從亦同】一步常法得皇極黃方

艸曰立天元一爲黃方【卽虛也】副置之上位加共步得��爲二和也下位減共步得��爲二也先以二和自乘得丨��爲四段和冪又以二自乘得丨��爲四段冪二數相減余得�又倍之得下式�爲十六段直積於天元位【寄左】然後副置二和上位加二之少步得��爲四股下位減二之少步得��爲四勾勾股相乘得丨��爲同數與左相消得���平方而一得一百二步卽皇極黃方也餘各依法求之合問

或問甲丙俱在西北隅起丙向南行不知步數而立甲向東行望見丙就丙斜行六百八十步與丙相防丙云我南行步多於甲東行二百八十步問答同前法曰以云數差乘雲數並爲實倍多步爲從二爲平隅得大勾

艸曰立天元爲大平【按大平卽大勾】加差得��爲股倍天元乘之得��爲二積【寄左】然後以斜步多步並�與斜步多步較�相乘得�爲同數與左相消得���開平方得三百二十步卽大勾也合問

或問甲乙二人共立於艮隅乙南行過城外而立甲東行望乙與城參相直而止丙丁二人共立於坤隅丁向東行過城門而立丙向南行望丁及甲乙悉與城俱相直丙復就甲斜行六百八十步與甲相防乙丁又云吾二人直行共得三百四十二問答同前法曰二云數相乘倍之爲實倍斜行於上以二云數相減加上位爲從一步常法開平方得城徑

艸曰別得斜步卽大也其共步則一徑一虛共也其二數相並爲一大和一虛共數也立天元爲徑減於共步得��爲虛也以虛復減於天元得��爲虛和以斜步乘之得��【寄左】乃以天元加斜步得��爲大和以虛乘之得���爲同數與左相消得丨��開平方得二百四十步卽城徑也合問

或問甲從北門向東直行庚從西門穿城東行丙從西門向南直行壬從北門穿城南行四人遙相望悉與城參相直只云丙相望處六百八十步庚壬穿城共行了六百三十一步問答同前

法曰共步自之得數以共步減斜余自乘以減上爲實二之斜步加入共步減斜餘數爲從一步常法得城徑

艸曰共行步爲一徑與皇和共也又爲大和皇差也甲丙相望卽大也以共步減大余�爲皇極上減一徑也立天元一爲圓徑減於共步得��爲皇極和也以自之得丨��於上內減共步餘�又以天元加之得��爲皇極以自之得丨��減上位余得��爲兩个皇直積【寄左】乃以天元乘皇得下式丨�爲同數與左相消得丨��開平方得二百四十步卽城徑也合問

大和八問

或問庚從西門穿城東行二百五十六步而立壬從北門穿城南行三百七十五步而立又有甲丙二人俱在幹隅甲向東行丙向南行各不知步數而立四人遙相望只云甲丙共行了九百二十步問答同前法曰庚東行冪壬南行冪相並於上並庚壬步而倍之內減大和余復減於庚壬共得數【按或云並庚壬步以減大和亦同】以自乘減上位爲平實並庚壬步爲益從半步爲隅法得城徑

艸曰立天元一爲圓徑以半之副置二位上以減於庚東行得��爲平也下以減於壬南行得��爲髙也二相並得��爲皇虛共也倍此數得��爲大虛共也以大虛共減於大和余��爲虛勾虛股共也天元內減虛勾虛股共余��卽虛也復置皇虛共內減虛余��卽皇極也以自之得��【寄左】然後以平自之得下式���爲勾冪也又以髙自之得���爲股冪也二冪相並得���爲同數與左相消得���平方而一得二百四十步卽城徑也合問

或問丙甲俱在西北隅甲向東行不知步數而立丙向南行望見甲就甲斜行與甲相防甲直行丙直行共九百二十步【甲步少於丙步】又出東門南行有柳樹一株出南門東行有槐樹一株戊己二人同在巽隅戊就柳樹已從槐樹亦與甲乙遙相望只云已行少於戊行數與兩樹相距數相並得一百四十四步其二數相減餘六十步問答同前

法曰二云數相並而半之爲虛以乘大和九百二十步於上以一百四十四減大和以虛較乘之減上位爲平實以一百四十四減大和又二之於上以二之虛較減上位【按或云倍甲丙直行共加己戊較與兩樹距之較減三之己戊較與兩樹距之和亦同】爲從四虛隅得太虛勾

艸曰別得甲丙直行共卽大和也戊就柳樹步卽虛股也已就槐樹步卽虛勾也其一百四十四步卽二明勾其六十步卽二叀股也立天元一爲虛勾加明勾得��爲半徑也倍之得��卽城徑也【又爲虛上三事和】二云數相並而半之得�卽小也相減而半之得�卽小較也以天元加較得��卽小股也小勾股共得��卽小和也以小三事減大和得��卽大也乃先置小和以大乘之得下式���【寄左】次以小乘大和得��與左相消得下式���開平方得四十八步卽虛勾也加明勾又倍之得二百四十步卽城徑也合問

或問甲從幹隅東行乙從艮隅南行丙從幹隅南行丁從坤隅東行四人遙相望見旣而甲還至艮隅就乙丙還至坤隅就丁甲丙直行共九百二十步甲還就乙共二百三十步丙還就丁共五百五十二步問答同前

法曰並就數以減直行共復以所並就數乘之爲實並就數減直行共得數復加入直行共爲法得虛艸曰別得甲丙直行共爲大和也甲還就乙步爲小差勾股共也丙還就丁步爲大差勾股共也以大差勾股共減於大股余卽虛勾也以小差勾股共減於大勾余卽虛股也二數相並得�爲大虛共也二數相減余�爲通差及大虛勾股差共也又並二數而半之得�爲太極虛共又爲太極勾股共也立天元一爲虛先以二共數減於大和余�爲虛勾虛股和於上次以虛減於二共數余��爲大以乘上位得下��【寄左】然後以天元乘大和得�爲同數與左相消得��上法下實得一百二步卽虛也加入虛和得二百四十步卽城徑也合問

又法並云數減大和復以二數相減乘之爲實並云數減大和得數復加入大和爲法得虛差

艸曰立天元一爲虛較先以並云數減大和余�爲虛和於上次以天元減於二就步較�得��爲通差以乘之得��【寄左】然後以天元乘大和得�爲同數與左相消得��上法下實得四十二步卽虛差也副置虛和爲二位上加虛差而半之得九十卽虛股也下減虛差而半之得四十八卽虛勾也勾冪股冪相並得�開平方得一百二步卽虛也加入虛和得二百四十步卽城徑也合問

或問依前見大和只云股圓差上勾差二百一十六勾圓差上股差二十步問答同前

法曰以云數二十步減通和復以二十步乘之於上以云數二百一十六減九百步【按卽並二差以減大和】而半之乘上位爲立實三因二十步以減通和得八百六十以二百一十六減通和而半之得二百四十二二數相乘訖內減二十之九百步又以三百四十二及二百一十六共得五百五十八又以之以減之爲從方【按取從方內語有誤當云三因小差減大和並二差減大和半之相乘於上三因大和加大差減三之小差半之以小差乘之得數減上位爲從方】以二百一十六減通和又以三之二十步減通和相並於上以二之五百五十八內卻減二十步餘以減上位爲益亷【按取益亷內語亦有誤當云三因大和減六之小差爲益亷】四步常法得小差股

艸曰別得小差上股差�加二股爲大勾也大差上勾差�加二勾爲大股也立天元一爲小差股加�得��爲小差也小差上又加天元得��爲通勾以減於和步得��爲通股也通股內減大差上勾差�得��半之得下式��卽大差之勾也大差勾上又加勾差�得��爲大差也再置通股以小差乘之得���以天元除之得���爲一个大也【泛寄】再置通勾以大差乘之得���合以大差勾除不除寄母便以爲大【寄左】乃以大差勾乘泛寄得����爲同數與左相消得����益積開立方得一百五十步爲小差股也合問

或問依見前大和只云髙平共得三百九十一步髙平相較得一百一十九步問答同前

法曰以較數冪減於共數冪又半之爲實以共數減大和爲益從一步常法開平方得圓徑

艸曰別得髙數減於通股爲邊股內減明股也平減於通勾爲邊勾內減明勾也其共數卽大內減皇極又爲皇極勾股共也其相較步卽皇極差也二云數相並卽黃廣也二云數相減余卽黃長也以共數減於大和余�爲皇極與圓徑共立天元一爲圓徑以減皇極與圓徑共得��爲皇極也以共數自之得�於上以相較數自之得�減上位余�又半之得�爲兩段皇極積【寄左】乃以天元乘皇極得卜�爲同數與左相消得下���開平方得二百四十步卽城徑也合問

或問依前見大和只云大差四百八步小差一百七十步問答同前

法曰以並云數減大和復以乘大和又倍之爲平實三之通和於上又以並云數減大和加上位爲從二步虛法得圓徑

艸曰大差減和步餘�爲大勾大差勾共也以小差減大和余�爲大股小差股共也云數相並�卽大內減虛也云數相減得�爲虛平共也【按此二語因數偶合而誤見前】以相並數減於大和余�爲大差勾小差股共又爲圓徑虛共也立天元一爲圓徑減於�得��爲虛也返以減於圓徑得��爲小和也以天元減大和得��爲大以乘小和得���【寄左】乃再置虛以通和乘之得��與左相消得���開平方得二百四十步卽城徑也合問

或問依前見大和只云黃廣五百一十步黃長二百七十二步問答同前

法曰云數相並減大和復以相並數乘之爲實云數相並減大和得數復以加大和爲法得虛

艸曰別得黃廣又爲大差虛共又爲邊股叀股共也黃長又爲小差虛共又爲底勾明勾共也以黃廣減於大股余卽虛股以黃長減於大勾余卽虛勾故並數以減於大和余�爲虛和也以虛和減徑��卽虛也二云數相並得�爲大虛共也云數相減余�爲虛平共【按此句誤同上】立天元一爲虛以減於七百八十二得��爲大也以小和乘之得��【寄左】乃以天元虛乘大和得�呔爲同數與左相消得��上法下實得一百二步卽虛也合問

或問依前見大和只云邊五百四十四步底四百二十五問答同前

法曰云數相減自之爲實以大和減並數爲法得皇極

艸曰別得以邊減大股余爲半徑內減平勾又爲平內減勾圓差也以底減於大勾余爲髙股內少半徑又爲股圓差內少髙股也二云數相並得九百六十九爲大皇極共也二云數相減�爲皇極勾股差也並數內減通和余�爲皇極內減圓徑也立天元一爲皇極以自之於上以一百一十九自之減上位得丨��爲二皇積【寄左】復置天元內減四十九得下式��爲黃方復以天元乘之得丨�與左相消得��上法下實得二百八十九步卽皇極也內減四十九餘卽城徑也合問

按右大和八問每問於大和外復設二數然多有大和外設一數卽可求者細考其法艸所載皆三數並用婉轉求之蓋意在發明三數取用之理非不知其可省也

測圓海鏡卷九

欽定四庫全書

測圓海鏡卷十

元李冶撰

三事和八問

或問甲乙同立於幹隅乙向東行不知步數而立甲向南直行多於乙步望見乙復就東北斜行與乙相防二人共行了一千六百步又云甲南行不及斜行八十步問答同前

法曰共步內減四之小差復以自之於上以十八个小差冪減於上爲實四之共步內減十六个小差於上卻以十八小差加上爲益從四步常法開平方得中差

艸曰別得共步爲三事和也不及步卽小差也立天元一爲中差加二之小差得��爲大小差並以加入三事和得��爲三也倍三事得三千二百內去大小差並得��爲三和也內減三余��爲三个黃方以自之得���爲九段黃方冪【寄左】再置天元中差加小差得��爲大差以小差�乘之得��爲半个黃方冪就一十八之得��爲同數與左相消得���開平方得二百八十步卽中差也其餘各依法求之合問

或問以前三事和又云大差三百六十步問答同前法曰倍云數以云數乘之又九之於上倍云數加三事和爲前數倍云數減二之三事和爲後數二數又相減餘一百六十爲泛率以自乘減上位爲平實十八之云數內又加四之泛率爲從四常法得中差艸曰立天元一爲中差置云步倍之內減天元得��爲大小差共數加於三事和得��爲三也倍三事內減大小差共數得下式��爲三和也內減三得��爲三个黃方靣也以自之得�【��】�爲九段黃方冪【寄左】再以天元減大差得下式��爲小差又倍之得��以云數乘之得下式��又就分九之得下式��與左相消得下式���開平方得二百八十步卽中差也合問

或問依前見三事和又雲中差二百八十步問答同前法曰和步加差步以自乘於上又和步內減差步以自乘加上位爲平實四之和步爲從二步益隅得大

艸曰立天元一爲大減共步得��爲和副置之上位減差步得��爲二勾以自之得丨��爲四段勾冪也下位加差步得��爲二股以自之得丨��爲四段股冪也二位相並得���爲四段冪【寄左】然後以天元自之又四之得��爲同數與左相消得���開平方得六百八十步卽大也倍之以減於三事和余卽城徑也合問

或問依前見三事和又云小差大差並四百四十步問答同前

法曰並前後二數三而一爲反以減共步得數又以減得城徑

艸曰二數相並得�三而一得�卽也以減三事和得�卽和也和又相減餘二百四十步卽城徑也合問

或問依前見三事和又云小差中差大差共七百二十問答同前

法曰半云數自之又三之於上以三事減上位爲平實【按以三事減上位有誤此系偶合三事之數耳當云加半段三事冪又倍三事和加大差復以大差乘之減上位爲平實】倍三事於上半云數而五之加上位爲益從二常法得小差

艸曰別得三差共爲二大差也立天元一爲小差並大差加入三事和得��爲三也以自之得丨��爲十八積九較冪【寄起】又以共三事步自之得�方於上又以天元小差乘大差倍之得�加於上得��爲十二積四較冪又加五【按卽三因二歸】得��爲十八个直積六个較冪以減寄起余得丨��爲三个較冪【寄左】然後以天元小差減大差得��爲中差以自之得丨��又三之得下式川��爲同數與寄左相消得���平方而一得八十步卽小差也餘各依數求之合問

或問依前見三事和又云明黃方叀黃方共六十六問答同前

法曰二事內加二之共步復以二之共步乘之於上位三事內減二之共步復以二之共步乘之得數減上位爲平實三事內加二之共步又倍之於上又三【按三當作六】之共步加上位爲泛寄三事內減二之共步又四之於上又三【按三亦當作六】之共步減上位得數以減泛寄爲從作十八段虛平方開之得虛黃方

艸曰別得共步卽虛大小差也立天元一爲虛黃方以三之加入倍之共步得��爲圓徑也以圓徑加三事得��爲二通和以圓徑減三事得��爲二通又副置圓徑上加天元得��爲二虛和下減天元得��爲二虛乃置二大和以二小乘之得下���【寄左】然後置二大以二小和乘之得下式���與左相消得���平方開之得三十六步卽虛黃方也其餘各依法求之合問

或問依前見三事和又云皇極二百八十九步問答同前

法曰二數相乘爲實從空一益隅得大

艸曰立天元一爲通內減皇余��爲皇極勾股和以自之得丨��於上以皇極冪減上位得丨�爲二直積合於皇極除之不除寄爲母便以此爲城徑【寄左】乃以二之天元減共步得��爲黃方面以皇通之得��與左相消得丨��開平方得六百八十步卽大也合問

或問依前見三事和又云見太虛一百二步問答同前

法曰半虛乘三事爲實三事爲從四虛隅翻開之得半大

艸曰識別得以虛減大半之爲皇極以虛加大半之爲皇極勾股共也立天元一爲半大以二之內減虛得��折半得��爲皇極也又以虛加大而半之得��爲皇極和也和自之得丨��於上又以自之得丨��減上位余得下�爲二直積合以皇極除之不除寄爲分母便以此爲城徑【寄左】然後以四之天元減三事共余��又以皇極分母通之得���爲同數與左相消得���倒積開得三百四十步倍之卽大也合問

測圓海鏡卷十

欽定四庫全書

測圓海鏡卷十一

元李冶撰

雜糅一十八問

或問城南有槐樹一株城東有柳樹一株甲出北門東行丙出西門南行甲丙槐柳悉與城參相直旣而丙就柳行五百四十四步至柳樹下甲就槐行四百二十五步至槐樹下問答同前

法曰甲就步自之於上以二行相減數自之減上位爲實二之二行相減數並入二之甲就步爲從一步常法得平

艸曰別得丙就步爲邊也甲就步爲底也邊卽皇髙共也底卽皇平共也二行相並卽大皇共也二行相減卽皇極勾股較也倍皇以減於大余卽虛也倍皇內減邊余卽叀也倍皇內減底余卽明也皇極加一差【按一差卽皇極勾股較】則大差也內減一差則小差也立天元一爲平加一皇極勾股差得��卽髙也髙自之得丨��內加天元冪得���爲皇冪【寄左】然後以天元減底得下式��自之得丨��爲同數與左相消得丨��開平方得一百三十六步卽平也餘各依法求之合問

或問出南門東行有槐樹一株甲出北門東行斜望槐樹與城相直就槐樹行二百七十二步出東門南行有柳樹一株丙出西門南行斜望柳樹與城相直就柳樹行五百一十步問答同前

法曰云數相並而半之以自乘於上半丙斜行以爲冪半甲斜行以爲冪並二冪減上位爲實並云數爲益從一步平隅得虛

艸曰別得丙斜行爲黃廣也亦爲兩个髙也此勾則城徑也甲斜行卽黃長也亦爲兩个平也此股則城徑也二數相並得�卽大虛共也二數相減余�卽兩个皇極差也二數相並而半之得�卽皇極和也立天元一爲虛以減於皇極和得��卽皇極也以自之得丨��爲皇冪【寄左】然後以髙自之得�以平自之得�二自乘數相並得�與左相消得���開平方得一百二卽虛也合問

或問甲從坤隅南行不知步數而立乙從艮隅南行一百五十步望見甲復斜行五百一十步與甲相防問答同前

法曰斜行自之於上倍南行減斜余自之以減上爲實倍南行減斜又四之爲從八步常法平方得半徑艸曰別得南行卽小差股斜行卽黃廣也小差股內減半徑余卽半个黃廣積上股差也全徑卽其勾也立天元一爲半城徑減於乙南行倍之得��卽一个黃廣卽上股差也以減於斜行步餘��卽股也自之得���爲股冪也又倍天元以自之得��爲大勾冪加入大股冪得���【寄左】然後以斜行冪�與寄左相消得下式���開平方得一百二十步卽半徑也合問

或問乙從艮隅東行不知逺近而止甲從坤隅東行一百九十二步望見乙復斜行二百七十二步與乙相防問答同前

法曰倍東行減斜行得數自爲冪以減於斜行冪爲平實倍東行減斜行又四之爲從八益隅翻法開平方得半徑

艸曰別得甲東行卽大差勾也斜行則黃長也大差勾內減半徑余卽半个黃長積上勾差也全徑卽其股也立天元一爲半徑減於東行倍之得��卽一个黃長積上勾差也以減於斜行步得��卽黃長勾也以自之得���爲勾冪於上倍天元以自之得��加上位得下式���爲冪【寄左】然後以斜行冪�爲同數與左相消得���平開得一百二十步卽半城徑也合問

或問甲從坤東行一百九十二步丙從艮南行一百五十步望見之問答同前

法曰二行相乘倍之爲平實如法得圓徑

艸曰別得甲行卽大差勾丙行卽小差股此二數相乘恰與大小差相乘正同如法相乘訖倍之得�爲圓徑冪【寄左】然然立天元爲圓徑以自之與左相消得丨��開平方得二百四十步卽城徑也合問

又法以二行相減數減於二行相並數餘者半之於上復以二行相減數加於上卽城徑

艸曰別得甲東行減於徑爲虛勾也丙南行減於徑爲虛股也二行共爲一徑一虛共也二行相減卽虛和也以相並數相減數又相減卽兩个虛也如法求得虛和�虛�相並得�卽城徑也合問按又法未合蓋以二行相減爲虛較而艸中誤以爲虛和也其義甚淺非難知者是殆偶爾之遺忘然亦可以決其爲當日未定之稿矣

或問出西門南行二百二十五步有塔出北門東行六十四步望塔正當城徑之半問答同前

法曰二行相乘爲平實一步常法得半徑

艸曰別得二百二十五步爲髙股此乃半徑爲勾之股也其六十四步爲平勾此乃半徑爲股之勾也二數相並卽太極也二數相減卽中差內去皇極差也又別得二行相乘恰是半徑冪一段此與半梯頭相乘其意正同今且以上容圓取之立天元一爲半徑副之上加南行得��爲股也下加東行步得��爲勾也勾股相乘得丨��爲大直積以天元半徑除之得���爲勾股和【寄左】然後並勾股得��與左相消得丨○�開平方得一百二十步卽半徑也合問

或問丙從幹隅南行丁從艮隅亦南行甲從幹隅東行乙從坤隅亦東行各不知步數四人悉與城相直只云丙行內減丁行餘四百五十步甲行內減乙行餘一百二十八步問答同前

法曰二行相乘爲實一步常法得城徑

艸曰別得丙行卽大股丁行卽小差之股也甲行卽大勾乙行卽大差之勾也其�卽黃廣股其�卽黃長之勾也立天元一爲城徑先置黃廣股�爲股方差以�爲勾方差以乘之得�爲城徑冪【寄左】然後以天元冪與左相消得下式丨��開平方得二百四步合問

或問出南門東行有槐樹一株出東門南行有柳樹一株丙丁二人同立於坤隅甲乙二人同立於艮隅丁直東行至槐而止乙直南行至柳而止丙直南行甲直東行四人遙相望見只云丙行多於丁行一百六十八步乙行多於甲行七十步問答同前

法曰云數相乘爲實二數相減又半之爲法得城徑艸曰別得�卽大差勾股較也其�卽小差上勾股較也二數相並爲大差內減小差也二數相較又半之皇極與城徑差也二數相並而半之卽皇極差也立天元一爲圓徑二云相減數又半之加天元得��爲極也並二數而半之得�爲極差也副置極上位加極差得��爲較和也下位內減極差得��爲較較也上下相乘得丨��爲二直積【寄左】然後以天元一乘極得下式丨�爲同數與左相消得��上法下實而一得二百四十步卽城徑也合問

或問甲從坤東行丙從艮南行適相見斜行一百二步甲丙相防丙云我南行不及汝四十二步問答同前法曰二數相並以斜行乘於上二數相並而半之以乘相並數減上位爲平實不及步爲從一步常法得虛勾

艸曰別得一百二步卽虛四十二步卽虛較也又斜行得虛股爲乙東行此便爲大差勾也斜行步得虛勾爲丙東行此便是小差股也立天元一爲虛勾加斜行步得��爲小差股也以不及步加於小差股得下式��爲大差勾也勾股相乘得丨��爲半段黃方冪【寄左】然後再置虛勾加不及步得��爲虛股又加入天元得��爲虛和又加入虛得��爲圓徑以自之得���又半之得���與寄左相消得丨��平方開得四十八步卽虛勾也合問

或問甲從城心東行丙從城心南行庚從巽隅西行壬從巽隅北行四人遙相望見各不知步數隻云甲丙共行了三百九十一庚壬共行了一百三十八問答同前

法曰云數相乘爲實相並爲法得虛

艸曰別得甲丙共爲皇極和也又爲極極黃共庚壬共爲太虛和也又爲虛虛黃共立天元一爲皇極黃方靣【亦爲虛也】減於甲丙共得��卽極也又以天元減於庚壬共得��卽太虛黃方靣也以太虛黃方靣乘極得丨��【寄左】然後以天元冪與左相消得��上法下實如法得一百二步卽皇極黃方靣也合問【按此亦系相消後得一邊之二數者】

或問甲從幹隅東行不知步數而止丙向南行亦不知步數望見甲就甲斜行七百八十步與甲相防甲云我行地𨿽少於汝以我東行步爲法除汝南行步則汝止得二步四分問答同前

法曰斜步自之爲平實除步自之又加一步爲隅得甲東行

艸曰此問所求城徑與諸問並同其勾股則與前後諸率不同今特爲此艸者欲使後學有以考較諸率當否也立天元一爲甲東行【卽大勾】以乘二步四分得�爲長以自之得��爲股冪又並入天元冪得��爲冪【寄左】乃以斜行自之得�爲同數與左相消得���開平方得三百卽甲東行也以二步四分乘之得七百二十步卽丙南行也倍丙東行以甲東行乘之得四十三萬二千爲實以三事和一千八百爲法除之得二百四十步卽城徑也合問

或問小差黃方靣少於大差黃方靣八十四步太虛黃方靣少於皇極黃方靣六十六步問答同前

法半八十四爲中差以中差減六十六爲二小差半之爲小差又中小差相並爲大差乃以小差乘大差爲平實半步常法得虛黃

艸曰別得八十四爲兩个虛積中差其六十六爲虛積大小差並半八十四得�爲虛中差也以中差減六十六餘二十四半之得�卽虛小差也以小差反減六十六餘�卽虛大差也又別得小差黃方爲兩叀股大差黃方爲兩明勾也立天元一爲虛黃方置三位上加小差得��爲虛勾也中加大差得下��爲虛股也下加大小差並得��爲虛也三位並之得��卽城徑也倍虛勾減城徑得��爲大差黃方靣也又倍虛股減城徑得��爲小差黃方靣也半小差黃方靣得��以乘大差黃方得���爲一个虛直積【寄左】乃以虛勾虛股相乘得丨��爲同數與左相消得���平方開得三十六步卽虛黃方靣也其餘依法求之合問據此問旣別得大小差正數自可以求得黃方靣也諸如此數實不湏艸今特爲細艸者庶使後學知其來歷

或問大差較較減皇極餘四十九步小差較和減太虛餘一百三十八步又皇極差一百一十九步問答同前

法曰並前二數爲冪內減極差冪爲平實從空二益隅得虛

艸曰別得大差較較與小差較和皆同爲圓徑也又二數相並得�爲明叀共又爲極和內少兩个虛也其一百三十八卽虛和也�則旁差也立天元一爲虛加入一百三十八得��爲圓徑也又加入�得��爲極以自之得丨��又倍之得���內卻減極差冪�得下式���爲和冪【寄左】乃倍天元加並數得��爲極和以自增乘得���爲同數與左相消得���開平方得一百二步卽虛也加入一百三十八得二百四十步爲圓徑合問【前二數相並加虛便是極】

或問小差不及平五十六步髙不及大差一百五步問答同前

法曰以前數自之爲實二數相減爲法得平勾艸曰別得云數相並得�爲平勾不及髙股也此數得極差則通差也此數內減虛差則極差也云數相減余�卽城徑不及極也以前數減於半徑余卽平勾以後數加於半徑卽髙股也倍前數加小差則爲股圓差之勾也此與前數加平同倍後數減於大差則爲勾圓差之股也此與後數減於髙同立天元一爲平勾加相並數得��卽髙股也又加天元得��卽極也內減二云數差得��爲城徑也半之得��以自之得丨��爲半徑冪【寄左】然後以天元乘髙股得丨�爲同數與左相消得��上法下實得六十四步卽平勾也合問

又法云數相得爲實相減爲法得半徑

艸曰立天元爲半徑副之上內減五十六得��爲平勾下加一百五得��爲髙股上下相乘得丨��爲半徑冪【寄左】以天元冪與左相消得下式��上法下實得一百二十步卽半徑也合問

或問通勾通共一千步大差小差共得四百四十步問答同前

法曰以二差共減於一千又半之以自乘爲平實以二差共減於一千又半之加入二之前數爲縱【前數謂一千也按此語有誤應加入二之後數後數謂大小差共也】二步二分五釐益隅得勾圓差

艸曰立天元一爲小差數加入後數得��卻以減於前數得��折半得��爲一个圓徑也以自之得下式���【寄左】然後以天元減後數得��爲大差以天元乘之又倍之得��與左相消得���開平方得八十步卽勾圓差也

或問皇極三事和六百八十步太虛和較三十六問答同前

法曰二數相得爲實半之後數爲益從五分常法平開得城徑

艸曰別得皇極三事和卽大也立天元一爲城徑減三个後數�而半之得��爲太虛大小差並也卻加入兩个後數�得下��爲虛和也又以虛和減天元得下��爲虛也置通【卽皇極三事和也】內加天元得下式��卽通和也乃置通和以虛乘之得下式���【寄左】再置虛和以通乘之得下��爲同數與左相消得���開平方得二百四十步卽城徑也合問

或問出南門行一百三十五步有樹出北門行一十五步折而東行二百八步望見問答同前

法曰以東行步乘南行步得數又自乘爲實以東行步自乘乘南行步又倍之爲從東行步自乘於上並南北二行步以減於東行步餘數自之爲冪以減上再寄位又並南北二行步以東行步乘而倍之內減再寄爲第一益亷四之東行步於上又並南北二行步減於東行步又四之減上位爲第二益亷四步虛隅開三乘方得半徑

艸曰立天元一爲半徑【卽髙勾也】置南行步加天元得��爲髙也置大勾�以髙乘之得��復以髙勾除之得下式��爲大也令之自乘得���【寄左】又置二之天元加南北行並得��爲大股復用大勾二百八減之得��爲較也以自乘得���爲較冪以減寄左得�����爲二直積【寄左】再置大股��以大勾�乘之得��爲直積又倍之得��爲同數與左相消得�����翻法開三乘方得一百二十步卽城徑之半也合問

或問出北門一十五步折而東行二百八步有樹出西門八步折而南行四百九十五步見之問答同前法曰先置南行步內減一東二西並步餘二百七十一爲前泛率次並一南二北內減東行步餘三百一十七爲中泛率次並東西步以南行步乘之於上位又以西行乘南北並得數減上位餘一十萬二千八百四十爲後泛率乃以後泛率自乘得一百五億七千六百六萬五千六百爲三乘方實以前中二泛相減餘四十六以乘後法數爲從前中二泛相乘得八萬五千九百七加入二之後泛數共得二十九萬一千五百八十七於上位又並東西行以乘南北並得二十二萬三百二十加上位通得五十一萬一千九百七爲第一亷二之前泛數加入四之東西並得一千四百五十二於上位又以前中二泛相減於四十六減上位餘一千四百六爲第二亷一步常法得半徑【按此法乃取於又法艸中其求第二亷云二之前泛數句誤當云二之四數並若二之前泛數加入四之東西並便得第二亷一千四百零六更不待再減然原文之意不如是也】

艸曰立天元一爲半城徑加入東行西行並得��爲大勾也又置天元加入南行北行並得��爲大股也置西行八步以大股乘之得下式��合以大勾除之不除寄爲母便以此爲股尖也置南行四百九十五步減天元得��用分母大勾乘之乘訖得下式���內減了股尖余���爲小股也【內帶大勾分母】置小股合以大勾乘了復以大股除之爲小勾今爲小股內已有大勾爲母更不湏乘只以小股���便爲小勾也【內帶大股爲母】小勾小股相乘得數爲一个小勾股相乘直積內帶大勾股相乘直積爲分母也乃以半城徑【卽天元也】除之爲一个較和也丨����此法本取勾外容圓合以較和除二積爲勾外所容之圓今用天元半徑除一个積則卻得一个較和也內依舊帶大積分母也【寄左】然後再置小股���合用大積乘之緣內已帶大勾分母今只用大股��乘之得����爲大積所乘小股於上再置小勾合用大積乘之緣內已帶大股分母合只用大勾��乘之得����爲大積所乘之小勾也以此小勾減上小股得���卽帶分小較也又二因小較得下式���爲帶分二較也又以大勾股直積丨��乘二之天元半徑得���爲一个帶分較較也【較較乘較和爲二直積旣以圓徑除二百積爲較和則是圓徑爲較較也今又爲半天元圓徑除一積爲較和故倍天元半徑作一个較較也】遂將此較較加入前二較得����亦爲一个較和也與寄左相消得下式丨����開三乘方得一百二十步卽城半徑也合問

又法此問系是洞淵測圓門第一十三前答亦依洞淵細艸用勾外容圓術以入於較和然其數煩碎宛轉費力今別艸一法其亷從與前不殊而中間段絡逕捷明白方之前術極爲省易學者當自知也立天元一爲半徑副之上並加東西行得��爲通勾率下並加南北行得��爲通股率乃置西行八步以通股乘之得下��合通勾除不除寄爲母便以此爲南小股也又置南行四百九十五步內減天元得��用通勾乘之得���內減了南小股下式卜��爲股圓差也內帶通勾分母又置北行一十五步以通勾乘之得��合通股除不除寄爲母便以此爲北小勾也又置東行二百八步內減天元得��用通股乘之得���內減了北小勾余���爲勾圓差也【內帶通股分母】乃以二差相乘得下式丨�【��】�【��】爲半段圓徑冪也內帶通積爲母【寄左】然後以通勾通股相乘得丨��以天元冪乘之得丨���又倍之得下式����爲同數與左相消得亷從一與前同合問

按洞淵疑爲古之精於算者序中謂老大以來得洞淵九容之說而於此問又明其爲洞淵測圓門第十三題前答亦依其細艸大抵是書之作皆師其意而演之者也今洞淵之爲人與書𨿽不可考而卽此一艸觀之其取徑遙深而惟變所適亦可見文豹之一班矣至謂其數煩碎宛轉費力特爲初學難易而言讀者宜善防也

測圓海鏡卷十一

欽定四庫全書

測圓海鏡卷十二

元李冶撰

之分一十四問

或問甲乙二人俱在西北隅乙向直東行不知步數而止甲向直南行望見乙復向乙斜行甲告乙云我直行斜行共一千二百八十步汝東行步居我南行步十五分之八

法曰十六之共步冪爲實二百五十七之共步爲益從一十六步常法得勾圓差

艸曰別得共步卽股共也立天元一爲小差以乘共步得�爲勾冪就分以二百二十五通之得�爲二百二十五段勾冪【寄左】然後再置共步內減小差得��爲二股就分四之得��爲一十五勾以自之得���爲同數與左相消得���平方開之得八十步卽小差也旣得小差加共步而半之得六百八十步卽也若以減共步而半之得六百步卽股也以股冪減冪餘一十萬二千四百步開平方得三百二十步卽勾也勾股相乘倍之得三十八萬四千步爲實以和和一千六百步爲法實如法而一得二百四十步卽城徑也合問

或問甲乙二人俱在西北隅乙直南行不知步數而立甲直東行望見乙復向乙斜行與乙相防甲云我共行了一千步又云我東行步居汝南行步十五分之八

法曰二百二十五段共步冪爲實七百六之共步爲益從二百二十五步常法得股圓差

艸曰別得共步卽勾共也立天元一爲大差以乘共步得�又就分以二百五十六通之得�爲二百五十六个股冪【寄左】然後再置共步內減天元大差得��爲二勾就分以一十五之得��爲十六个股也以自之得��【��】爲同數與左相消得���開平方得三百六十卽大差也副置共步上位減大差而半之得三百二十步卽勾也下位加大差而半之得六百八十步卽也餘數各依法求之合問

或問甲乙俱在城西北隅甲南行不知步數而立乙東行亦不知步數望見甲就甲斜行與之相防乙云我東步少於城周九分之五甲云我南行卻多於汝東行二百八十步問答同前

法曰別得周居九分徑居三分乙東行居四分【按此法未詳當加倍較步爲實徑分數自之內減二分數爲法得數三之卽城徑二十四字】

艸曰立天元一爲一分之數以三之得�爲徑以四之得�爲勾以徑減勾余�爲小差【只天元便是小差】再置小差加入甲多步得��爲大差倍大差以天元乘之得��爲一段圓徑冪【寄左】再置城徑以自之得下式��爲同數與左相消得��上法下實得八十步卽一分之數也以三之得二百四十步卽城徑也合問

或問甲出西門南行不知步數而立乙出北門東行望見甲旣而乙云我所行居城徑六分之五甲云然則我所行卻多於汝二百八十步問答同前

法曰四之卻多步爲實分自之於上半分母減子得數倍之又以減數乘之減上位爲法得一分之數艸曰別得卻多步卽勾股差也乃立天元一爲一分數以六之爲城徑以五之爲乙行置乙行內減半城徑得�爲小差也又加入卻多步得��又二之得��爲二大差又以小差乘之得��爲徑冪【寄左】然後以徑冪��與左相消得下��上法下實得四十步卽一分之數也六之則爲城徑五之則爲乙行又以卻多步加乙行卽甲行步也合問

或問甲丙二人俱在西北隅甲向東行不知步數而立丙向南行望見甲與之相防丙語甲云我行旣多於汝又城徑少於我四十分之十六【按四十爲股分十六爲徑當云徑少於我爲四十分之十六原文脫爲字似十六爲股圓差分矣】甲云然則吾二人共行了九百二十步問答同前

法曰倍子以減倍母又乘共行步爲實倍子減倍母以乘子母並數於上又以子冪加上位爲法如法得一十五步卽一分之數也

艸曰別得共行步卽通和也又別得四十分之十六或作二十分之八或作十分之四亦得但所得分數不同耳乃立天元一爲一分之數以十六之爲城徑以四十之爲丙行丙行減和步得��爲通勾勾內減徑余得��爲小差於上以分母分子相減余�又倍之得�爲兩个大差以乘上位得��爲圓徑冪【寄左】然後以分子十六分自之得下��與左相消得��上法下實得一十五步卽一分之數也以十六之得二百四十步卽城徑也合問

或問甲乙俱立於城中心乙出東門直行不知步數而立甲出南門直行亦不知步數望見乙向乙斜行與之相防乙云我居汝南行十五分之八又云斜行步內若減甲直行餘三十四步若減乙直行餘一百五十三步問答同前

法曰以云數二減步爲小差大差以相乘倍之開平方加入大小差並以自之於上又以大小差相較數以自之減上位爲實甲行分乙行分相乘又倍之爲隅法得一分之數

艸曰別得云步相並得一百八十七是於皇極內少一个皇極黃方靣也又別得三十四步是个小勾圓差其一百五十三步是一个小股圓差此二差又相減餘一百一十九卽中差也乃立天元一爲一分之數以八之得�爲乙東行數以十五之得�爲甲南行數以二數相乘又倍之得��爲二直積於上【寄左】然後以云步三十四乘一百五十三得五千二百二又倍之得一萬四百四爲平方實開之得一百二步卽小黃方也加入相並數一百八十七得二百八十九爲小也以自之得八萬三千五百二十一爲冪於上以中差冪一萬四千一百六十一減上位余�與左相消得���平方開之得一十七步卽一分之數也副置一分之數上位以八之得一百三十六卽乙東行也下位以十五之得二百五十五卽甲東行也二位相乘得三萬四千六百八十又倍之得六萬九千三百六十爲實以二百八十九爲法如法得二百四十步卽城徑也合問

或問甲出西門南行乙出北門東行各不知逺近兩相望見復相斜行各行了三百四十步相防甲云城徑居我南行二分之一乙云我東行居城徑六分之五問答同前

法曰以二之斜行步自之爲實以各行分數自之爲冪【按此語未詳當云以城徑六分乘甲南行二分得十二分加半城徑三分得十五分爲大股分乙東行五分加半城徑三分得八分爲大勾分各自之爲冪】又相並爲隅法開平方得一分之數

艸曰別得倍斜行爲大又別得乙行五分城徑六分甲行十二分乃立天元一爲一分之數以六之得�爲城徑以五之得�爲乙行分以十二之得�爲甲行分乃副置半城徑上位加甲行步得�以自之得��爲甲行冪下位加乙行步得�以自之得��爲乙行冪二冪又相並得��爲大冪【寄左】然後置大六百八十步以自之得�與左相消得���平方開之得四十步卽一分之數也以六之得二百四十步卽城徑也合問

或問甲出西門南行不知步數而立乙出北門東行見之乙斜行與甲相防甲乙二人共行了一千三百六十步其甲南行居斜十七分之十二其乙東行居斜十七分之五問答同前

法曰別得共步卽二也半共步得六百八十步副置上位以五之得三千四百以十七而一得二百步卽乙東行也下位以十二之得八萬一千六百以十七而一得四百八十卽甲南行也二行相減餘二百八十卽勾股差也其餘各依法求之合問

或問甲出西門南行不知步數而立乙出北門東行望見之旣而乙謂甲云我取汝六分之五得六百步甲謂乙云我取汝五分之三亦得六百步問答同前法曰求得各行步【按見後艸】相並以自之於上並甲南行冪乙東行冪以減上爲實並各行爲從半步常法得全徑

艸曰置【乙取甲六分之五六百步甲取乙五分之三六百步】以上六分五分各自直乘步數訖得人【六分之五三千六百步五分之三三千步】別得左行三千六百步爲六乙行五甲行也右行三千步爲五甲行三乙行也以方程法入之乃再置【五甲行六乙行三千六百步五甲行三乙行三

千步】先以左行直減右行右上空中餘三乙行下餘六百步上法下實得二百步卽乙行也卻以今右行減於元左行上餘五甲行空中下餘二千四百步上法下實得四百八十步卽甲行也旣得此數乃立天元一爲城徑以半之副置二位上以加甲行得��爲通股以自之得���爲大股冪下位加乙行得��爲通勾以自之得���爲大勾冪二冪相並得���爲大冪【寄左】乃並甲行乙行以自乘得下式�亦爲大冪與左相消得下���開平方得二百四十步卽城徑也合問

或問甲從坤隅南行不知步數而立乙從艮隅東行望見之旣而乙謂甲云我所行取汝所行三分之一得二百步甲謂乙云我所行內減汝所行四分之三得三百步問答同前

法曰如法求得各行【按見後艸】以相乘又二之開平方得全徑

艸曰置【乙取甲三分之一二百步甲減乙四分之三三百步】以上三分四分置乘步數訖得【三分之一六百步

四分之三一千二百步】別得右行六百步爲三乙行一甲行也左行一千二百步爲四甲行內少三之乙行步也以方程法入之乃再置【一甲行三乙行

六百

步四甲行三乙行負一千二百步】先以左行直加右行右上得五甲行中空下一千八百步上法下實得三百六十步卽甲行也次以一甲行減元右行六百步餘二百四十步以中三除之得八十步卽乙行步也甲行乙行二數相乘得數又倍之開平方卽城徑也合問

或問股圓差如股五分之三勾圓差如勾四分之一又云其大小差相減餘二百八十步問答同前

法曰二之中差爲實置股子以勾母乘之內減股母爲法得小差

艸曰別得勾圓差卽小差股圓差卽大差云步卽中差乃立天元一爲小差以四之得�爲勾勾上加中差得��爲股又三之得��爲五个大差也內減五个天元得��爲五个中差也【寄左】乃以五之相減步�與左相消得��上法下實得八十步卽小差也合問

或問股圓差如股五分之三勾圓差如勾四分之一又云勾母每分少於股母每分四十步問答同前法曰二之少步實以股子母相減數減勾子母相減數爲法如法得小差

艸曰立天元一爲勾圓差便爲勾母每分數以天元加四十步得��爲股母每分數於上乃以股子減股母餘二分以乘上位得��爲城徑【寄左】再置天元在地以勾子減勾母餘三分以乘之得��爲同數與左相消得下丨�上法下實得八十步卽勾圓差也合問

或問甲出南門直行乙出東門直行望見甲斜行與甲相防甲云我行不及股圓差二十四分之十五乙云我行不及勾圓差五分之四又云甲行多於乙行一百一十九股圓差多於勾圓差二百八十問答同前法曰以大差母分二十四以乘甲多一百一十九得數倍小差母五得一十以乘之於上以小差母五乘二之二差相較數又九之減上位爲實倍小差母得一十卻以小差乘之又九之於上倍甲分母以小差母乘之得數減上位以爲法得小差一分之數艸曰立天元一爲小差一分之數【此一分之數便是乙直行之數也】以五之得�爲小差加二百八十得下��爲大差又倍之得��以小差乘之得下式��爲一个圓徑冪又九之得��【寄左】乃又置乙行步加一百一十九��卽甲行步也以二十四之得��爲九个大差也倍小差母得�以乘之得��爲同數與左相消得��上法下實得一十六步卽小差一分之數也旣得此數餘各如法求之合問

或問大勾大股大三事和一千六百步以明勾除大股得八步三分之一以�股除大勾得一十步三分之二以虛勾明勾相減餘二十四步以虛股�股相減餘六十步問答同前

法曰六十步加入大三事和又三之二而一爲實並二云數分母分子內減六步爲法如法得�股艸曰別得六十步與二十四步二數相並而半之得�卽明勾�股差也又爲虛勾虛股差也若以二數直相減卽虛黃方也其二十四步得二虛勾卽半徑也其六十步得二�股亦爲半徑也立天元一爲�股加差步得��爲明勾也以乘八步三分之一得��爲大股也以天元乘一十步三分之二得�爲大勾也勾股相並得下��爲大和也【寄左】然後四之天元加入二之六十步得��爲小三事和以小三事和加入大三事和得��爲二个大和也合折半爲大和了又就三分之爲前數今不折半三因但身外加五得��爲同數與左相消得��上法下實得三十步卽�股也四之�股加入二之六十步得二百四十步卽城徑也合問

按之分卽通分也張邱建謂學者不患乘除之爲難而患通分之爲難又謂夏侯陽之方倉孫子之蕩杯皆未盡其妙於是作爲算經三卷以發其義是書末設十四問皆以立天元一之法禦之尢爲簡妙殆所以明立天元一之法其用無不周也又按問中兩言以方程入之張邱建算經內數問亦然蓋有通分而乘除不窮有方程而通分益便此又因通分及之非立天元一本法也秦九韶謂時人誤以大衍法爲方程者蓋此類也

按右書十二卷皆爲立天元一法而作也其法神明變化不可端倪今略舉數端言之如諸法中有求之不可得者此法求之可得若此法求之不可得者則必不可求矣又諸法中有難求者𨿽彊探力索毫釐未至則不可得此法但知大意不待深思加以步算卽可得矣又諸法中有所求或先得彼而後得此者不能移易此法任其所求或先得此或先得彼無不如志又諸法有數始可求一數不具則不可求此法數不具亦可求且有無數卽可求者又諸法遇甚繁甚密者湏次第步算或累日累月其功不能再省此法有經年步算可約之頃刻而得者凡此皆尋常智慮所不能及要皆自然之理數易知易從然自不習者觀之蓋有茫然莫解其故者矣是書之作殆深憂習者難其人而其法遂泯於後世也其謄寫魯魚算式舛訛今悉正之

測圓海鏡卷十二

後序

敬齋先生病且革語其子克修曰吾平生著述死後可盡燔去獨測圓海鏡一書𨿽九九小數吾嘗精思致力焉後世必有知者庶可布廣垂永乎先生於六藝百家靡不貫串文集近數百卷常謙謙不自伐惟於此書不忘稱異於易簀之間想有妙內得於心者予以先生與先人同牓之故素常兄事克修克修兄命予重爲序之予不敢詭論艷藻刻畫無鹽唐突西子直以所聞語意載之於後至元二十四年春三月朔翰林修撰承直郎廣平王徳淵後序

