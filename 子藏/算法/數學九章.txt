

欽定四庫全書

子部六

數學九章

天文算法類二【算書之屬】提要

【臣】等謹案數學九章十八卷宋秦九韶撰九韶始末未詳惟據原序自稱其籍曰魯郡然序題淳祐七年魯郡已久入於元九韶蓋述其祖貫未詳實爲何許人也是書分爲九類一曰大衍以奇零求總數爲九類之綱二曰天時以步气朔晷影及五星伏見三曰田域以推方圓羃積四曰測望以推髙深廣逺五曰賦役以均租稅力役六曰錢谷以權輕重出入七曰營建以度土功八曰軍旅以定行陣九曰市易以治交易𨿽以九章爲名而與古九章門目迥別蓋古法設其術九韶則別其用耳宋代諸儒尙虛談而薄實用數𨿽聖門六藝之一亦鄙之不言卽有談數學者亦不過推演河洛之奇偶於人事無闗故樂屢爭而不決歷亦每變而愈舛豈非算術不明惟憑臆斷之故歟數百年中惟沈括究心是事而自夢溪筆談以外未有成書九韶當宋末造獨崛起而明絕學其中如大衍類蓍卦發微欲以新術攺周易揲蓍之法殊乖古義古歷防積題數旣誤且謂設問以明大衍之理初不計前後多少之歷過尢非實據天時類綴術推星本非方程法而術曰方程復於艸中多設一數以合方程行列更爲牽合所載皆平气平朔凡晷影長短五星遲疾皆設數加減不過得其大防較今之定气定朔用三角形推算者亦爲未密然自秦漢以來成法相傳未有言其立法之意者惟此書大衍術中所載立天元一法能舉立法之意而言之其用𨿽僅一端而以零數推總數足以盡奇偶和較之變至爲精妙苟得其意而用之凡諸法所不能得者皆隨所用而無不通後元郭守敬用之於弧矢李冶用之於勾股方圓歐邏巴新法易其名曰借根方用之於九章八綫其源實開自九韶亦可云有功於算術者矣至於田域測望賦役錢谷營建軍旅市易七類皆擴充古法取事命題𨿽條目紛紜曲折往復不免瑕瑜互見而其精確者居多今卽永樂大典所載於其誤者正之疎者辧之顚倒者次序之各加案語於下庶得失不掩俾算家有所稽考焉乾隆四十九年十月恭校上

總纂官【臣】紀昀【臣】陸錫熊【臣】孫士毅

總校

官【臣】陸

費墀

數學九章序

周教六藝數實成之學士大夫所從事尙矣其用本太虛生一而周流無窮大可以通神明順性命小足以經世務類萬物距容以淺近窺哉若昔推防以迎日定律而和气髀距濬川土圭度咎天地之大囿焉而不能外況其間總總者乎爰自河圖洛書闓發幽祕八卦九疇錯綜精防極而至於大衍皇極之用而人事之變無不該鬼神之情莫能隱矣聖人神之言而遺其粗常人昧之由而莫之覺要其歸則數與道非二本也漢去古未逺有張蒼許商馬延年耿壽昌鄭張衡劉洪之倫或明天道而法傳於後或計功防而效驗於時後世學者自髙鄙不之講此學殆絕惟治歷疇人能爲乘除而弗通於開方衍變若官府會事則府史一二絫之算家位置素所不識上之人亦委而聽焉持算者惟若人則鄙之也宜矣嗚呼樂有制氏僅記鏗鏘而謂與天地同和者止於是可乎今數術之書尙三十餘家天象歷度謂之綴術太乙壬甲謂之三式皆曰內算言其祕也九章所載及周官九數擊於方圓者爲專術皆曰外算對內而言也其用相通不可岐二獨大衍法不載九章未有能推之者歷家演法頗用之以爲方程者誤也且天下之事多矣古之人先事而計計定而行仰觀俯察人謀鬼謀無所不用其謹是以不愆於成載籍章章可覆也後世興事造始鮮能考度乎天紀人事之殽缺矣可不求其故哉九韶愚陋不閒於藝然早嵗侍親中都因得訪習於太史又嘗從隱君子受數學時際兵難歷嵗遙塞不自意全於矢石之間更險離憂荏苒十禩心槁气落信知失物莫不有數也乃肆意其間旁諏方能探索杳粗若有得焉所謂通神明順性命固膚末於見若其小者竊嘗設爲問答以擬於用積多而惜其棄因取八十一題釐爲九類立術具艸間以圖發之恐或可備博學多識君子之餘觀曲藝可遂也願進之於道儻曰藝成而下是惟疇人府史流也烏足盡天下之用亦無瞢焉時淳祐七年九月魯郡秦九韶敍且系之曰昆侖旁薄道本虛一聖有大衍防寓於易奇余取防郡數皆捐衍而防之探隱之原數術之傳以實爲體其書九章惟玆弗紀歷家𨿽用用而不知小試經世姑推所爲述大衍第一七精回穹人事之紀追綴而求宵星畫晷歷久則疏惟智能革不尋天道模襲何益三農務穯厥施自天以滋以生雨膏雪零司牧閔馬尺寸驗之積以噐移憂喜皆非述天時第二魁隗粒民甄度四海蒼姫井之仁政攸在代逺庶蕃懇菑日廣步度庀賦版圖是掌方圓異狀袤窳殊形專術精防熟防厥眞差之毫釐謬乃千里公私共蓋謹其籍述田域第三莫髙匪山莫濬匪川神禹奠之積矩攸傳智創巧述重差夕桀求之旣詳揆之岡越崇深廣逺度則靡容形格勢禁防壘仇墉欲知其數先望以表因差施術坐悉防述測望第四邦國之賦以待百事畦田經入取之有度未免力役先商厥功以衰以率逸乃同漢猶近古租稅以算調均錢谷何菑之扞惟仁隱民猶已溺饑賦役不均寜得勿思述賦役第五物等斂賦式時府庾粒粟寸絲褐夫紅女商徵邊糴後世多端立緣爲欺上下俱殫我聞理財如智治水澄原濬流惟其深矣彼昧弗察急煩刑去理益逺吁嗟不仁述錢谷第六斯城斯池乃棟乃宇宅坐寄命以保以聚鳩功雉制竹个本章匪防匪度財蠧力傷圍蔡而裁如子西素匠計露臺俾漢文懼惟武圖功惟儉昭徳有國有家玆焉取則述營建第七天生五材兵去未可不教而戰維上之過堂堂之陣鵝鸛爲行營應規矩其將莫當師中之吉惟智仁勇夜算軍書先計攸重我聞在昔輕則寡謀殄民以幸亦孔之憂述軍旅第八日中而市萬民所資賈貿墆鬻利析銖錙蹛財役貧封君低首豕末兼並非國之厚述市易第九

欽定四庫全書

數學九章卷一上

宋秦九韶撰大衍

按大衍術以各分數之奇零求各分數之總數大而天行小而物數皆可禦之其法有求元求定求術求奇求乘求用之目大約以數之奇偶爲根而以諸數相度之盡不盡爲用有求彼此不能度盡之諸數者元數定數是也有求諸數皆能度盡之一數者衍母數是也有求諸數皆能度盡而一數不能度盡之數者各衍數是也其不盡之數卽奇數也有求二數相度餘一之數者乘數是也有求二數相度餘一而諸數又能度盡之數者用數是也求元數定數初與約分法相似終變二數務使其等數爲一蓋以一爲等數始能度盡二數是他數俱不能度盡二數而二數相度益不能盡也以定數奇數求乘數之法名曰大衍求一中有立天元一於左上之語下載立天元一算式按立天元一法見於元郭守敬之歷源李冶之測圓海鏡及四海之借根方者皆虛設所求之數爲一與所有實數反覆推求歸於少廣諸乘方得其積數與邊數或正負亷隅數而止次用除法或開方法得所求數此數命定數爲一與奇數反覆商較至餘一實數而止其奇數所積卽爲乘數蓋其用不同而法則無二也然其極和較之用窮奇偶之情則有爲元法西法所未及者但原本法解煩雜圖式譌舛今詳加攺定並釋其義俾學者易見焉

大衍數術

大衍總數術曰置諸問數【類名有四】一曰元數【謂尾位見單零者本門揲蓍酒息斛糶砌甎失米之類是也】二曰牧數【謂尾位見分釐者假令冬至三百六十五日二十五刻欲與甲子六十日爲一會而求積日之類】三曰通數【謂諸數各有分子母者本門問一會積年是也】四曰復數【謂尾位見十或百及千以上者本門築隄並急足之類是也】

按此言問題有是四類

元數者先以兩連環求等約奇弗約偶【或約得五而彼有十乃約偶而弗約奇】或元數俱偶約畢可存一位見偶或皆約而猶有類數存姑置之俟與其他約徧而後乃與姑置者求等約之或諸數皆不可盡類則以諸元數命曰復【按復應作定】數以復【按同上】數格入之

按此以元數求定數法也連環求等者於諸數中逐次取二數相度得一數可以度盡者爲等數爲法只約一數約奇弗約偶專爲等數爲偶者言之若等數爲奇者則約偶弗約奇而等數爲五與十者又有或約奇或約偶者矣皆約而猶有類俟約徧求等約之者逐條兩兩取約畢猶有二數可約者求得等數爲續等【見後】續等約一數必復乘一數蓋等數爲二數之較【或二數展轉之較】可約續等乃已約之較不可約不可約而兩數又不可使有等故約一數乘一數猶之不約也術內未詳

收數者乃命尾位分釐作單零以進所問之數定位訖用元數格入之或如意立數爲母收進分釐以從所問用通數格入之

按收數者單位下有奇零之數也進位者以奇零之末位爲單位也若立分母通之反不如用原數爲簡

通數者置問數通分內子互乘之皆曰通數求總等不約一位約眾位得各原法數用元數格入之或諸母數繁就分從省通之者皆不用元各母仍求總等存一位約眾位亦各得原法數亦用元法數格入之

按通數與收數相似但單數有分母奇零爲分子耳通分納子卽進尾數爲單位之義因加互乘一次故加總等一約然後爲元數也

又按求總等不拘通數復數但題中有三數可以一等數度盡者卽可用總等法存一數約眾數然後爲元數凡度之後等數仍可約者此數必當存之

復數者問數尾位見十以上者以諸數求總等存一位約眾位始得元數兩兩連環求等約奇弗約偶復乘偶或約偶或約奇復乘奇【按此四語有誤應作約奇弗約偶復乘偶或約偶弗約奇弗乘奇然皆續等下用之此處可省】或彼此可約而猶有類數存者又相減以求續等以續等約彼則必復乘此乃得定數所有元數收數通數三格皆有復乘求定之理悉可入之按復數者諸問數皆至十或百或千而止也右各叚皆云以某格入之此又云三格悉可入之大約古算必有其程式也

求定數勿使兩位見偶勿使見一太多見一多則借用繁不欲借則任得一

按勿使兩位見偶者蓋眾數連乘中有兩偶數則所得總數以一偶數除之必仍得偶數不能求餘一之乘數也勿使見一太多見一多則借數繁者蓋見一多因數本如此且見一卽不必推乃云勿使太多又云借數皆塗人之耳目也故曰不欲借則任得一

以定相乘爲衍母以各定約衍母得各衍數【或列各定數於右行各立天元一爲子於左行以母互乘子亦得衍數】諸衍數各滿定母去之不滿曰奇以奇與定用大衍求一入之以求乘率【或奇得一卽爲乘率】按諸定數連乘爲衍母卽爲諸定數皆能度盡之數亦爲總數最大之限凡總數在限內者各定數之差皆不等若過限外則各定數之差有與限內相等者其兩總數之差必爲衍母之倍數各衍母者卽諸數度盡一數度不盡之數也奇數者定數度衍數不盡之數也定數原爲彼此不能度盡之數衍數爲他定數連乘之數以此一定數度之必不能盡也

大衍求一數云置奇右上定居右下立天元一於左上先以右上除右下所得商數與左上一相生入左下然後乃以右行上下以少除多遞互除之所得商數隨卽遞互累乘歸左行上下須使右上末後奇一而止乃驗左上所得以爲乘率或奇數已見單一者便爲乘率【按此二語重上】

按此以定數奇數求乘數也其法必使以定數度奇數僅餘一數而奇數之倍數卽乘數也置奇右上定右下者初次以定爲實奇爲法也立天元一於左上者以一爲奇之倍數也得商數與左上相生入左下者以奇商定得商數卽奇之倍數以乘天元一而書於下也隨以奇數與商數相乘以減定數爲余實次以奇爲實減余爲法置前左下於左上以法約實得商乘左上又並前之左上爲左下隨以法乘商減實又爲余實次又以前余爲實次余爲法置前左下於左上得商數乘左上又倂前左上爲左下隨以法乘商減實如此展轉相求合兩次爲一算至余實一乃視左下天元數卽乘數也若未至兩次余實一者仍以一爲法上餘數爲實實二則商一實三則商二如上求之復得餘一其天元數方爲乘數原文遞互乘除之語未詳

置各乘率對乘衍數得泛用並泛課衍母多一者爲正用或泛多衍母倍數者驗元數奇偶同者損其半倍【或三處同類以三約衍母於三處損之】同衍母者爲無用當驗元數同類者而正用至多處借之以元數兩位求等以等約衍母爲借數以借數損有以益其無爲正用或數處無者如意立數爲母約衍母所得以如意子乘之均借補之或欲從省勿借任之爲空可也

按此求各用數法也其各乘率乘各衍數得用數者卽一數餘一諸數度盡之數也其云並泛用過衍母倍數驗元數同類損之此語似有誤當云驗問數同偶而用數相並過衍母者損之蓋取用皆問數非元數也凡偶數減偶仍余偶減奇仍余奇其數有定奇數減奇則余偶又或余奇減偶則余奇又或余偶其數無定故惟偶數可驗也定數一者卽無用數必虛爲借數未免徒滋煩擾

然後以其餘各乘正用爲各總並總滿衍母去之不滿爲所求率數

按此旣得各用數以題中所問之奇零求總數也以各餘數乘各用數者蓋用數爲諸數度盡一數餘一之數以幾數乘之必爲諸數度盡一數餘幾數之數也並各條而以各數度之必各數仍餘幾數也餘數悉合則總數必合矣然衍母爲諸數度盡之數累加一衍母眾餘數皆不變故滿衍母去之得在衍母內者其數最小爲第一數若大於此數者遞加一衍母數無不合者

按右大衍本法也原書入於蓍防發防題問答之後殊失其序今修冠於卷首

蓍卦發防

問易曰大衍之數五十其用四十有九又曰分而爲二以象兩卦一以象三揲之以四以象四時三變而成爻十有八變而成卦欲知所衍之術及其數各幾何按揲蓍之法載於易傳啟言之甚明算術以奇偶相生取名大衍可也竟欲以此易古法則過矣

答曰衍母十二衍法三

一元衍數二十四二元衍數一十二三元衍數八四元衍數六已上四位衍數計五十一楪用數一十二二楪用數二十四三楪用數四四揲用數九已上四位用數四十九

按此附會五十四十九之數與本衍已牽彊不合觀後可知

水

火

木

金【始此四數以揲】

陰陽象數圖

老陽少陰

少陽老陰【終此四者爲爻】

按此條與數無取義可刪

本題術曰置諸元數兩兩連環求等約奇弗約偶徧約畢乃變元數皆曰定母列右行各立天元一爲子列左行以諸定母互乘左行之子各得名曰衍數次以各定母滿去衍數各余名曰奇數以奇數與定母用大衍術求一【大衍求一術云以奇於右上定母於右下立天元一於左上先以右行上下兩位以少除多所得商數乃遞互乘歸左行使右上得一而止左上爲乘率】得各乘率以乘衍數各得用數驗次所揲餘幾何以其餘數乘諸用數並之名曰總數滿衍母去之不滿爲所求數以爲實易以三才爲衍法以法除實所得爲象數如實有餘或一或二皆命作一同爲象數其象數得一爲老陽得二爲少陰得三爲少陽得四爲老陰得老陽畫重爻得少陰畫拆爻得少陽畫單爻得老陰畫交爻凡六畫乃成卦

按此卽前大衍法末以三歸取爻象亦屬附會

艸曰一二三四列右行立天元一列左行

元數右行

天元左行

以右行一二三四互乘左行異子一弗乘對位本子各得衍數

元數右行

上副

次

下

衍數左行並之得五十

乃並左行衍數四位共計五十故易曰大衍之數五十算理不可以此五十爲用蓋分之爲二則左右手之數奇偶不同見陰陽之伏數必須復求用數先名此曰衍數以爲限率遂乃復以一二三四之元數求等數約定按前術以兩兩相連環求等約之先以一與二求等一與三求等一與四求等皆得一各約奇弗約偶數不變次以二與三求等亦得一約奇弗約偶數亦不變及以二與四求等乃得二此二隻約副數二變爲一而弗約四次以三與四求等亦得一約奇亦不變所得一一三四各爲定數母列右行仍各立天元一爲子列左行

定母右行

天行左行

以右行定母一一三四互乘左行各子一惟不對乘本子畢左上得一十二左副得一十二左次得四次下得三皆曰衍數

定母右行以右定母滿去左

衍數左行衍衍餘各爲奇數

次以各母去衍數其一母去衍一十二奇一其副母一亦去副子一十二亦各奇一其次母三去次衍四亦奇一其下母四欲去下子三則不滿便以三爲左下奇數

定母右行

奇數左行

凡奇數得一者便爲乘率今左下衍是三乃與本母四用大衍求一術入之列衍奇三於右上定母於右下立天元一於左上空其左下

【衍定

商奇母】

【天元】

先以右上少數三除右下多數四得一爲商以商一乘左上天元一隻得一歸左下其右下餘一

【商衍

定母奇余】○

【天歸元數】

次以右下少數一除右上多數三須使右上必奇一算乃止遂於右行最上商二以除右衍必奇一乃以上商命右下定餘一除之右衍餘一

【商衍奇定母余

余】

【天

歸元

數】

次以商二與左下歸數相乘得二加入左上天元一內共得三

今驗右上衍余得一當止乃以左上三爲乘率與前三者乘率各一與衍定圖衍數對列之通計三行

定母

衍數

乘率

以乘率對乘左行畢左上得一十二左副得一十二左次得四左下得九皆曰泛用數

定母

衍母

泛用

次以右行一二三四相乘得一十二名曰衍母復推元用等數二約副母二爲一今乃復歸之爲二遂用衍母一十二益於左副一十二內共爲二十四

元數

定用

今驗用數圖右行之一二三四卽是所揲之數左行一十二並二十四及四與九並之得四十九名曰用數用爲蓍艸數故易曰其用四十有九是也

假今用蓍四十九信手分之爲二則左手奇右手必偶左手偶右手必奇欲使蓍數近大衍五十非四十九或五十一不可二數信手分之必有一奇一偶故所以用四十九取七七之數始有左副二十四內益十二就其三十七泛爲用數但三十七無意義兼蓍少太露是以用四十有九凡揲蓍求一爻之數欲得一二三四岀於無餘必令揲者不得知故以四十九蓍分之爲二隻用左手之數假令左手分得三十三自一一楪之必奇一故不繁楪乃徑掛一故易曰分而爲二以象兩掛一以象三次後又令筮人以二二揲之其三十三亦奇一故歸奇於防又令之以三三揲之其三十三必奇三故歸奇於防又令之以四四揲之又奇一亦歸奇於防與前掛一並三度揲通有四防乃得一一三一其掛一者乘用數圖左上用數一十二其二揲防一者乘左副用數二十四其三揲防三者乘左次用數四得一十二其四揲一者乘左下用數九

用數

左行三防謂之三變

掛一得一十二防一得二十四防三得一十二又防一得九並爲總數

並此四總得五十七不問所握幾何乃滿衍母一十二去之得不滿者九【或使知其所握五十七亦滿衍母去之亦只得九數】以爲實用三才衍法約之得三乃畫少陽單爻【或不滿得八得七爲實皆命爲三】他皆仿此術意謂揲二楪三楪四者凡三度復以三十三從頭數揲之故曰三變而成爻旣卦有六爻必有十八變故曰十有八變而成卦

按此條彊援蓍卦牽附衍數致本法反晦今以本法列於前則其獘自見矣

古歷會積

問古歷冬至以三百六十五日四分日之一朔防以二十九日九百四十分日之四百九十九甲子以六十日各爲一周假令至淳祐丙午十一月丙辰朔初五日庚申冬至初九日甲子欲求古歷气朔甲子一會積年積月積日及歷過未至年數各幾何

按此題嵗實朔防皆古法用數淳祐丙午嵗合朔冬至干支乃宋開禧法所步題數已不相卽推算無誤亦未合況不能無誤耶

答曰一會積一萬八千二百四十年二十二萬五千六百月六百六十六萬二千一百六十日曆過九千一百六十三年未至九千七十七年按答數皆不合

術曰同前置問數【有分者通之互乘之得通數】求總等不約一位約眾位各得元法連環求等約奇弗約偶各得定母【本題欲求一會不復乘偶】以定相乘爲衍母定除母得衍數滿定去衍得奇以大衍入之得乘率以乘衍數得泛用數並諸泛以課衍母如泛內多倍數者損之乃驗元數奇偶同類處各損半倍【或三位同類者三約衍母損泛】各得正用然後推气朔不及或所遇甲子日數乘正用加減之爲總滿衍去之餘爲所求歷過率實如紀元法而一爲歷過以气元法除衍母得一會積年以气周日刻乘一會年得一會積日以朔元法除衍母得一會積月數

按如紀元法而一以气元法除衍母二語皆誤故得數不合皆當以气分爲法蓋气分卽嵗實分也

右本題問气朔甲子相距日數系開禧歷推倒或甲子日在气朔之間及非十一月前後者其總數必滿母贅去之所得歷過年數尾位𨿽倫首位必異今設問以明大衍之理初不計其前多後少之歷過

按此數語蓋因得數不合而自解之然算家終以得數爲凖得數不合則無以取信於人矣

艸曰置問數冬至三百六十五日四分日之一朔

防二十九日九百四十分日之四百九十九甲子六十日各通分內子互乘之列三等位具圖如後

冬至得一千四百六十一朔實得二萬七千七百五十九甲子無母只是六十列三行互乘之具圖如後

【气通母

總等不約紀分】

以三行互乘右得一百三十七萬三千三百四十爲气分中得一十一萬一千三十六爲朔分左得二十二萬五千六百爲紀分先求總等得一十二【按十二乃朔分紀分所求等數亦可爲气分等數故爲總等】乃存紀分一位不約只以等一十二約气分得一十一萬四千四百四十五又約朔分得九千二百五十三皆爲元法乃以連環求等次以紀元二十二萬五千六百與朔元九千二百五十三求等得一不約又以紀元與气元一十一萬四千四百四十五求等得二百三十五隻約气元得四百八十七次以气元四百八十七與朔元九千二百五十三求等得四百八十七隻約朔元九千二百五十三得一十九約偏畢得四百八十七爲气定得一十九爲气定得二十二萬五千六百爲紀定以三定相乘得二十億八千七百四十七萬六千八百爲衍母具圖如後

各以定數約衍母各得衍數气得四百二十八萬六千四百朔得一億九百八十六萬七千二百紀得九千二百五十三寄左行各滿定數去之各得奇數

气奇得三百一十三朔奇得四紀奇得九千二百五十三各與定數用大衍求一各得乘數列右行對寄左行衍數具圖如後

各以大數入之气乘率得四百七十三朔乘率得五紀乘率得一十七萬二千七百一十七對左行衍數以右行乘率對乘左行衍數气泛得二十億二千七百四十六萬七千二百朔泛得五億四千九百三十三萬六千紀泛得一十五億九千八百一十五萬四百一十具圖如後

右列用數並之共得四十一億七千四百九十五萬三千六百一爲泛用數與衍母二十億八千七百四十七萬六千八百驗之在衍母以上就以衍母除泛得二乃知泛內多一倍母數當於各用內損去所多一倍按術驗法元圖內諸元數奇偶同類者各損其半今驗法元圖气元尾數是五紀元尾數是六百爲俱五同類乃以術母二十億八千七百四十七萬六千八百折半得一十億四千三百七十三萬八千四百以損泛用圖內气泛紀泛畢其朔泛不損各得气朔紀正用數其气正用得九億八千三百七十二萬八千八百朔正用五億四千九百三十三萬六千紀正用五億五千四百四十一萬二千一列爲正用圖在前

旣得正用數次驗問題十一月朔日丙辰冬至初五日庚申初九日甲子乃以初一減初九甲子餘八日爲朔不及次以初五亦減初九甲子餘四日爲气不及以二不及各乘正用得數具圖如後

先以气不及甲子四日以乘气正用數九億八千三百七十二萬八千八百得三十九億三千四百九十一萬五千二百爲气總次以朔不及甲子八日數以乘其朔正用數五億五千九百三十三萬六千得四十三億九千四百六十八萬八千爲朔總並之得八十三億二千九百六十萬三千二百爲總數滿母二十億八千七百四十七萬六千八百去之不滿二十億六千七百一十七萬二千八百爲所求率實具圖如後

按求積嵗應以甲子距冬至前之日分乘紀用數爲紀總以合朔距冬至前之日分乘朔用數爲朔總並紀總朔總滿衍母去之以嵗實分除之卽已過積年艸內以冬至距甲子前之日分乘气用數合朔距甲子前之日分乘朔用數並之乃求紀周法非求嵗周法也故不合

置所得率實二十億六千七百一十七萬二千八百如法元圖紀元法二十二萬五千六百而一得九千一百六十三年爲歷過年數次置衍母二十億八千七百四十七萬六千八百爲實如法元圖气元一十一萬四千四百四十五爲法而一得一萬八千二百四十年爲气朔甲子一會積年內減歷過九千一百六十三年餘九千七十七年爲未至年數次以冬至周日三百六十五日二十五刻乘積一會年一萬八千二百四十得六百六十六萬二千一百六十日爲一會積日又以術母爲實如法元圖朔元法九千二百五十二而一得二十二萬五千六百月爲一會積月合問

按此紀元卽紀分以紀分除率實乃紀周數非已過年數也求一會積年當以气分爲法以气元爲法亦誤此二數旣誤餘數無是者矣然題已不合旣法合數亦不能合也今攺設一題於後以明其法焉

設古法嵗實三百六十五日四分日之一朔防二十九日九百四十分日之四百九十九甲子六十日假令十一月平朔辛巳日四百七十分日之一百一十三冬至癸夘日子正初刻問距前後甲子日子正初刻合朔冬至之年數各幾何

答曰距前八百七十六年距後六百四十四年

法按前法求至正用乃以冬至癸夘距甲子後三十九日爲紀余以日法【卽气分母朔分母相乘之數】三千七百六十分通之得十四萬六千六百四十爲紀余分以乘紀正用得紀總八十一兆二千九百八十九億七千五百八十二萬六千六百四十次以平朔辛巳距甲子十七日又四百七十分之一百一十三與冬至距甲子三十九日相減得二十一日又四百七十分日之三百五十七以日法三千七百六十通之得八萬一千八百一十六爲朔余分以乘朔正用得朔總四十四兆九千四百四十四億七千四百一十七萬六千並二總數滿衍母去之得率實十二億零三百零四萬五千八百四十爲實以嵗實一百三十七萬三千三百四十爲法除之得八百七十六年爲距前气朔甲子會積之年數又以衍母爲實以嵗實分爲法除之得一千五百二十年爲前會積距後會積之年數減去距前會積之年數餘六百四十四年爲距後會積之年數旣得積年若欲還原求題中干支時刻則以前會之積年與嵗實相乘得三十一萬九千九百五十九爲積日滿紀法六十去之餘三十九日自初日起甲子得冬至爲癸夘日子正初刻又置積日以朔防日分九百四十通之爲實以朔防通分納子爲法除之得一萬零八百三十四爲積朔餘二萬零四百五十四又爲實以朔防日分九百四十爲法除之得二十一日又九百四十分之七百一十四約之爲四百七十分日之三百五十七爲距冬至前日數與甲子距冬至前三十九日相減得一十七日又四百七十分日之一百一十三爲距甲子後日數自初日起甲子得辛巳爲平朔干支悉與題合

推庫額錢

問有外邑七庫日納息足錢適等遞年成貫整納近緣見錢稀少聽各庫照當處市陌凖解舊會其甲庫有零錢一十文丁庚二庫各零四文戊庫零六文余庫無零錢甲庫所在市陌一十二文遞減一文至庚庫而止欲求諸庫日息原納足錢展省及今納舊會並大小月分各幾何

按題意系七邑日納共錢同數以各邑市陌數計之或適足或有餘多寡不同甲陌十二則餘十乙陌十一丙陌十則無餘丁陌九則餘四戊陌八則餘六己陌七則無餘庚陌六則餘四以求共錢同數此本術也又問展省舊會按艸中展省乃官省陌以七十七爲一百所展日息共錢之數舊會乃以各陌數爲一百所升日息共錢之數二者在本術中已贅且不明言展省舊會用數求法皆故爲溟涬也

答曰諸庫納日息足錢二十貫九百五十文

展省三十五貫文

甲庫日息舊會二百二十四貫五百一十文【按應作五百文又六分文之五】大月舊會六千七百三十七貫五百文【按少二十五文】小月舊會六千五百一十二貫九百二文【按應作六千五百一十貫五百又六分文之一】乙庫日息舊會二百四十五貫文大月舊會七千三百五十貫文小月舊會七千五百貫文【按應作七千一百五貫】

丙庫日息舊會二百六十九貫五百文大月舊會八千八十五貫文小月舊會七千八百一十五貫五百文

丁庫日息舊會二百九十九貫四百四文【按應作四百四十四文又九分文之四】大月舊會八千九百八十三貫三百三文【按少三十文又三分文之一】小月舊會八千六百八十三貫八百八文【按少八十文又九分文之八】戊庫日息舊會三百三十六貫八百六文【按應作七十五文】大月舊會一萬一百六貫二百四文【按應作二百五十文】小月舊會九千七百六十九貫三百六文【按應作七十五文】

己庫日息舊會三百八十五貫文大月舊會一萬一千五百五十貫文小月舊會一萬一千一百六十貫文【按少五貫】

庚庫日息舊會四百四十九貫一百四文【按應作一百六十六文又分三文之二】大月舊會一萬三千四百七十五貫文小月舊會一萬三千二十四貫八百二文【按應作二萬三千二十五貫八百三十三文又三分文之一】

術曰以大衍求之置甲庫市陌以庫減庫減之各得諸庫原陌連環求等約奇弗約偶【按此特爲等數爲偶者言之若等數爲奇者則約偶弗約奇】得定母諸定相乘爲衍母以定約衍母得衍數衍數同衍母者去之爲無【無者借之同類】其各滿定母去余爲奇數以奇定用大衍求乘率乘衍數爲用數無者則以原數同類者求等約衍母得數爲借數次置有零文庫零錢數乘本用數並爲總數滿衍母去之不滿爲諸庫日息足錢各大小月日數乘之各爲實各以原陌約爲舊會

艸曰置甲庫市陌一十二遞減一得一十一爲乙庫陌十一爲丙庫陌九爲丁庫陌八爲戊庫陌七爲己庫陌六爲庚庫陌得諸庫原陌

甲乙

丙丁

戊己

庚

以連環求等約訖甲得一乙得十一丙得五丁得九戊得八己得七庚得一各爲定母立各一爲子按此法之要在於求定而術中獨略之今詳其式於後

法列七庫陌數於前先以甲與

乙相約無等數與丙數相約得

等數二【偶】約丙十得五【奇】與丁

數相約得等數三【奇】約甲十二

得四【偶】與戊數相約得等數四

【偶】約甲四得一【奇】甲數旣爲一

不能約卽爲與諸數徧約畢

次以乙與下五數相約俱無等

次以丙與下四數相約亦俱無

等次以丁與戊己二數相約俱

無等與庚數相約得等數三【奇】約庚六得二【偶】次以戊與己相

約無等與庚相約得等數二【偶】約庚二得一【奇】庚旣爲一己亦

不能與之相約乃爲連環求等畢得定數爲甲一乙十一丙五丁九戊八己七庚一也後凡求定數仿此

【定母】

先以諸定相乘得二萬七千七百二十爲衍母次以諸定互乘諸子甲得二萬七千七百二十乙得二千五百二十丙得五千五百四十四丁得三千八百戊得三千四百六十五己得三千九百六十庚得二萬七千七百二十各爲衍數

定母右行

次驗諸衍數有同衍母者皆去之爲無衍數次各滿定母去各本衍各得奇數甲無乙得一丙得四丁得二戊得一己得五庚無各爲奇數

次驗有奇數者得一便以一爲乘率或得二數以上者各以奇數於右上定母於右下立天元一於左上用大衍求一之數入之驗乘除至右上餘一而止皆以左上所得爲乘率甲無乙得一丙得四丁得五戊得一己得四庚無各爲乘率列右行以對寄左衍數

以兩行對乘之爲用數甲無乙得二千五百二十丙得二萬二千一百七十六丁得一萬五千四百戊得三千四百六十五巳得一萬一千八百八十庚無

次推無用數者惟甲庚合於同類處借之其同類謂原陌列而視之

今視甲一十二庚六皆與丙一十戊八俱偶爲同類其戊用數三千四百六十五其數少不可借惟丙一十之用數系二萬二千一百七十六爲最多當以借之乃以甲一十二丙一十庚六求等得二以等數二約衍母二萬七千七百二十得一萬三千八百六十爲借數乃減丙用二萬二千一百七十六餘八千三百一十六爲丙用數乃以所借岀之數一萬三千八百六十爲實以原等二爲法除之得六千九百三十爲甲用數以甲用數減借岀數余亦得六千九百三十爲庚用數今不欲甲庚之借數同乃驗得岀數一萬三千八百六十可用幾約如意乃立三取三分之一得四千六百二十爲甲用取三分之二得九千二百四十爲庚用列右行

一

○○

○

【零數】左行乃視諸庫有無零錢數驗得乙丙己三庫無先去其用數乃以甲子戊庚四庫零錢列左行對乘本用甲得四萬六千二百丁得六萬一千六百戊得二萬七百九十庚得三萬六千九百六十合爲總

並此四總得一十六萬五千五百五十滿衍母二萬七千七百二十去之不滿二萬六千九百五十爲所求率以貫約爲二十六貫九千五十文爲諸庫日息等數以官省七十七陌展得三十五貫文【按官省陌以七十七爲一百故二十六貫余展爲三十五貫】各以其庫陌紐計【按庫陌紐計卽以各陌數爲一百】各得舊會零錢各以三十日乘爲大月息以日息減大月息余爲小月息合問

分糶推原

問有上農三人力田所收之米系用足斗均分各往他處岀糶甲糶本郡官塲餘三斗二升乙糶與吉安鄕民餘七斗丙糶與平江戶餘三斗欲知共米及三人所分各糶石幾何

答曰共米七百三十八石三人各分米二百四

十六石

甲糶官斛二百九十六石乙糶安吉斛二百二十三石丙糶平江斛一百八十二石

術曰以大衍求之置官塲斛率安吉鄕斛率平江市斛率【官私共知者官斛八斗三升安吉鄕斛一斗一升平江市斛一石三斗五升】爲原數求總等不約一位約眾位連環求等約奇不約偶或猶有類數存者有求等約彼爲復乘此各等定母相乘爲衍母互乘爲衍數滿定去之得奇大衍求一得乘率乘衍數爲用數以各余米乘用並之爲總滿衍母去之不滿爲所分以原人數乘之爲共米

艸曰置文思院官斛八十三升吉安州鄕一百一十升平江府市斛一百三十升各爲其斛原率

先以三率求總等得一不約【按此題只一數見十不必用復數求總等】次以連環求等其安吉率一百一十與平江率一百三十五求等得五以約平江率得二十七【按五爲中數或約偶或約奇皆可但不約可以約者】餘皆求等得一不約各得原數

以定相乘得二十四萬六千五百一十爲衍母各以原率約之得二千九百七十爲官斛衍數得二千二百四十一爲安吉州衍數得九千一百三十爲平江斛衍數

官斛

安吉

平江

衍母

次以定母滿法去衍數得不滿六十五爲官斛奇不滿四十一爲安吉奇不滿四爲平江奇數

定母奇數各以大衍入之求得乘數得二十三爲官斛乘率得五十一爲安吉乘率得七爲平江乘率

以乘率各乘寄左行衍數得六萬八千三百一十爲官斛用數得一十一萬四千二百九十一爲安吉用數得六萬三千九百一十爲平江用數

次以甲餘三十二升乘官斛用數六萬八千三百一十得二百一十八萬五千九百二十升於上次以乙餘七十升乘安吉用數一十一萬四千二百九十一得八百萬三百七十升於中次以丙餘三十升乘平江用數六萬三千九百一十得一百一十九萬七千三百於下各爲總並之得一千二百一十萬三千五百九十升爲總數滿衍母二十四萬六千五百一十升去之不滿二萬四千六百升爲所求率展爲二百四十六石爲三人各分米以兄弟三人因之得七百三十八石爲共米置分米二百四十六石各以官斛八斗三升安吉斛一石一斗平江斛一石三斗五升約之甲得二百九十六石餘三斗二升乙得二百二十三石餘七斗丙得一百八十二石餘三斗各爲糶過及余米合問

數學九章卷一上﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹥

欽定四庫全書

數學九章卷一下

宋秦九韶撰大衍

積足尋原

問欲砌基一叚見管大小方甎六門城甎四色令匠取便或平或側只用一色甎砌湏要適足匠以甎量地計料稱用大方料廣多六寸深少六寸【按卽多七寸】用小方廣多二寸深少三寸【按卽多八寸】用城甎長廣多三寸深少一寸【按卽多一尺一寸】以闊深少一寸【按卽多五寸】廣多三寸以厚廣多五分深多一寸用六門甎長廣三寸深多一寸以闊廣多三寸深多一寸用厚廣多一寸深多一寸皆不匼匝未免修破甎料禆補其四色甎大方方一尺三寸小方方一尺一寸城甎長一尺二寸闊六寸厚二寸五分六門長一尺闊五寸厚二寸欲知基深廣防何

按題意謂以一尺三寸量基之廣未餘六寸以一尺一寸量之餘二寸以一尺二寸量之餘三寸以六寸量之亦餘三寸以二寸五分量之餘五分以一尺量之餘三寸以五寸量之亦餘三寸以二寸量之餘一寸以求廣也其求深之意亦同

答曰深三丈七尺一寸廣一丈二尺三寸

術曰以大衍求之置甎方長闊厚爲元數以小者爲單起一先求總等存一位約眾位【列爲多者隨意立號】乃爲元數連環求等約爲定母以定相乘爲衍母各定約衍母得衍數滿定去之得奇奇定大衍得乘率以乘衍數得用數次置廣深多少數多者乘用少者減元數余以乘用並爲總滿衍母去之不滿得廣深

艸曰置四甎方長闊厚系八數城甎厚有分爲小者皆通之爲單大方得一百三十分小方得一百一十分城甎長得一百二十分闊得六十分厚得二十五分六門甎長得一百分闊得五十分厚得二十分

錐行置之右列位稍多甎名相互今假八音爲號位先以最少者自木二十與革二十五求等得五乃反約木二十爲四木四與土五十求等得二以約五十爲二十五木四與匏六十求等得四約六十爲一十五木四與竹一百求等得四約一百爲二十五木四與絲一百一十求等得二約一百一十爲五十五木四與石一百二十求等得四反約木四爲一以木一與金求等得一不約爲木與諸數求等約訖爲一變得數具圖如後

次以革二十五與土五十【按前巳約土爲二十五次變不應復用原數然於得數卻無礙】求等得二十五約五十爲二以革二十五與匏一十五求等得五約匏一十五爲三以革二十五與竹二十五求等得二十五約竹二十五爲一又以革二十五與絲五十五求等得五約絲五十五得一十一以革二十五與石一百二十求等得五約一百二十爲二十四以革二十五與金一百三十求等得五約金一百三十得二十六革與諸數徧約訖爲二變具圖如後

乃以土二與匏三竹一絲一十一求等皆得一不約以土二與石二十四求等得二及約土二得一又不土一與金二十六求等得一不約土與諸數約訖爲三變具圖如後

乃以匏三與竹一絲十十一求等皆得一又以匏三與石二十四求等得三約石二十四爲八又匏三與金二十六求等得一不約匏與諸數約訖以爲四變次以竹一與絲一十一與石二十四【按巳約爲八云二十四誤】與金二十六求等皆得一竹與諸數約訖爲五變次以絲一十一與石二十四【按誤同上】與金二十六求等皆得

一不約爲六變復以石二

【十】四【按誤同上】與金二十六求等得二約金二十六爲一十三至此七變連環求等約俱畢得數爲定母列圖如後

右定母列右行以相乘得八萬五千八百爲衍母以各定母約衍母各得衍數其竹木土定得一者爲無

金定一十三得衍數六千六百石定八得衍數一萬七百二十五絲定一十一得衍數七千八百竹定一無衍匏定三得衍數二萬八千六百土定一無衍數革定五五得衍數三千四百三十二木定一無衍數各滿定母去之得奇數

金得奇九石得奇四絲得奇一匏得奇一艸得奇七其絲匏得奇數一者便以一爲乘率其金石革三處奇數皆與本定母用大衍求一入之各得乘率列右行

金得三石得五絲得一革得一革得一十八各爲乘率寄左行衍數各得爲用數

凡諸用數同類者類必多可互借以補無者先驗革元數二十五與木元數二十爲同類求等得五以等五約衍母八萬五千八百得一萬七千一百六十乃於革用數內減出以補木位爲木用餘四萬四千六百一十六爲革用次驗竹元數一百與土五十爲同類以求等得五十以等五十約衍母八萬五千八百得一千七百一十六亦於革用內各借與竹土爲用數革止餘四萬一千一百八十四爲用得諸定用數

按無用數則此條可省借數轉生煩擾非法也其所以可用借補者蓋以同類之元數其較余之奇偶必同故一數可分用也然惟元數同偶者爲然同奇則有不可用者此題可用因題中餘數未過小元數

也

右行定用始列錐行假號求得今照甎色遷次列之

旣照甎次序列用數於右行乃驗問題所謂大方甎砌廣多六寸小方多二寸城甎長多三寸城甎闊多三寸厚多五分六門長多三寸闊多三寸厚多一寸對本用列左行各對乘之具圖如後

兩行乘畢金得一百一十八萬八千絲得一十五萬六千石得一百六十萬八千七百五十匏得八十五萬八千革得二十萬五千九百二十竹得五萬一十四百八十土亦得五萬一千四百八十木得一十七萬一千六百乃並前八位數共得四百二十九萬一千二百三十分爲總滿衍母八萬五千八百去之不滿一千二百三十分約之爲一丈二尺三寸爲基元廣數乃求其深驗問題大方砌少六寸小方砌少三寸城甎長砌少一寸闊砌少一寸厚砌多一寸六門長砌多一寸六門闊砌多一寸六門厚砌多一寸列爲中行次置諸甎元數列爲左行課減之具圖如後

今以中行多者存之少者用減左行存者左行元數去之所減者左行餘數存之金得七十絲得八十石得一百一十匏得五十革得一十竹一十土一十本一十具圖如後

列爲左行以對右行定用數具圖如後

以左行多餘數對乘右行用數金得一百三十八萬六千絲得六十二萬四千石得五百八十九萬八千七百五十匏得一百四十三萬革得四十一萬一千八百四十竹得一萬七千一百六十土得一萬七千一百六十木得一十七萬一千六百具圖如後

並八位得九百九十五萬六千五百一十分爲總滿衍母八萬五千八百去之不滿三千七百一十分展爲三丈七尺一寸爲基地深

推計土功

問築堤起四縣夫分給裏步皆同齊闊二丈裏法三百六十步步法五尺八寸人夫以物力差定甲縣物力一十三萬八千六百貫乙縣物力一十四萬六千三百貫丙縣物力一十九萬二千五百貫丁縣物力一十八萬四千八百貫每力七百七十貫科一名春程人功平方六十尺先到縣先給今甲乙二縣俱畢丙縣餘五十一丈丁縣餘一十八丈不及一日全功欲知堤長及四縣夫所築各防何

按題意以四縣修堤總長相同毎日所修之長不同以各每日所修之長計總長或適足或有餘以求總長也但不正言其數而設堤闊數各縣物力數一夫力數一夫平方數以取每日所修堤長數故令人不能驟觧

答曰堤長一十九里二百三十五步五尺甲縣夫築一千二十六丈【乙丙丁同】乙縣夫築一千七百六十八步五尺六寸【甲丙丁同】丙縣夫築四里三百二十八步五尺六寸【甲乙丁同】丁縣夫築【同前三縣數】

按四縣所築堤長等則丈數步數里數皆同今以三數分載三縣下而復注以與某縣同殊混人目

術曰置各縣力以程功程爲實以力率乘堤齊闊爲法除之得各縣日築復數【有分者通之互乘之得通數】求總等不約一位約眾位曰元數連環求等約奇得定母陸續求衍數奇數乘率用數以丙丁縣不及數乘本用並爲總數以定母相乘爲衍母滿母去總數得各縣分給裏步積尺數以縣數因之爲堤長各以裏法步法約之爲裏步

艸曰置甲縣力一十三萬八千六百貫乙縣力一十四萬六千三百貫丙縣力一十九萬二千五百貫丁縣力一十八萬四千八百貫以程功六十尺徧乘之皆以貫黙【按貫黙乃以一貫千文爲法之名與前官陌市陌名相似】約之甲得八百三十一萬六千尺乙得八百七十七萬八千尺丙得一千一百五十五萬尺丁得一千一百八萬八千尺各爲實次以力率七百七十貫乘堤齊闊二十尺亦以貫黙約之得一萬五千四百尺爲法徧除諸各實甲得五十四丈乙得五十七丈丙得七十五丈丁得七十二丈各爲四縣眾夫每日築長率按大衍術命曰復數列右行

以復數【按前術以尾數在十以上者爲復數此數不合】求總等得三大【按此條原本皆以丈爲寸於義無取今皆攺正】以約三位多者不約其少者甲得五十四乙得一十九丙得二十五丁得二十四仍爲元數次以兩兩連環求等各約之

按四縣每日築長數皆以丈爲單位非位數也但一等數可以度盡四數必先求總等約之然後可以爲元數卽此可見總等法不獨用於通數復數也

先以丁丙求等又以丁乙求等皆得一不約次以丁甲求等得六隻約甲五十四得九不約丁次以丙與乙求等又以丙與甲九求等皆得一不約後以乙與甲九求等得一不約復驗甲九與丁二十四猶可再約又求等得三以約丁二十四得八復乘甲爲二十七

次以定母四位相乘求得一十萬二千六百爲衍母各以定母約衍母甲得三千八百乙得五千四百丙得四千一百四丁得一萬二千八百二十五爲衍數

滿定母各去衍數甲不滿二十乙不滿四丙不滿四丁不滿一各爲奇數

以各定母與本奇數用大衍求一術入之各得乘率甲得二十三乙得五丙得一十九丁得一

以右行乘率對乘寄左行衍數甲得八萬七千四百乙得二萬七千丙得七萬七千九百七十六丁得一萬二千八百二十五各爲用數

次驗四縣所築有無不及零丈尺寸今甲乙俱畢爲無丙餘五十一丈丁餘一十八丈爲有以丙丁二縣余丈各乘丙丁二用數其丙五十一丈乘丙用七萬七千九百七十六得三百九十七萬六千七百七十六丈爲丙總以丁餘一十八乘丁用一萬二千八百二十五得二十三萬八百五十丈爲丁總並二總得四百二十萬七千六百二十六丈爲總數亦以丈通衍母得一十萬二千六百丈仍爲衍母滿去總數不滿一千二十六丈爲所求長率以四縣因之得四十一百四丈爲實以步法五尺八寸除之得七千七十五步五尺爲堤長步以裏法三百六十步約之得一十九里二百三十五步五尺爲堤通長置長率一千二十六丈以步法約之得一千七百六十八步五尺六寸又以裏法約之得四里三百二十八步五尺六寸爲各縣所給道裏步尺數

余米推數

問有米鋪訴被盜去米一般三籮皆適滿不記細數今左壁籮剰一合中間籮剰一升四合右壁籮剰一合後獲賊系甲乙丙三名甲稱當夜摸得馬杓在左壁籮舀入布袋乙稱踢著木履在中籮舀入袋丙稱摸得漆椀在左邊籮舀入袋將歸食用日久不知數索到三器馬杓滿容一升九合木履容一升七合漆椀容一升二合欲知所失米數計贓結防三盜各防何答曰共失米九石五斗六升三合環甲米三石一斗九升二合乙米三石一斗七升九合丙米三石一斗九升二合

術曰以大衍求之列三器所容爲元數連環求等約爲定母以相乘爲衍母以定各約衍母得衍數各滿定母去之得奇以奇定用大衍求得乘率以乘衍數得用數次以各剰米乘用並之爲總滿衍母去之不滿爲毎籮米各以剰米減之餘爲甲乙丙盜米並之爲共失米

艸曰列三器所容一升九合一升七合一升二合爲元數連環求等皆得一不約便以元數相乘得三千八百七十六爲衍母以各元數爲定母以定約衍母得衍數甲得二百四乙得二百二十八丙得三百二十三各爲衍數列左行以三定母甲十九乙十七丙十二列右行具圖如後

各滿定母去衍數得奇數甲得一十四乙得七得七丙得一十一

各以奇定用大衍求一各得乘率甲得十五乙得五丙得一十一各爲乘率列右行對寄在行衍數具圖如後

以丙行對乘之得用數甲得三千六十乙得一千一百四十丙得三千五百五十三列右行具圖如後

旣得用數始驗問題三籮剰米列左行對三人所用以兩行對乘之甲得三千六十乙得一萬五千九百六十丙得三千五百五十三

並三數得二萬二千五百七十三爲總數滿衍母三千八百七十六去之不滿三千一百九十三合展爲三石一斗九升三合爲三籮適滿細數以左籮剰一合減之餘三石一斗九升二合爲甲盜米又爲丙盜米以中籮剰米一升四合減之餘三石一斗七升九合爲乙盜米並三人共得九石五斗六升三合爲所失總米合問

程行計地

問軍師獲防當早防差急足三名往都下節節走報具甲於前數日申末到乙後數日未正到丙於今日辰未到據供甲日行三百里乙日行二百四十里丙日行一百八十里問自軍前至都里數及三人各行日數防何

答曰軍前至都三千三百里甲行一十一日乙行一十三日四時半

丙行一十八日二時

術曰以大衍求之置各行裏先求總等存一約眾得原裏次以連環求等約奇復乘偶得定母以定相乘爲衍母滿定除衍

衍得乘率以乘衍數得用數次置辰刻正末乘各行裏爲實以晝六時約之得余裏各乘用數並爲總滿衍母去得所求至都裏以各日行約之得日辰刻數艸曰置甲三百里乙二百四十里丙一百八十里先求總等得六十隻存甲三百勿約乃約乙二百四十得四次約丙一百八十得三各爲元數連環求等

先以丙乙求等得一不約次以丙甲求等三於術約奇不約偶蓋以等三約三因得一爲奇盧無衍數乃便徑先約甲三百爲一百復以等三兼丙三爲九旣丙九爲奇甲百爲偶此卽是約奇弗約偶次以一四與甲百求等得四以四約一百得二十五爲甲復以四乘乙四得一十六爲乙各爲定母

以定母相乘得三千六百爲衍母以各定約衍母爲衍數甲得一百四十四乙得二百二十五丙得四百

術數各滿衍母去之不滿爲奇數甲得一十九乙得一丙得四

以各奇數與定母用大衍入之各得乘數甲得四乙得一丙得七各爲乘率列右行

以乘率對乘寄左行衍數甲得五百七十六乙得二百二十五丙得二千八百各爲用數

次置甲申末到者其酉初爲夜此是甲以全日到爲無餘裏次置乙於未正到乃於卯時數至未正得四个半時以四半乘乙行二百四十里得一千八十爲實以畫六時約之得一百八十里爲乙行不及全日之餘裏次置丙於辰未到自卯初數至辰未得二時以因丙行一百八十里得三百六十爲實以六時除之得六十里爲丙行不及全日之餘裏

以乙餘一百八十乘乙用二百二十五得四萬五百於中以丙餘六十乘丙用二千八百得十六萬八千加中共得二十萬八千五百爲總滿衍母三千六百去之不滿三千三百里爲軍前至都裏以甲三百除之得一十一日以乙二百四十除之得一十三日四時半以丙一百八十除之得一十八日二時合問按凡總等數必小於連環等數若甚大卽爲連環等數此題數是也故再約卽用求續等法不然不能合也

程行相及

問有急足三名甲日行三百里乙日行二百五十里丙日行二百里先差丙往他處下文字旣兩日又有文字遣乙追付已半日復有文字續令甲趕付乙三人偶不相及乃同時俱至彼所先欲知乙果及丙甲果及乙得日並裏次問彼處去此里數各防何

按題意謂三行遲疾不同乙後丙兩日甲後乙半日問防日防裏可以追及又旣及之後三人不能同行及各至彼處之時刻皆與各起程之時刻相同蓋言自此至彼所行皆爲整日數也

答曰乙果追及丙八日行二千里甲果追及乙二日半行七百五十里彼處去此三千里

術曰以均輸求之大衍入之置乙己去日數乘乙行裏爲實以甲乙行裏差爲法除之得甲及乙日數辰刻以乘甲行得裏次置丙旣去日乘丙行裏爲實以丙乙行裏差爲法除之得乙及丙日數以乘乙行得裏然後置三人日行求總等約得原數以連環求等約得定母以定相乘得衍母各定約衍得衍數滿定去衍得奇奇定大衍得乘率以乘寄衍得用數視甲及乙裏爲乙率乙及丙裏爲丙率以乙日行滿去乙率不滿爲乙余以丙日行滿去丙率不滿爲丙余以二餘各乘本用並之爲總滿衍去之不滿爲彼去此裏

艸曰置乙己去日乘乙日行二百五十里得一百二十五里爲實次置甲日行三百里減去乙行二百五十里餘五十里爲差法除實得二日五十刻甲果及乙數以乘甲行三百里得七百五十爲甲及乙里數次置丙旣行二百乘丙日二百里得四百里爲實次置乙行二百五十里減丙行二百里餘五十里爲差法除實得八百爲乙及丙日數以乘乙行二百五十里得二千里爲乙得及丙之里數已上爲先欲知果及數次列甲乙丙三名日行求總等得五十先約甲丙存得甲六乙二百五十丙四

以甲六丙四求等得二以二約甲爲三復以二因丙爲八次將乙二百五十與丙八相約得二乃約乙爲一百二十五復以二因丙爲十六定得甲三乙一百二十五兩十六爲定母

以定相乘得六千爲衍母以各定約衍母得衍數甲得二千乙得四十八丙得三百七十五求奇數

左上二千以甲三去之奇二左中四十八卽爲乙奇左下三百七十五丙十六去之奇也

各以大衍求得甲二乙一百一十二丙七各爲乘率

以乘率對乘衍數甲得四千乙得五千三百七十六丙得二千六百二十五爲泛用數

並三泛得二萬二千一乃多衍母一倍當半衍母六千得三千以消甲四千餘一千又消乙五千三百七十六餘二千三百七十六丙不消各爲定用數

旣得用數次視前艸中甲及乙七百五十里爲乙率乙及丙一千里爲丙率各滿乙丙日行裏去之

今乙丙二人所行各皆適滿去之無餘𨿽稱同時俱至乃各系全日所行便以乙丙二人約六千里得三千里爲彼去此里數合問

按復數求元數用總等法尙屬未密蓋總等約後有當連環求等者有當卽求續等者其法不能定也今少爲變通凡復數皆見十者先以十爲總等徧約之【百千萬同】爲元數俟連環求等畢復以總等十乘一數【百千萬同】然後再求續等以得定數爰依題數具式於後

法列三數於上以十爲總等徧約之得甲三十乙二十五丙二十卽爲元數連環求等以甲與乙約得等數五【奇】約甲得六【偶】以甲與丙約得等數二【偶】約甲得三【奇】爲甲數徧約畢次以乙與丙約得等數五【奇】約丙得四【偶】爲乙丙二數徧約畢乃以總等十乘乙數得二百五十次求續等以甲與乙與丙相約俱無續等以乙與丙約得續等二【偶】約乙數得一百二十五【奇】復乘丙得八則甲三乙一百二十五丙八卽爲各定數也以三定數連乘得三千爲衍母卽所問彼處去此之里數較舊術算省而數亦確矣

數學九章卷一下﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹥

欽定四庫全書

數學九章卷二上

宋秦九韶撰天時

推气治歷

問太史測驗天道慶元四年戊午嵗冬至三十九日九十二刻四十五分紹定三年庚寅嵗冬至三十二日九十四刻一十二分欲求中間嘉泰甲子嵗气骨嵗余斗分各得幾何

按紹定三年庚寅之冬至實紹定四年辛夘之始辛夘距戊午三十四年積年爲三十三

答曰气骨十一日三十八刻二十分八十一杪八十小分余嵗五日二十四刻二十九分三十杪三十小分斗分空日二十四刻二十九分三十杪三十小分

術曰先距前後年數爲法置前測曰刻分減後測曰刻分余爲率【不足減則加紀防】以紀防累加之今及天道合用五日以上數爲實以法除實得嵗余去全日余爲斗分以所求中間年上距前測年數乘嵗余益入前測日刻分滿紀防去之餘爲所求气骨

艸曰置前測戊午嵗距前嵗庚寅嵗得三十三爲法置前測戊午嵗冬至三十九日【日辰癸夘】九十二刻四十五分減後測紹定三年庚寅嵗冬至三十二日【日辰丙申】九十四刻一十二分今後測者少不及前測者以減乃加紀法六十日於後測日內得九十二日九十四日一十二分然後用前測者減之餘五十三日一刻六十七分爲率按術當以法三十三餘率須使啇數必得五日以上乃可今率未得五日乃兩度累加紀法一百二十入率內共得一百七十三日一刻六十七分爲刻實如法除之得五日二十四刻二十九分三十杪三十小分【不盡棄之】爲嵗余乃去全五日得二十四刻二十九分三十杪三十小分爲斗分次推嘉泰甲子上距慶元戊午嵗得六以乘嵗餘五日二十刻刻二十九分三十杪三十小分得三十一日四十五刻七十五分八十一杪八十小分益入前測戊午嵗三十九日九十二刻四十五分得七十一日三十八刻二十分八十一杪八十小分滿紀法六十去之餘一十一日三十八刻二十分八十一杪八十小分爲所求甲子气骨之數合問

按气骨者年冬至時距甲子日子正初刻後之日分也嵗餘者嵗實去六甲子之餘日分也斗分者嵗實去三百六十五日之餘分也此未知嵗實之法故先以前後兩气骨相減餘數爲實以積年爲法除之嵗余約五日余紀日六十故實數內累加六十日至啇得五日上而止則實數爲積嵗余之數以積年除之得嵗餘日分旣得嵗余以甲子積年六乘之得甲子積嵗余與前測气骨相加滿紀法去之餘卽甲子气骨也

治歷推閏

問開禧歷以嘉泰四年甲子嵗天正冬至爲一十一日【日辰乙亥】四十四刻六十一分五十四杪十一月經朔一日【日辰乙丑】七十五刻五十五分六十二杪問閏骨閏率各幾何

答曰閏骨九日六十九刻五分九十一杪【不盡一百六十九分杪之一百二十一】

閏骨率十六萬三千七百七十一

術曰以日法各通气朔日刻分杪各爲气骨朔骨分其气骨分如約率而一約盡者爲可用【或收棄余分在一刻以下者亦可用】然後與朔骨分相減余爲閏骨率以日法約之爲閏骨防

艸曰置本歷曰法一萬六千九百先通冬至一十一日四十四刻六十一分五十四杪得一十九萬三千四百四十分二十六小分爲實其歷約率系三千一百二十以約之得六十二可用其餘小分二十六乃棄之只用一十九萬三千四百四十爲气骨分次置朔一日七十五刻五十五分六十二杪以本歷日法一萬六千九百乘之得二萬九千六百六十八分九十九杪七十八小分將近一分故於气骨內所棄二十六小分借二十二小分以補朔內收上得二萬九千六百六十九爲朔然後以朔骨分減气骨分余有一十六萬三千七百七十一爲閏骨率復以日法除之得閏骨防九日六十九刻五分九十一杪不盡一百二十一算直命之爲一百六十九分杪之一百二十一合問

按此題若置冬至日分內減經朔日分餘九日六十九刻五分九十二杪得閏骨防此原艸僅多一百六十九分杪之四十八盡艸中气骨內棄小分二十六朔骨分內進二十二並之爲一百六十九分杪之四十八其不徑相減而必用通分約分累乘累除者爲向後推算用耳

治歷演紀

問開禧歷積年七百八十四萬八千一百八十三欲知推演之原調日法求朔余朔率斗分嵗率嵗閏入元嵗入閏朔定骨閏泛骨閏縮紀率气元率元閏元數及气等率因率蔀率朔等數因數蔀數朔積年二十三事各幾何

答曰日法一萬六千九百

朔餘八千九百六十七

朔率四十九萬九千六十七

斗分四千一百八

嵗率六百一十七萬二千六百八

嵗閏一十八萬三千八百四

入元嵗九千一百八十

入閏四十七萬四千二百六十

朔定骨二萬九千六百六十九

閏泛骨一十六萬三千七百七十一

閏縮一十八萬八千五百七十八

紀率一百一萬四千

气元率一萬九千五百

元閏三十七萬七千八百七十三

元數四百二

气等率五十二

因率一百四十四

蔀率三百二十五

朔等數一

因數四十五萬七千九百九十九

蔀數四十九萬九千六十七

朔積年七百八十三萬九千

積年七百八十四萬八千一百八

術曰以歷法求之大衍入之調日法如何承天術用彊弱母子互乘得數並之爲朔余以二十九日通日法增入朔余爲朔率又以日法乘前歷所測冬至气刻分收棄末位爲偶數得斗分與日法用大衍術入之求等數因率蔀率以紀乘等數爲約率置所求气定骨如約率而一得數以乘因率滿蔀率去之不滿以紀法乘之爲入元嵗次置嵗日以日法通之並以斗定分爲嵗率以十二月乘朔率減嵗率余爲嵗閏以嵗閏乘入元嵗滿朔率去之不滿爲入閏與閏骨相減之得差【或適足便以入元嵗爲積年後術並不用或差在刻分法半數以下者亦以入元嵗爲積年】必在刻分法半數以上卻以閏泛骨並朔率得數內減入閏餘與朔率求閏縮【在朔率以下便爲閏縮以上用朔率減之亦得】以紀法乘日法爲紀率以等數約之爲气元率以气元乘嵗閏滿朔率去之不滿爲元閏虛置一億減入元嵗余爲實元率除之得乘限乃以元閏與朔率用大衍入之求得等數因數蔀數以等約閏縮得數以因數乘之滿蔀數去之不滿在乘限以下以乘元率爲朔積年並入元嵗爲演紀積年又加成歷年今人相乘演積年其術如調日法求朔余朔率立

斗分嵗余求气骨朔骨閏骨及衍等數約率因率蔀率求入元嵗嵗閏入閏元率元閏已上皆同此術但其所以求朔積年之術乃以閏骨減入閏餘爲之閏贏卻與閏縮朔率列號甲乙丙丁四位除乘消減謂之方程乃求得元數以乘元率所得爲之積年加入元嵗共爲演紀嵗積年所謂方程正是大衍術【今人少知】非特置算繁多初無定法可傳甚是惑悞後學易失古人之術意故今術不言閏贏而曰入閏差者蓋本將來可用入元嵗便爲積年之意故今止將元閏朔率二項以大衍先求等數因數蔀者仍仿前前求入元嵗之術理假閏骨如气骨以等數爲約數及求乘數蔀數以等約閏縮得因乘數滿蔀去之不滿在限下以乘元率便爲朔積年亦加入元嵗共爲演紀積年此術非惟止用乘除省便又且於自然中取見積年不惑不差矣新術敢不用閏贏而求者實知閏贏已存於入閏之中但求朔積年之奇分與閏縮等則自與入閏相合必滿朔率所去故也數理精微不易窺識窮年致志感於夢寐幸而得知謹不敢隱艸曰本歷以何承天術調得一萬六千九百爲日法系三百三十九彊一十七弱先以彊數三百三十九乘彊子二十六得八千八百一十四於上次以弱數一十七乘弱子九得一百五十三並上共得八千九百六十七爲朔余次以日法通朔防二十九日得四十九萬一百增入朔余得四十九萬九千六十七爲朔率又以日法乘統天歷所測毎嵗冬至周日下二十四刻三十一分得四千一百八分三十九杪爲斗泛分驗八分旣偶遂棄三十九杪只以四千一百八分爲斗定分與日法以大衍術入之�得五十二爲等數一百四十四爲因率三百二十五爲蔀率以甲子六十爲紀法乘等數得三千一百二十爲約率卻置本歷上課所用嘉泰甲子嵗气骨一十一日四十四刻六十一分五十一杪以乘日法得一十九萬三千四百四十分二十六杪爲气泛骨欲滿約率三千一百二十而一故就近乃棄微杪只以一十九萬三千四百四十爲气定骨然後以約率三千一百二十除之得六十二以因率一百四十四乘之得八千九百二十八滿蔀率三百二十五去之不滿一百五十三以紀法六十乘之得九千一百八十年爲入元嵗次置嵗三百六十五以日法乘之得六百一十六萬八千五百並斗定分四千一百八得六百一十七萬二千六百八爲嵗率卻以十二月乘朔率四十九萬九千六百七得五百九十八萬八千八百四率內減去此數餘一十八萬三千八百四爲嵗閏以嵗閏乘入元嵗九千一百八十得一十億八千七百三十二萬七百二十滿朔率去之不滿四十七萬四千二百六十爲入閏次置本歷所用嘉泰甲子嵗天正十一月朔一日七十五刻五十五分六十二杪以日法乘之得二萬九千六百六十八分九千九百七十八杪爲朔泛骨就近收杪爲一分共得二萬九千六百六十九爲朔定骨數然後乃以朔定骨減气骨一十九萬三千四百四十餘一十六萬三千七百七十一爲閏泛骨置日法以二百歸除之得八十四半爲半刻法次以入閏數內減去閏泛骨與入閏相課減之餘三十一萬四百八十九【此是閏贏】爲差半刻法以上乃以閏泛骨並朔率共得六十六萬二千八百三十八以入閏四十七萬四千二百六十減之餘一十八萬八千五百七十八在朔率下便爲閏縮次以紀防六十乘日法得一百一萬四千爲紀率以等數五十二歸除紀率得一萬九千五百【按卽六十乘三百二十五之數爲一蔀年數】爲气元率以气元率乘嵗閏一十八萬三千八百四得三十五億八千四百一十七萬八千滿朔率去之不滿三十七萬七千八百七十三爲元閏次置一億【按此數似虛設不過取一億之數爲限耳此所求過限又將攺率數以遷就之矣】以入元嵗元千一百八十減之餘九千九百九十九萬八百二十爲實以元率一萬九千五百爲法除之得五千一二十七爲乘元限數乃以元閏三十七萬七千八百七十三餘與朔率四十九萬九千六十七用大衍術求之得等數一因等四十五萬七千九百九十九蔀數四十九萬九千六十七然後以等數一約閏縮只得一十八萬八千五百七十八以因數四十五萬七千九百九十九乘之得八百六十三億六千八百五十三萬五千四百二十二滿蔀數四十九萬九千六百七十去之不滿四百二在乘元限數以下爲可用以乘元率一萬九千五百得七百八十三萬九千年爲數積年並入元嵗九千一百八十共得七百八十四萬八千一百八十爲嘉泰四年甲子嵗積算本歷系於丁夘嵗進呈又加丁夘三年共爲七百八十四萬八千一百八十三年爲本歷積年合具繪圖如後

按此術艸內奇定相求有等數又有因數蔀數之異蓋等數卽度盡定奇兩數之數因數爲奇數之倍數任倍定奇二數相較但得一等數則奇之倍數卽爲因數蔀數者奇數最大之倍數也任倍奇定至兩邊相等無較數則奇數之倍數卽謂之蔀數也等數甚小者因數不患其甚大有蔀數以限之也艸中尙多訛舛正之於後

按此題術艸皆曰何承天調日法而宋書所載何承天法並無甚率且各用數亦與此不同今細按其艸日法已有定數所調者朔防余分也然從來朔防余分皆以實測之朔防分嵗實分兩母子互乘相通卽得並無所謂調法今所載彊弱母子四數大約已有朔防余分與日法分相約而得非別有所本乃故設曲折以爲奇也試以朔余分八千九百六十七分爲第一條置日法分內減朔防余分餘七千九百三十三爲第二條以此二數數取之先置第一條減第二條餘一千零三十四爲第三條七因第三條以減第二條餘六百九十五爲第四條以第四條減第三條餘三百三十九爲第五條二因第五

條以減第四條餘一十七爲

第六條是第五條卽彊母數

第六條卽弱母數矣次用第

五條第六條轉求第一條以

取兩子數置第六條於上二

因第五條加之得第五條者

二第六條者一共六百九十

五爲第四條以第四條加第

五條得第五條者三第六條

者一共一千零三十四爲第

三條七因第三條以加第四

條得第五條者二十三第六

條者八共七千九百三十三

爲第二條以第二條加第三

條得第五條者二十六第六條者九共八千九百六十七爲第一條是第五條倍數卽彊子數第六條倍數卽弱子數矣至算式中以日法取彊母數者則又以第五條第六條再約而得者如以第五條爲實第六條爲法爲法商之初商得十以法乘初商得一百七十爲初商積減實餘一百六十九恰與百分日法分之一等故百除日法分爲一數又三乘之得五百零七爲實以四十九爲法初商得十初商積爲四百九十減實餘十七乃以商十乘十七得一百七十與前初商積等故加與前余積等之百分日法分之一得三百三十九爲五條之數名之曰彊數也

次以日法乘朔防日得數並朔余爲朔率

斗分見偶則棄見奇則收爲偶

按此系棄分以下數不用也分爲偶數卽用其數分爲奇數則杪微進一分並爲偶數如無杪微卽加一分

又按算中用數以日法分一萬六千九百分爲主斗分定爲四千一百零八爲偶數气骨分亦定爲偶數其各時刻分皆由日分比例而得故變時刻分爲日分求之無不合﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷二上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷二上﹥

按求入元嵗法用斗分與日法分求等率乘率蓋以六十年之嵗實積分與紀法分相約後以六十除紀法分得日法分爲定以六十除嵗實積分得斗分爲奇求得蔀數乘數皆與六十年之嵗實積分與紀法分所求者同惟等數則爲六十之一故以六十乘之爲乘分以約气骨分然後以乘數乘之滿蔀數去之所得用數爲六十年之周數故以六十乘之始爲年數此立法之意也然以六十年爲周數則六十年之間其气骨數有合者則不可得故所得年數較以嵗實分紀分相求者爲逺也

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷二上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷二上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷二上﹥

按气元一萬九千五百乃前蔀數三百二十五以六十乘之之數蓋求入元嵗用六十倍者故此仍用六十倍也

又按此皆用六十年嵗實分求得之數與用一嵗實分求得之數同蓋因積年數爲六十度盡之數若非六十度盡之數則得數必逺也今依其數另設一題以明其法

設宋開禧歷日法一萬六千九百分嵗實分六百一十七萬二千六百零八法紀率分一百零一萬四千分朔率分四十九萬九千零六十七分嘉泰甲子嵗天正冬至距甲子日子正後十九萬三千四百四十分【古名气骨】十一月朔距甲子日子正後二萬九千六百六十九分【古名朔骨】問距歷元甲子子正初刻冬至朔之積年幾何

答曰七百八十四萬八千一百八十年

法以紀率爲紀定紀率除嵗率【卽嵗實分】餘八萬八千六百零八分爲紀奇依大衍術求至奇一百零三餘分六百二十四餘分可以度盡上數則命六百二十四爲等數一百零三爲乘數又求得奇一千六百二十五無餘分則命一千六百二十五爲蔀數乃以等數約气骨分得三百一十以乘數乘之得三萬一千九百三十滿蔀數去之餘一千零五十五卽專以气骨分求得距歷年之積年數也舊法以斗分【嵗余分四千一百零八】爲奇日法爲定求得等數一紀法六十乘之以約气骨得數以乘數乘之蔀數除之餘數又以六千乘之爲積年名入元嵗其術未密【詳前】故所得積年爲九千一百八十其數亦較逺也

次以蔀數【卽嵗實紀法滿一會年數】乘嵗率得一百億三千四十八萬八千滿朔率去之餘二十三萬九千四百三十四舊名气元閏爲朔奇朔率爲朔定依前法求得等數一乘數六千二百五十一蔀率四十九萬九千零六十七次以前所得積年乘嵗率滿朔率去之餘二十七萬五千二百二十四爲前朔距至前分數舊名入元閏以嘉泰甲子气骨朔骨相減得十六萬三千七百七十一爲後朔距至前分數舊名閏骨夫十一月朔常在冬至前退行今前逺後近是已退過一朔防則於後閏骨內加一朔防再減去入元閏餘三十八萬七千六百一十四爲後朔前朔相差之分數舊名閏縮乃以等數約閏縮仍得原數以乘數乘之滿蔀數去之餘四千八百二十九爲會數乃以一會年數【卽前蔀數】乘之得七百八十四萬七千一百二十五爲朔積年加入前積年得七百八十四萬八千一百八十爲嘉泰甲子積年

又法仍按本法求之先以嵗率紀率朔率求總等朔率不盡無總等各率朔卽爲各元數次連環求等朔元不盡嵗元等數等數爲六百二十四畱嵗元不約約紀元得一千六百二十五分爲紀泛定嵗元朔元卽爲嵗泛定朔泛定次求續等紀泛定嵗泛定等數爲十三約嵗泛定乘紀泛定得四十七萬四千八百一十六爲嵗定二萬一千一百二十五爲紀定朔泛定卽朔定三定數連乘得五○○五八八五五五四六九六○○○爲衍母紀定朔定相乘得八一○九八三八七五爲嵗衍嵗定

朔定相乘得二三六九六四

九九六六七二爲紀衍嵗定

紀定相乘得一○○三○四

八八○○○爲朔衍置各衍

數滿各定數去之餘嵗奇四

七二九六三紀奇二○○四

七朔奇二三九四三四次以

各定各奇求各乘數得嵗乘

數【此題不用嵗乘數求之以備其數】二四九

六七紀乘數二○○○八

朔乘數六二五一以各乘數

乘各衍數得各泛用數嵗泛

用二○一九八九三二○七

九四六二五紀泛用四七四

一一九五六五四四一三三

七六朔泛用六二七○○五

八四八八○○○並三泛用與衍母數等則泛用卽爲定用乃以气骨乘紀定用得九一七一三六八八七一九六二八三四五五三四四○置气骨減去朔骨餘十六萬三千七百七十一以乘朔定用得一○二六八五三六七六七一○○二四八○○○並數得九二七四○五四二三九六三三八三七○一四四○滿衍母去之餘四八四四三七三八六五三四四○爲實以嵗實分爲法除之得七百八十四萬八千一百八十卽嘉泰甲子積年之數也此法較前法數繁然其理可互相發明後復設一法兼二法用之

三法先以嵗率紀率求等數得六百二十四專約紀率得一六二五分爲紀元嵗率卽爲嵗元又求續等數得十三以約嵗元得四七四八一六爲嵗定以乘紀元得二一一二五爲紀定紀定嵗定相乘得一○○三○四八八○○○爲衍母以紀定二一

一二五爲嵗衍以嵗定四七

四八一六爲紀衍嵗衍小於

嵗定卽爲嵗奇紀衍滿紀定

去之餘一○○六六爲紀奇

次以各定各奇求各乘數得

嵗乘數二五四八六一紀乘

數九七八六以各乘數乘各

衍數得各用數嵗用數五三

八三九三八六二五紀用數

四六四六五四九三七六乃

以气骨乘紀用數得八九八

八二八五一一二九三四四

○滿衍母去之餘六五一二

一○一四四○爲通積分爲

實以嵗實分爲法除之得一

千零五十五卽專以气骨求﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷二上﹥

次以前衍母分【卽嵗率紀率一會一千六百二十五年之積分】一○○三○四八八○○○與朔率分求等數得一卽以前衍衍母分爲嵗紀元亦卽爲嵗紀定以朔率分四九九○六七爲朔元亦卽爲朔定二定數相乘得五○○

五八八五五五四六九六○○

○爲衍母以朔定爲嵗紀衍以

嵗紀定爲朔衍嵗紀衍小於嵗

紀定卽以嵗紀衍爲嵗紀奇明

衍滿朔定去之餘二三九四

三四爲朔奇各以定奇求乘

數得嵗紀乘數九九○四八

五二四○三朔乘數六二五

一以各乘數乘各衍數得嵗

紀泛用數四九四三一八四

九七四二○八○○一朔泛

用數六二七○○五八○四

八八○○○並二泛數與衍

母等則泛用數卽爲定用數

乃置前通積分六五一二一

○一四四○滿朔率去之餘

二七五二二四爲入元第一

千零五十五年之閏分又置

嘉泰甲子气骨減去朔骨餘

一六三七七一爲嘉泰甲子

之閏分閏分每嵗漸加今後數小於前數是知已加過一朔率乃於後閏分內加一朔率分減去前閏分得三八七六一四爲前後閏分差以乘朔定用數得二四三○三六二二八○五二七五六三二○○○滿衍母去之餘四八四三七二二六五五二○○○爲實以嵗率爲法收之得七百八十四萬七千一百二十五爲後積年數並前積年數共得七百八十四萬八千一百八十年爲嘉泰甲子積年與前數合

按右奇定相求其上層奇一數卽大衍術中所謂立天元一也其逐層數卽術中所謂遞互乘余也其下層奇得數卽術中所謂乘數也【有等數者求蔀數】古無筆算舊式所載不詳兼多重舛僞之處集中惟此問甚繁故旣設題以明其法復備錄加減乘除之數以詳其算式俾觀者易見焉

綴術推星

問嵗星合伏經一十六日九十分行三度九十分去曰一十三度乃見後順行一百一十三日一十十七度八十三分乃畱欲知合伏段晨疾初段常度初行率末行率平行率各幾何

按此以兩積曰之遞差積度求各行率也蓋合伏初日其行最疾以次漸遲遲極則畱總其積度略如遞減差分故古法皆以其術步之

答曰合伏一十六日九十分常度三度九十度初行率二十三分九十七杪平行率二十三分二杪末行率二十二分七杪

晨疾初三十日常度六度一十三分初行率二十一分九十六杪平行率二十分三十三杪末行率一十八分七十杪

術曰以方程法求之置見日減一餘半之爲見率以伏日並見日爲初行法以法半之如見率共爲伏率以伏日乘伏率爲伏差以見日乘見率爲見差以伏日乘見差於上以見日乘伏差減上余爲法以見日乘伏度爲泛以伏日乘見度減泛余爲實實滿法而一爲度不滿退除爲分杪卽得日差

按此求逐日之遞差爲日差也術曰方程非也其所謂見數者乃徒設一數宛轉附會使合於方程之行列也如見日減一折半爲見率並伏見日折半爲半總日旣以半總日加見率先以伏日乘之後以見日乘之復置見率先以見日乘之後以復日乘之相減然後爲法豈非半總日不用加見率但以伏日見日連乘之卽可爲法乎特多立名目故爲曲折顚倒使人不易辦耳今去其見率另爲步算於後以明其立法之本意焉

法以合伏日除伏行度得二十三分【七六九二三】爲合伏日折中第八日四十五分一日之行度【卽第七日九十五分至第八日九十五分之行度】以順行日除順行度得十五分【七七八七六一】爲順行日折中第五十六日五十分一日之行度兩一日之行度相減行七分【一九八一六二】爲合伏第八日四十五分與順行第五十六日五十分兩一日之行度較爲實並合伏順行兩日數而半之得六十四日【九五】爲合伏第八日四十五分至順行五十六日五十分之積日爲法除之得十一杪【二三六五八五】爲一日遞差之數卽日差若不先用除則以兩日數與兩行度互乘相減爲實兩日數相乘又並兩日數而半之再乘爲法得數亦同

求初行率置初法減一餘乘日差爲寄以半初行法乘寄得數又加伏見度共爲初行實以法退除之得合伏日初行率

按此求合伏第一日最疾之行也其法卽遞減差分有總數有次數有毎次差數求初次最大之數也初行法減一乘日差爲寄者合伏初日與順行末日兩行率之差也半法乘寄與積差等故加共度爲實以共日爲法除之爲合伏初日行率二十三分九十七杪也

求未行率以段日乘日差減初行率余爲末行率按此求合伏末日之行率也以段日乘日差求合伏初末日兩行率之較也旣得初末日兩行率之較以減初行率卽末行率也

求平行率以初行率並未行率而半之爲平行率按此卽均分合伏度爲毎日之平行率也與遞加遞減有首尾數求中數者同應與伏日除伏度數同不同者本非遞差之數也

求交段差以各段常日下分數減全日一百分余乘末日行率爲交段差

按此卽各段日下分數不及一日所差之行分也求之以備後數加減

累減前段積度以益後段積度各爲常度

按常度卽各段積度也求晨疾初段常度見常中專解於後

艸曰以伏日隨伏度爲右行以見日隨見度爲左行以度對度日對日其度於上日於中空其下列之

置見日一百一十三減一餘一百一十二以半之得五十六爲見率以伏日一十六日九十分並見日一百一十三得一百二十九日九十分爲初行法

以初行法半之得六十四日九十五分並見率五十六日得一百二十日九十五分爲伏率以初行法寄之以伏率歸右下以對見率仍分左右兩行爲首圖

以首圖伏日一十六日九十分乘伏率一百二十日九十五分得二千四十四日五分五十杪爲伏差於右下以首圖見日一百一十三乘見率五十六得六十三百二十八日爲見差於左下乃成次圖凡方程之術先欲得者存之以未欲得者互偏乘兩行諸數今驗此圖先欲得日差故存其左右之上下以左右之中伏見日數互偏乘兩行乃以次圖右中伏日一十六日九十分先偏乘左行畢左上得三百一度三十二分七十杪左中得一千九百九日七十分左下得一十萬六千九百四十三日二十分又以次圖左中見日一百一十三偏乘右行畢右上得四百四十日七十分右中亦得一千九百九日七十分右下得二十三萬九百七十八日二十一分五十杪

以兩行得變名泛積法而成才圖乃驗才圖左上下皆少用減右行畢行上餘一百三十九度三十七分三十杪爲日差實右中空右下得一十二萬四千三十五日一分五十杪爲日差法今維圖法多實少除得空度空分十一杪二十三小分六十五小杪不盡十杪五十五小分三十九小杪五十二微分五十微杪收爲一小杪爲日定差一十一杪二十三小分六十六小秒

旣得日差乃行初行率置法圖內初行法一百二十九日九十分內減去一日餘一百二十八日九十分乘日差一十一杪二十三小分六十六小杪得空度一十四分四十八杪三十九小分七十七小杪四十微分爲寄次置【按此下脫三十一字應作次置寄以半法乘之得九度四十分七十三杪四十三小分三十二小杪一十三微杪】

以得數加伏度三度九十分見度一十七度八十三分共得三十一度一十三分七十三杪四十三小分三十二小杪一十三微分爲初行實如初行法一百二十九日九十分而一乃行空度二十三分九十七杪爲伏合初日行率餘三杪一十三分分三十二小杪一十三微分棄之

求末行率置合伏段日數一十六日九十分乘日差一十一杪二十三小分六十六小杪得一分八十九杪八十九小分八十五小杪四十微分爲得數乃以得數減初行率二十三分九十七杪餘二十二分七杪一十小分一十四小杪六十微分爲合伏末日行

求平行率置初行率二十三分九十七杪並末行率二十三分七杪得四十六分四杪以半之得二十三分二杪爲平行率

求交段差置合伏日下減全日一百分餘一十分乘末行率二十二分七杪得二分二十杪七十小分爲交段差

求晨疾初段常度置合伏日一十六日九十分乃收九十分作一日通爲一十七日並舊曆所注晨疾初段常日三十得四十七爲共日乘合伏初行率二十三分九十七杪得一十一度二十六分五十九杪爲寄上

按此有第一日行度有逐日遞減之差有前後各段日數有前段積度求後段積也先以共日乘初行率者以最疾爲率之共積也下求遞差以減之故爲寄

乃副置共日四十七減一餘四十六以半之得二十三乘副四十七得一千八十一以乘日差一十一杪二十三小分六十六小杪得一度二十一分四十六杪七十六小分四十六小杪以減上寄一十一度一十六分五十九杪餘一十度五分一十二杪二十三小分五十四小杪爲合伏晨疾初兩段共積度按此乃求積差以減上數得共日之積慶也法應於共日內減一日以乘日差得數爲共日數初末日行率之較再以共日數乘之得數折半爲積差此先折半次連乘得積差其理亦同

置共積內減合伏三度九十分餘六度一十五分一十二杪二十三小分五十四小杪爲泛次以交段差二分二十杪七十小分減泛餘六度一十二分九十一杪五十三小分五十四小杪爲晨疾初段常度注歷乃收八杪五【按應作四】十六小分四十六小杪爲全分常定度

按此於共積內減去合伏段積尙有合伏九十分不及一日所差之行分卽交段差未減故爲泛數再減交段差爲晨疾初段常泛度再收爲六度十三分始爲定常度也

求晨疾初段初行率以日差一十一杪二十三小分六十六小杪減合伏末行率二十二分七杪餘二十一分九十六杪爲晨疾初段初行率行泛收之爲定者也

按此以合伏末日之次日爲晨疾初段之初日也故置合伏之末行率減一日之差卽爲晨疾初段之初行率五杪余收爲六杪凡寄零未收名泛數已收名定數下仿此

求晨疾初末行率置晨疾初常日三十減一餘二十九日乘日差一十一杪二十三小分六十六十小杪得三分二十五杪八十六小分一十四小杪以減晨疾初段初行率泛二十一分九十五杪七十六小分三十四小杪餘一十八分六十九杪九十小分二十小杪爲晨疾初末行率

按此求晨疾初段末日之行率也常日減一日乘日差得數爲晨疾初段初末二日行率之較也故減初行率得末行率

求平行率以晨疾初初行泛二十一分九十五杪七十六小分三十四小杪並晨疾初末泛一十八分六十九杪九十小分二十小分得四十分六十五杪六十六小分五十四小杪以半之得二十分三十二杪八十三小分二十七小杪爲晨疾初平行泛乃以三泛收棄爲之定

按此與求合伏平行率同其言泛棄爲定者蓋截去杪下奇零過半則收爲一杪也然語意欠明

又按五星行度遲疾差廻非遞加遞減之數術中僅以合伏與順見二段各取中數至推遂日行度仍用遞加遞減之法故古法之疎五星尢甚原文語多隠晦令悉爲解之可以見古今疎宻之所在焉

數學九章卷二上﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹥

欽定四庫全書

數學九章卷二下

宋秦九韶撰天時

揆日究微

問歷代測景惟唐大衍歷最宻本朝崇天曆陽城冬至景一丈二尺七寸一分五十杪夏至景一尺四寸七分七十杪九系與大衍歷同今開禧歷臨安府冬至景一丈八寸二分二十五杪夏至景九寸一分欲求臨安府夏至後差防日而景與陽城夏至日等較以大衍歷晷景所差尺寸各防何

答曰大暑後五日午中景長一尺四寸八分八十

五杪

按舊本答數後有二圖舛錯潦艸傳冩者失其眞也細考圖內所載之數皆與今法頗合知此悉當時實測所定非同臆說也因取其數攺正於後﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷二下﹥

置臨安府所測冬至景一丈八寸二分二十五杪以夏至景九寸一分減之餘九尺九寸一分二十五杪爲景差以爲實

置象限度九十一度三十一分四十四杪加一十一度二十五分二十七杪五十小分命度爲寸得一百二寸五十六百七十一分五十杪爲法以除前差實得空寸九十六百六十四分四十杪不盡棄之自乘得節泛數九千三百四十分不盡棄之

先以小暑節乘率二十五乘節率九千三百四十分得二十三寸三千五百分於上

次以臨安夏至九寸一分自乘得八十二寸八千一百分爲夏至冪

乃以夏至冪加上得一百六寸一千六百分爲小暑冪以爲實以一寸爲隅開平方得一尺三分爲臨安小暑節景不盡七百分卽寸下七毫棄之

按各節气影長皆當時實測所定本不待求今所設求法乃故爲溟涬使人不可觧也細查其數首以象限加十一度余爲法以除影差得數自乘爲節率四每節下又有乘率以乘率節率相乘與夏至影冪相加卽爲本節影冪是知節率乃彊取之數蓋以此數先除各節影冪與夏至影冪之較名爲乘率故以此與節率相乘加夏至影冪卽各節影冪也數家設術誤人往往如此

又以大暑乘率一百九乘節率九千三百四十分得一百一寸八千六十分於頭位

仍以夏至冪八十二寸八千一百分加頭位一百一寸八千六十分得一百八十四寸六千一百六十分爲大暑冪以爲實以一寸爲隅開平方得一尺三寸五分八十七杪爲大暑不盡棄之

又置立秋乘率二百八十九乘節率九千三百四十分得二百六十九寸九千二百六十分於上

仍置夏至冪八十一寸八千一百分加於上二百六十九寸九千二百六十分得三百五十二寸七千三百六十八爲立秋冪

置立秋冪爲實以一寸爲隅開平方得一尺八寸七分八十一杪爲立秋景不盡棄之

乃驗陽城夏至景一尺四寸七分七十九杪在大暑後立秋前乃置大暑一尺三寸五分八十七杪並立秋景一尺八寸七分八十一杪得三尺二寸三分六十八杪以半之得一尺六寸一分八十四杪爲大暑後九日景又以九日景並大暑景得二尺九寸七分七千一杪以半之得一尺四寸八分八十五杪半爲大暑後五日景

乃以大暑景得五日景得二尺八寸四分七十二杪半以半之得一尺四寸二分三十六杪少爲大暑後三日景

又以五日景得三日景得二尺九寸一分二十一杪大以半之得一尺四寸五分六十杪八十七小分五十小杪爲大暑後四日景

今驗陽城夏至景一尺四寸七分七十九杪爲入臨安府大暑後四日景一尺四寸五分六十杪太彊乃以四日減五日景餘三分二十四杪太弱爲景差以十二時除之得二十七杪五小分二十小杪爲法

乃置陽城夏至景一尺四寸七分七十九抄減臨安大暑後四日景一尺四寸五分六十杪八十七小分五十小杪餘二分一十八杪一十二小分五十小杪爲實後以法二十七杪五小分二十小杪除之實如法而一得商數八有餘命大暑四日午後數八辰得大暑五日寅時景與陽城夏至之日午景等

求較以大衍歷晷景所差乃置陽城大暑景長一尺九寸五分七十六杪並陽城立秋景二尺五寸三分三十一杪得四尺四寸九分七杪以半之得二尺二寸四分五十三杪半爲次暑後九日午中景

置九日景復並大暑景一尺九寸五分七十六抄得四尺二寸二十九杪半以半之得二尺一寸一十四杪太爲大暑後五日景

今驗開禧歷所推臨安府大暑後五日午中景一尺四寸八分八十五杪半與陽城大暑後五日午中景尺一寸一十四杪太課之

乃以臨安府五日景減陽城五日景差六寸一分二十九杪少

按此法不過以臨安前後兩節气影長比例一影長之日數時刻復以所得節气日數時刻比例一陽城影長與之相較耳題內引大行崇天開禧諸法名目又稱其較同異差數皆故爲張皇之語且影差逐日不同皆以平派求之法亦未宻也

艸曰置臨安府所測冬至景一丈八寸二分二十五抄以夏至景九寸一分減之餘九尺九寸一分二十五抄爲景差以爲實置象度九十一度三十一分四十四杪加一十一度二十五分二十七杪半命度爲寸得一百二寸五千六百七十一分半爲法除實得空寸九千六百六十四分四十杪以自乘之得空寸九千三百四十分爲節率先以小暑乘率二十五乘之得二十三寸三千五百分於上次以臨安夏至景九寸一分自乘得八十二寸八千一百分爲夏至景冪以加上得一百六寸一千六百分爲小暑景冪開平方以一寸爲隅開之得一尺三分爲小暑景又以大暑乘率一百九乘節率九千三百四十分得一百一寸八千六十分於上仍加夏至冪八十二寸八千一百分得一百八十四寸六千一百六十分爲大暑冪以爲實一寸寸爲隅開平方得一尺三寸五分八十七杪爲大暑景又置立秋乘率二百八十九乘節率九千三百四十分得二百六十九寸九千二百六十分於上仍加夏至冪八十二寸八千一百分共得三百五十二寸七千三百六十爲立秋冪以爲實以一寸爲隅開平方得一尺八寸七分八十一抄爲立秋景乃驗陽城夏至景一尺四寸七分七十九杪在大暑後立秋前乃並大暑立秋二景半之得一尺六寸一分八十四杪爲大暑後九日景又並大暑景半之得一尺四寸八分八十五杪半爲大暑後五日午中景又並大暑景得數半之得一尺四寸二分三十六杪少爲大暑後三日景又並五日景一尺四寸八分八十五杪半得數半之得一尺四寸五分六十杪彊爲大暑後四日景驗得陽城夏至景入臨安大暑後四日乃以四日景減五日景餘三分二十四杪太弱爲差以十二時除之得二十七杪五小分二十小杪爲法復除陽城景與本日景差二分一十八杪一十二小分五十小杪得八命外爲在初五日寅時景等求較以大衍歷晷景所差乃置陽城大暑景長一尺九寸五分七十六杪並陽城立秋景二尺五寸三分三十一杪得四尺四寸九分七杪以半之得二尺二寸四分五十三杪半爲大暑後九日午中景復並暑景一尺九寸五分七十六杪得四尺二寸二十九杪半以半之得二尺一寸一十四杪太爲大暑後五日暑以較今開禧歷當日景一尺四寸八分八十五杪半差少六寸一分二十九杪少合問

接集中皆術在前艸次之圖在後此條之例不同

天池測雨

問今州郡多有天池盆以測雨水但知以盆中之水爲得雨之數不知器形不同則受雨多少亦異未可以所測便爲平地得雨之數假今盆口徑二尺八寸底徑一尺二寸深一尺八寸接雨水深九寸欲求平地雨防防何

答曰平地雨防三寸

術曰盆深乘底徑爲底率二徑差乘水深並底率爲靣率以盆深爲法除靣率得面徑以二率相乘又各自乘三位並之乘水深爲實盆深乘口徑以自之又三因爲法除之得平地水深

艸曰以盆深及徑皆通爲寸盆深得一十八寸底徑得一十二寸相乘得二百一十六寸爲底率置口徑二十八寸減底徑一十二寸餘一十六寸爲差以乘水深九寸得一百四十四寸並底率二百一十六寸得三百六十寸爲靣率以盆深一十八寸爲法除靣率得二十寸展爲二尺爲水靣徑以底率二百一十六寸乘靣率三百六十寸得七萬七千七百六十寸於上以底率二百一十六寸自乘得四萬六千六百五十六寸加上又以靣率三百六十寸自乘得一十二萬九千六百並上共得二十五萬四千一十六以乘水深九寸得二百二十八萬六千一百四十四寸爲實以盆深一十八寸乘口徑二十八寸得五百四寸自乘得二十五萬四千一十六寸又三因得七十六萬二千四十八寸爲法除實得三寸爲平地雨深合問

竹器驗雪

問以圓竹籮驗雪籮口徑一尺六寸深一尺七寸底徑一尺二寸雪防其中髙一尺籮體通風受雪多則平地少欲知平地雪髙防何

按籮體通風一語與算術不相涉或籮口所降之雪歸於籮底與前天池測雨題相同然依上步算平地雪深只七寸餘今其數又不合殆故爲是語以誤人也

答曰平地雪厚九寸三千四百二十九分之七百

六十四

術曰口徑減底徑余乘雪深半之自乘爲隅以籮深冪乘雪深冪並隅又乘雪深冪爲實隅實可約約之開連枝三乘方得平地雪厚

艸曰列問數各通爲寸置口徑一十六寸減底徑一十二寸餘四寸乘雪深一十寸得四十寸以半之得二十寸自乘得四百寸爲隅以籮深一十七寸自乘得二百八十九寸爲籮深冪次置雪深一十寸自乘得一百寸爲雪深冪以乘籮深冪數加隅又乘深冪得二百九十三萬寸爲實隅實求等得四百俱約之得七千三百二十五爲實得一爲隅開三乘方步法不可超乃約實置商九寸與隅一相生得九爲下亷又與商相生八十一寸爲上亷又與商相生得七百二十九爲從方乃命上商除實不盡七百六十四已而復以商生隅入二亷至方陸續又生畢以方亷隅共並之得三千四百三十九分寸之七百六十四爲平地雪厚九寸三千四百三十九分寸之七百六十四合問

按此法之意不可見然以數考之非通法也設原題雪深爲一寸以口徑底徑較四寸乘雪深一寸仍得四寸半之得二寸自之得四寸爲隅以籮深一十七寸自之得二百八十九寸爲籮深冪雪深一寸自之仍得一寸爲雪深冪二深冪相乘仍得二百八十九寸並隅得二百九十三寸再以雪深冪乘之仍得二百九十三寸爲實隅實相約得七十四寸二十五百分爲實一爲隅開三乘方得二寸又六千四百分寸之五千七百二十五是平地雪反深於籮內矣

列問數各通爲十口徑得一十六寸深一十七寸底徑一十二寸籮中雪髙一十寸

乃以底徑減口徑餘四寸乘雪深一十寸得四十寸以中得數二十寸自乘得四百寸爲隅

以籮深一十七寸自乘得二百八十九寸爲籮深冪

次置雪深一十寸自乘得一百寸爲雪深冪

以雪深冪一百寸乘籮深冪二百八十九寸得二萬八千九百寸並隅四百寸得二萬九千三百寸爲上

置頭位數二萬九千三百寸又乘雪深冪一百寸得二百九十三萬寸爲實開三乘方

以隅實求等得四百俱爲約之得七千三百二十五爲實一爲隅開之

步法不可超乃約實置商九寸與隅相生得九爲下亷

下亷九又與商九相生得八十一爲上亷

上亷又與商相生得七百二十九爲從方

乃以從方七百二十九命上商九除實七千三百二十五訖實餘七百六十四旣而後以商生隅入下亷

下亷得一十八又與啇九相生入上亷

上亷得二百四十三又與商相生入方得二千九百一十六

又以商九生隅一入下亷一十八內得二十七

又以商九生下亷二十七入上亷二百四十三內得四百八十六又以商生隅入下亷二十七內得三十六爲求圖乃以末圓方亷隅四者並之得三千四百三十九爲母以實餘七百六十四爲子

命爲平地雪厚九寸三千四百三十九分寸之七百六十四合問

圓罌測雨

問以圓罌接雨口徑一尺五寸腹徑二尺四寸底徑八寸深一尺六寸並裏明接得雨水深一尺二寸圓法用宻率問平地雨水深防何

按此題問平地雨深無闗圓法宻率句贅若求罌中雨積數則當加此語

答曰平地雨深一尺八寸七萬四千八十八分寸

之六萬四千四百八十三

按答數誤攺正見後

術曰底徑與腹徑相乘又各自乘並之乘半罌深以一十一乘之爲下率以四十二爲下法除得下積以半罌深並雨深減元罌深余爲上深以口徑減腹徑余乘上深爲次以半罌深乘口徑加次爲靣率以半深除靣率得水靣徑以半深乘腹徑爲腹率置靣率與腹率相乘又各自乘並之以一十一乘之爲上率以半深自乘爲冪以乘下法爲上法上法除上率得上積半深冪乘下率並上率爲總實口徑冪乘上法爲總法除實得平地雨髙

艸曰置底徑八寸與腹徑二十四寸相乘得一百九十二寸於上又底徑八寸自乘得六十四寸加上又腹徑二十四寸自乘得五百七十六寸並上共得八百三十二寸以乘半罌深八寸得六千六百五十六寸又以一十一乘之得七萬三千二百一十六寸爲下率【按此下法不合皆爲題中圖法句所誤】置宻率法一十四以所並三因之得四十二爲下法以半深八寸並雨深一十二寸得二十寸以減元深一十六寸餘四寸爲上深以口徑一十寸五分減腹徑二十四寸餘一十三寸五分以乘上深四寸得五十四寸爲次以半罌深八寸乘口徑一十寸五分得八十四寸加次共得一百三十八寸爲靣率以半深八寸乘腹徑二十四寸得一百九十二寸爲腹率置靣率一百三十八寸與腹率一百九十二寸相乘得二萬六千四百九十六寸於上又以靣率一百三十八寸自乘得一萬九十四十四加上又以腹率一百九十二寸自乘得三萬六千八百六十四並上共得八萬二千四百四寸【按此條內落以上髙四寸乘之一層】以一十一乘之得九十萬六千四百四十四寸爲上率以半深八寸自乘得六十四寸爲半深冪以乘下法四十二得二千六百八十八爲上法以半深冪六十四寸乘下率七萬三千二百一十六寸得四百六十八萬五千八百二十四寸並上率九十萬六千四百四十四共得五百五十九萬二千二百六十八寸爲總實以口徑一十寸五分自乘得一百一十寸二分五釐以乘上法二千六百八十八寸得二十九萬六千三百五十二寸爲總法除實得一尺八寸不盡二十五萬七千九百三十二與法求等得四俱約之爲一尺八寸七萬四千八十八分寸之六萬四千四百八十三爲平地雨深合問

按此法有二誤法實皆當用圓冪或皆用方冪今以圓冪率乘實方冪率乘法法實不同類一誤也罌內雨自腹徑截之爲雨圓防體下髙八寸上髙四寸於下體並三冪以髙乘之於上體只並三冪未以髙乘之二誤也有此二誤故得平地雨深少三十五分之十七今依本法攺正於後

法以腹徑底徑相乘又各自乘並三積以半罌深八寸乘之得六千六百五十六寸爲三倍方罌內腹下雨積又以口徑腹徑相減餘一十三寸五分以雨深減罌深餘四寸相乘以半罌深除之得六寸七分五釐與口徑相加得一十七寸二分五釐爲雨靣徑與腹徑相乘又各自乘並三積以雨上深四寸乘之得五千一百五十寸二五爲方罌內三倍腹上雨積並二雨積得一萬一千八百零六寸二五爲方罌內三倍共雨積爲實口徑自乘三因得三百三十寸七五爲法除實得三尺五寸又一千三百二十三分寸之九百二十爲平地雨深若不先用除則以口徑腹徑較與罌深雨深較相乘之五十四寸爲雨靣徑口徑較加一半罌乘之數【應以半罌除之得雨徑較今不除卽如雨徑較以半罌乘之】卽爲雨靣徑口徑較此數旣加一半罌乘則諸數皆以半罌乘之得口徑八十四寸腹徑一百九十二寸以口徑與雨靣徑口徑較相加得雨靣徑一百三十八寸與腹徑相乘又各自乘並三冪以腹上雨深四寸乘之得三十二萬九千六百一十六寸爲三倍上雨積又以半罌深冪乘前三倍下雨積得四十二萬五千九百八十四寸爲三倍下雨積並二積得七十五萬五千六百寸爲三倍共雨積爲實以半罌深冪乘三因口徑冪得二萬一千一百六十八寸爲法除之得數亦同

峻積驗雪

問驗雪占年墻髙一丈二尺倚木去址五尺梢與墻齊木身積雪厚四寸峻積薄平積厚欲知平地雪厚防何

答曰平地雪厚一尺四分

術曰以少廣求之連枝入之以去址自乘爲隅以墻髙自乘並隅於上以雪厚自之乘上爲實【可約者約而開之】開連枝平方得地雪厚

艸曰以問數皆通爲寸置去址五十寸自乘得二千五百爲隅以墻髙一百二十寸自乘得一萬四千四百寸並隅得一萬六千九百寸於上以雪厚四寸自之得一十六乘上得二十七萬四百寸爲實開連枝平方今隅實可求等得一百俱約之得二千七百四爲實得二十五爲隅開平方得一十寸四分展爲一尺四分爲平地雪厚合問

按此術理法皆確然實用勾股不曰勾股而曰少廣曰連枝者猶有所閉匿而不肯盡發也試以圗明之甲乙爲墻上雪厚卽平地雪厚乙丙爲木上雪厚甲乙丙勾股形與木倚墻所成勾股形同式墻髙爲大股木爲大弦木去址爲大

勾甲乙爲小弦甲丙爲小

股乙丙爲小勾以墻髙大

股自乘木去址大勾自乘

並之爲大弦冪爲實以木

上雪厚乙丙小勾冪乘之以木去址大勾冪除之得甲乙小弦冪開平方卽爲平地雪厚也

數學九章卷二下

欽定四庫全書

數學九章卷三上

宋張九韶撰田域

按此卷以方圓斜直冪積相求卽方田少廣勾股諸法而術中累乘累除錯綜變換與常法回然其本則出於立天元一法今擇其難解者

以立天元一法明之皆不攻自破矣

古池推元

問有方中古圓池堙圮北餘一角從外方隔斜至內圓邊七尺六寸欲就古迹修之欲求圓方方斜各幾何答曰池圓徑三丈六尺六寸四百二十九分寸之

四百一十二

方面三丈六尺六寸四百二十九分寸之四百一十二方斜五丈一尺八寸四百二十九分寸之四百一十二

術曰以少廣求之投胎術【按卽益積之名】入之斜自乘倍之爲實倍斜爲益方以半寸爲從隅開投胎平方得徑又爲方面以隅並之共爲方斜

艸曰以斜七十六寸自乘得五千七百七十六倍之得一萬一千五百五十二寸爲實倍斜七十六寸得一百五十二爲益方【按有長方積先求長其長濶較名益方】以半寸爲從隅開平方置實一萬一千五百五十二於上益方一百五十二於中從隅五分於下於下起步約得百

古池圖

乃於實上商置三百寸方

再進爲一萬五千二百【按再

進者以百乘之也】隅五進爲五千

【按隅五分以百再乘得五千】以商隅相

生得一萬五千爲正方以

消益方一萬五千二百其

益方餘二百以與商相生

得六百投入實得一萬二

千一百五十二又商隅相

生又得正方一萬五千內消負方二百訖餘一萬四千八百爲從方【按倍正方減益方之數】一退爲一千四百八十以隅再退爲五十乃於上商之次續商置六十寸與隅相生增入正方得一千七百八十乃命續商除實訖實餘一千四百七十四次以商生隅增又正方爲二千八十方一退爲二百八隅再退爲五分乃於續商之次又商置六寸與隅相生增入正方爲二百一十一乃命商除實訖實不盡二百六寸不開爲分子乃以商生隅增入正方又並隅共得二百一十四寸五分爲分母以分母分子求等得五分爲等數皆以五分約其分母分子之數爲四百二十九分寸之四百一千二通命之得池圓徑及方面皆三丈六尺六寸四百二十九分寸之四百一十二又倍隅斜七尺六十得一丈五尺二寸並徑三丈六尺六寸共得五丈一尺八寸四百二十九分寸之四百一十二爲方斜

按此術以立天元一法明之法立天元一爲池徑卽方邊自之得一平方爲方冪倍之得二平方爲斜冪寄左次倍斜至步加天元一得一百五十二寸多一元爲方斜自之得二萬三千一百零四寸多三百零四元多一平方亦爲斜冪與左相消雨邊各減一平方得二萬三千一百零四寸多三百零四元與一平方等寸數爲實元數爲較或兩邊各半之得一萬一千五百五十二寸多一百五十二元多半平方與一平方等寸數爲實元數半方數共爲較術中所用蓋次數也然不如前數之便至開方法卽有長方積有長濶軗帶縱先求長之法也

尖田求積

問有兩尖田一叚其尖長不等兩大斜三十九步兩小斜二十五步中廣三十步欲知其積幾何

答曰曰積八百四十步

術曰以少廣求之翻法入之置半廣自乘爲半冪與小斜冪相減相乘爲小率以半冪與大斜冪相減相乘爲大率以二率相減余自乘爲實並二率倍之爲從上亷以一爲益隅開翻法三乘方得積【一位開盡者不用翻法】

艸曰置廣三十步以半之得一十五自乘得二百二十五爲半冪以小斜二十五步自乘得六百二十五爲小斜冪與半冪相減餘四百與半冪二百二十五相乘得九萬步爲小率置大斜三十九步自乘得一千五百二十一爲大斜冪與半冪二百二十五相減餘一千二百九十六與半冪二百二十五相乘得二十九萬一千六百爲大率以小率九萬減大率餘二十萬一千六百自乘得四百六億四千二百五十六萬爲實以小率九萬並大率二十九萬一千六百得三十八萬一千六百倍之得七十六萬三千二百爲從上亷【按從上亷平方和數也】以一爲益隅開玲瓏翻法三乘方步法乃以從亷超一位益隅超三位約商得十今再超進乃商置百其從上亷爲七十六億三千二百萬其益隅爲一億約實置商八百爲定商以商生益隅得八億爲益下亷又以商生下亷得六十四億爲益上亷與從上亷七十六億三千二百萬相消從上亷餘十二億三千二百萬又與商相生得九十八億五千六百萬爲從方又與商相生得七百八十八億四千八百萬爲正積與元實四百六億四千二百五十六萬相消正積餘三百八十二億五百四十四萬爲正實又以益隅一億與商相生得八億增入益下亷爲一十六億又以益下亷與商相生得一百二十八億爲益上亷乃以益上亷與從上亷一十二億三千二百萬相消餘一百一十五億六千八百萬爲益上亷又與商相生得九百二十五億四千四百萬爲益方與從方九十八億五千六百萬相消益餘八百二十六億八千八百萬爲益方又以商生益隅一億得八億增入益下亷得二十四億又以商相生得一百九十二億入益上亷得三百七億六千八百萬爲益上亷又以商生益隅一億得八億入益下亷得三十二億畢其益方一退爲八十二億六千八百八十萬益上亷再退得三億七百六十八萬益十亷三退得三百二十萬益隅四退爲一萬畢乃約正實續置置四十步與益隅一萬相生得四萬入益下亷爲三百二十四萬又與商相生得一千二百九十六萬入益上亷內爲三億二千六十四萬又與商相生得一十二億八千二百五十六萬入從方內爲九十五億五千一百三十六萬乃命上續啇四十除實適盡所得八百四十步爲田積今列求率開方圖於後按此術以立天元一法明之法立天元一爲尖積卽大小兩三角積和自之得一平方爲和自乘以半廣冪減大斜冪與余積相乘得二十九萬一千六百步爲大三角積自乘以坐廣冪減小斜冪與餘數相乘得九萬步爲小三角積自乘二自乘數並而倍之內減去和自乘得七十六萬三千二百步少一平方爲較自乘與和自乘再相乘得七十六萬三千二百平方少一三乘方寄左次以大小兩三角積相減餘二十萬零一千六百步爲和較相乘數自之得四百零六億四千二百五十六萬步與左相等則後步數爲實前平方數爲從上亷三乘方數卽益隅與艸中所取之數悉合又按此苦以小率九萬步開平方得三百步卽小三角積以大率二十九萬一千六百步開平方得五百四十步卽大三角積並之得八百四十步卽尖積其法甚易然必如此費算者殆欲用立天元一法不求分積卽得所問之總積也

正負開三乘方圖

術曰商常爲正實常爲負從常爲正益常

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷三上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷三上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷三上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷三上﹥

已上系開三乘方翻法圖後篇效此

三斜求積

問沙田一叚有三斜其小斜一十三里中斜一十四里大斜一十五里裏法三百步欲知爲田幾何

答曰田積三百一十五頃

術曰以少廣求之以小斜冪並大斜冪減中斜冪余半之自乘於上以小斜冪乘大斜冪減上餘四約之爲實一爲從隅開平方得積

艸曰以斜一十三里自乘得一百六十九里爲小斜冪以大斜一十五里自乘得二百二十五里爲大斜冪並小斜冪得三百九十四里於上以中斜一十四里自乘得一百九十六里爲中斜冪減上餘一百九十八里以半之得九十九里自乘得九千八百一里於上以小斜冪一百六十九乘大斜冪二百二十五得三萬八千二十五減上餘二萬八千二百二十四以四約之得七千五十六里爲實以爲一隅開平方以隅超步爲一百乃於實上商置八十以商生隅得八百爲從方乃命上商除實餘六百五十六又以商生隅入方得數退一位爲一百六十隅退二位爲一乃於實上續商四里生隅入從方內得一百六十四乃命續商除實適盡所得八十四里爲田積其形長八十四廣一里以裏法三百步自乘得九萬步乘八十四里得七百五十六萬步以畝法二百四十除之得三萬一千五百畆又以頃法一百畆約之得三百一十五頃

按此術以立天元一法明之法立天元一爲三角積倍之得二元自之得四平方爲中長冪乘底冪以大斜爲底寄之又以小斜冪與大斜冪相加內減中斜冪得一百九十八里半之得九十九里爲小分底與底相乘長冪自之得九千八百零一里爲小分底冪乘底冪之數又以小斜冪大斜冪相乘得三萬八千零二十五里爲小分底冪乘底冪中長冪乘底冪各一內減小分底冪乘底冪之數餘二萬八千二百二十四里爲中長冪乘底冪之數與寄數等兩邊各以四約之得七千零五十六里與一平方等里數爲實方數卽從隅也從二題同此

斜蕩求積

問有蕩一所正北濶一十七里自南尖穿徑中長二十四里東南斜二十里東北斜一十五里西斜二十六里欲知畆積幾何

答曰蕩積一千九百一十一頃六十畆

術曰以少廣求之置中長乘北濶半之爲寄以中長冪減西斜冪余爲實以一爲隅開平方得數減北濶余自乘並中長冪共爲內率以小斜冪並率減中斜

冪余半之自乘於上以

小斜冪乘率減上餘四

約之爲實以一爲隅開

平方得數加寄共爲蕩

積

艸曰以中長二十四里

乘北濶一十七里得四

百八乃半之得二百四里爲寄以中長自乘得五百七十六爲長冪以西斜二十六里自乘得六百七十六爲大斜冪以減長冪餘一百里爲實開平方得一十里以減北濶數一十七里餘七里自乘得四十九里並長冪五百七十六得六百二十五爲內率次置東小斜一十五里自乘得二百二十五爲小斜冪又置東南中斜二十里自乘得四百爲中冪卻以小斜冪並率得八百五十以減中冪四百餘四百五十乃半之得二百二十五自乘得五萬六百二十五里於上又以小斜冪二百二十五乘率六百二十五得一十四萬六百二十五減上餘九萬里以四約得二萬二千五百爲實開平方得一百五十並寄二百四里得三百五十四里爲泛以裏法三百六十自乘得一十二萬九千六百步乘泛得四千五百八十七萬八千四百步以畆法二百四十步約之得一千九百一十一頃六十畆爲蕩積

計地容民

問沙洲一叚形如棹力廣一千九百二十步從三十六百步大斜二千五百步小斜一千八百二十步以安集民每戶給一十五畆欲知地積容民幾何

答曰池積一百四十九頃九十五畆容民九百

九十九戶餘地一十畆

術曰以少廣求之置廣乘長半之爲寄以廣冪並從冪爲中冪【按實大斜冪】以小斜冪並中冪減大斜冪【按實中斜冪】余半之自乘於上以小斜冪棄中冪減上余以四約之爲實以一爲隅開平方得數加寄共爲積以每戶給數除積得容民戶數

艸曰置廣一千九百

二十步乘從三千六

百步得六百九十一

萬二千步乃半之得

三百四十五萬六千

步爲寄以廣自乘得三百六十八萬六千四百步爲廣冪又以從自乘得一千二百九十六萬步爲從冪並廣冪得一千六百六十四萬六千四百步爲中冪次以小斜一千八百二十步自乘得三百三十一萬二千四百步爲小斜冪又以大斜二千五百步自乘得六百二十五萬步爲大斜冪卻以小冪並中冪得一千九百九十五萬八千八百步以大斜冪減之餘一千三百七十萬八千八百步乃半之得六百八十五萬四千四百步自乘得四十六萬九千八百二十七億九千九百三十六萬步於上次以小斜冪乘中冪得五十五萬一千三百九十五億三千五百三十六萬步減上餘八萬一千五百六十七億三千六百萬爲實以四約之得二萬三百九十一億八千四百萬爲實以一爲隅開平方得一十四萬二千八百步並寄三百四十五萬六千步共得三百五十九萬八千八百步以畆法二百四十步除之得一萬四千九百九十五畆次以頃法一百畆約之爲一百四十九頃九十五畆爲地積又爲實以每戶所給一十五畆爲法除實得九百九十九戶不盡一十畆不及一戶所給數以爲餘地一十畆

蕉田求積

問蕉葉田一叚中長五百七十六步中廣三十四步不知其周求積畆合幾何

答曰田積四十五畆一角【按六十步爲一角蓋四分畆之一也】十一步六萬三千七十分步之五千二百一十三

術曰以長並廣再自乘又十乘之爲實半廣半長各自乘所得相減余爲從方一爲從隅開平方半之得積

艸曰以長五百七十六步並廣三十四步得六百一十兩度自乘【按卽自乘再乘】得二億二千六百九十八萬一千步進一位卽是以十乘之得二十二億六千九百八十一萬步定得此數以爲實置長五百七十六以半之得二百八十八自乘得八萬二千九百四十四於上又置廣三十四步以半之得一十七自乘得二百八十九減上餘八萬二千六百五十五爲從方以一爲從隅開平方得二萬一千七百四十二步不盡一萬四百二十六步以商生隅入方又並隅算共得一十二萬六千一百四十爲母與不盡及開方田積數皆半之田積定得一萬八百七十一步六萬三千七十分步之五千二百一十三以畆法二百四十約之得四十五畆一角一十一步六萬三千七十分步之五千二百一十三

按此術以長與廣相加自乘再乘又以十乘之爲長方積以半長自乘半廣自乘相減爲長濶較求得闊折半爲田積非法也此題中廣甚小故得數較古法多七百餘較密法少二千七百餘若設長爲七百零七廣爲二百九十三亦以此法求之長廣相加自之再之又十乘之得一百億爲實半長半廣各自之相減得十萬零三千五百爲長闊較求得闊折半得三萬零四百二十六步餘爲田積依宻法求之實十四萬四千九百餘步所差甚逺其術之不合顯然矣蓋數必三乘而後可以平方求之今再乘之後僅以十進之宜其不可用也

漂田堆積

問三斜田被水沖去一隅而成四不等直田之狀元中斜一十六步如多長水直五步如少濶殘小斜一十三步如殘大斜二十步如元中斜之橫量徑一十二步如殘田之廣又如元中斜之勾亦是水直之股欲求元積殘積水積元大斜元中斜二水斜各幾何

答曰元積一百三十八步一十一分步之八水積一十二步一十一分步一八【按應一十三步一十一分步之七】

殘積一百二十六步

元大斜二十九步一十一分步之一

元小斜一十八步一十一分步之一【按應一十一分步之十】水大斜九步一十一分步之一

水小斜五步一十一分步之一【按應一十一分步之一】

術曰以少廣求之連枝入之又勾股入之置水直減中斜余爲法以中斜乘大殘爲大斜實以法除實得元大殘以殘大斜減之餘爲水大斜以法乘徑又自之爲小斜隅以水直冪並徑冪爲冪又乘徑冪又乘中斜冪爲小斜實與隅可約約之閉連枝平方得元小斜以殘小斜減之餘爲水小斜以水直乘之爲水實倍水小母爲法除之得水積【按此處法疏】以水直並中斜乘徑爲實以二爲法除之得殘積以殘積並水積共爲元積分者通之重有者重通之

艸曰以水直五減中

斜一十六餘一十一

爲法以中斜一十六

乘大殘二十得三百

二十爲大斜實以法

除之得二十九步一

十一分步之一爲元大斜內減殘大斜二十步餘九步一十一分步之一爲水大斜以法一十一乘徑一十二【按乘徑可省】得一百三十二自之得一萬七十四百二十四爲小斜隅以水直五自乘得二十五爲水直冪以徑一十二自之得一百四十四爲徑冪並水直冪得一百六十九爲冪以乘徑冪【按此乘徑冪亦可省蓋以此乘復以此除徒爲多算耳】一百四十四得二萬四千三百三十六於上又以中斜一十六自乘得二百五十六爲中斜冪以乘上得六百二十三萬一十六爲小斜實開平方與隅求等得一百四十四俱約之實得四萬三千二百六十四隅得一百二十一開方不盡以連枝術入之用隅一百二十一乘實四萬三千二百六十四得五百二十三萬四千九百四十四爲定實以一爲定隅開平方得二千二百八十八爲實以約隅一百二十一除之得一十八步不盡一百一十一【按一百一十整】與法一百二十一俱以一十一約之得一十一分步之十爲元小斜減殘小斜一十三步餘五步一十一分步之一【按十訛一故下數誤】爲水小斜通步內子得五十六以水直五步乘之得二百八十爲水實倍水小母一十一得二十二爲法除之得一十二步不盡一十六與法俱以二約之爲一十二步一十一分步之八【按應一十二步一十一分步之七】水積置中斜一十六並水直五得二十一乘徑一十二得二百五十二以半之得一百二十六爲殘積以水並積共得一百三十八步一十一分步之八爲元積【按應一百三十九步一十一分步之七】

數學九章卷三上﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹥

欽定四庫全書

數學九章卷三下

宋秦九韶撰田域

環田三積

問環田大小圓田共三段環田外周三十步虛徑八步大圓田徑一十步小圓田周三十步欲知三田積及環田周通實徑大圓周小圓徑各防何

答曰環田積二十步二百三十六萬二千二百五十六分步之一百二十九萬八千二十五通徑九步一十九分步之九實徑一步一十九分步之九內周二十五步一十七分步之五

大圓田積七十九步五十三分步之三周三十一步二十一分步之十三

小圓田積七十一步二百八十六分步之四十三徑九步一十九分步之九

術曰以方田及少廣率變求之各置圓環徑自乘爲冪進位爲實以一爲隅開平方得周各置環圓周自乘爲冪退位爲實以一爲隅開平方得徑以周冪或徑冪乘各實以一十六約之爲實以一爲隅開平方得圓積置環周冪乘徑實十六約之爲大率置虛徑冪乘內周實十六約之爲小率以二率相減之餘以自乘爲實並二率倍之爲從上亷一爲益隅開三乘方得環積置環周自乘退位爲實一爲隅開平方得通徑以虛徑減通徑余爲實徑其有開不盡者約而命之

艸曰置大圓徑一十步自乘得一百爲徑冪進位得一千爲實以一爲隅開平方得三十一步不盡三十九爲分子乃以隅生方又益隅共得六十三爲分母以分子與母求等得三俱以三約之母子得二十一分步之一十三爲大圓周三十一步二十一分步之一十三次以徑冪一百乘前實一千得一十萬以十六約之得六千二百五十爲實以一爲隅開平方得七十九步不盡九爲分子乃以隅生方又增隅得一百五十九爲分母以分子母求等得三俱以三約母子得五十三分步之三爲大圓積七十九步五十三分步之三次置小圓田周三十步自乘得九百爲周冪退位得九十爲徑實以一爲隅開平方得九步不盡九以隅生方又益隅得一十九步之九爲小圓徑九步一十九分步之九次以周冪九百乘前實九十得八萬一千以十六約之得五千六十二步五分爲實以一爲隅開平方得七十一步有不盡數二十一步五分爲子以隅生方又益隅得一百四十三爲分母以分子母求等得五分俱約之得二百八十六分步之四十三爲積次置環田周三十步自乘得九百爲周冪退位得九十爲實以一爲隅開平方得九步不盡九爲分子以隅生方並隅得一十九爲分母直命之爲環田通徑九步一十九分步之九次以環周冪九百乘環實九十得八萬一千以十六約之得五千六十二步五分爲大率次置環田虛徑八步自乘得六十四爲虛冪進位得六百四十爲實以一爲隅開平方得二十五步不盡一十五爲分子以隅生方又並隅得五十一爲分母與子求等得三俱約之得一十七分步之五爲環田內周二十五步一十七分步之五次以虛冪六十四乘周實六百四十得四萬九百六十以十六約之得二千五百六十爲小率以小率減大率餘二千五百二步五分自乘得六百二十六萬二千五百六步二分五釐爲實以大小二率並之得七千六百二十二步五分倍之得一萬五千二百四十五爲從上亷以一爲益隅開玲瓏三乘方得二十步不盡三十二萬四千五百六步二分五釐爲分子續啇無數乃以益隅一益下亷八十並之得八十一爲減母次以從上亷一萬二千八百四十五並從方五十七萬七千八百得五十九萬六百四十五以母八十一減之餘五十九萬五百六十四爲分母以分子求等得二分五釐俱約之得二百三十六萬二千二百五十六分步之一百二十九萬八千二十五爲環田積二十步二百三十六萬二千二百五十六分步之一百二十九萬八千二十五次置環田通徑九步一十九分步之九以虛徑八步減之餘一步一十九分步之九爲環田實徑合問

按周徑相求以進位退位爲實者蓋以徑一周三有奇徑一自之仍得一周自之略與十等故徑冪升一位爲周冪周冪降一位爲徑冪以省算亦法之巧者其徑求周較宻率約大一百五十七分之一周求徑約小一百五十九分之一然較古率則已宻矣其周冪徑冪相乘十六約之開平方得圓積者蓋周徑相乘四歸得圓積徑自乘爲方積故四歸亦展爲自乘十六之數約之得四分徑之冪乘周冪之數故開方得圓積至求環積與前求尖田積同但彼立天元一爲兩積之和此立天元一爲兩積之較耳其式如左

法立天元一爲環田積卽內外兩圓積之較自之得一平方爲較自乘以大小率【卽二圓積各自乘】並而倍之得一萬五千二百四十五步內減較自乘得一萬五千二百四十五步少一平方爲和自乘與較自乘再相乘得一萬五千二百四十五平方少一三乘方寄之次以大小率相減餘二千五百零二步五分爲和較相乘再自之得六百二十六萬二千五百零六步二分五釐與寄數等卽爲實寄數內平方數卽從上亷三乘方數卽益隅

此圗照問列位以後照艸運算

乃先置次大徑以上副自乘得中以中進位爲次實以一爲下隅

凡九變至此得大圓徑次求大圓積

上副自乘得中以次約之得下爲實

凡十一變至此得大圓積次求小圓徑

一十一變得小圓積次求環田通徑當求環田通徑蓋環田之外周三十步與小圓田外周同則不遇與前七變諸圗一理玆不復繁乃求實徑

凡九變得環田內周次求環積

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷三下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷三下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷三下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷三下﹥

開三乘方凡二十變至此得環田積數

求實徑但以虛徑減通徑餘一步一十九分步之九爲環田實徑

均分梯田

問戶業田一段若梯之狀南廣小三十四步北廣大五十二步正長一百五十步合系兄弟三人均分其田邊道各欲出入其地形難分經官乞分南甲乙北內欲知其田共積各人合得田數及各段正長大小廣防何

答曰田共積二十六畆二百一十步

甲得八畆三角五十步小廣三十四步系元南廣大廣四十步五萬八千七百九分步之五萬二千二百八十四大約百分步之八十九正長五十七步二千四十五分步之百五十三大約一百分步之四十一分乙得八畆三角五十步小廣同甲大廣大廣四十六步八萬四千八百二十六億

八千九百五十七萬二千六百五十一分步之六萬五千八百七十四億五千四百八十二萬五千二百八十三計大率約百分步之七十七分半彊正長四十九步四億一千二百四十萬六千二百九分步之二千二十七萬六千三百一十九大約百分步之四分九釐

丙得八畆三角五十步小廣同乙大廣大廣五十二步系元北廣正長四十三步八千四百三十三億七千九十萬一千九百五分步之四千四百八十八億八千六百二萬九千四十六大約百分步之五十三分彊

術曰以少廣及從法求之並兩廣乘長得數以分田人數約之爲通率半之爲各積以長乘各積爲共實以長乘南廣爲甲從方二廣差半之爲共隅開連枝平方得甲截長以甲長除通率得數減小廣余爲甲廣卽爲乙小廣以元長乘乙小廣爲乙從方置共隅共實開連枝平方得乙截長以乙長除通率得數減乙小廣余爲乙大廣卽爲丙小廣倂甲乙長減元長余爲丙長以元大廣爲丙大廣各有分者通之

艸曰置小廣三十四並大廣五十二得八十六乘長一百五十得一萬二千九百爲實以兄弟三人約之得四千三百爲通率半之得二十一百五十爲各積以法二百四十步約之得八畆不盡二百三十步以角法六十步約之得三角五十步是三人各得八畆三角五十步以元長一百五十步乘各積二千一百五十得三十二萬二千五百爲共實以長一百五乘小廣三十四得五千一百爲甲從方以小廣大廣餘一十八乃半之得九爲共隅開連枝平方【開方革更不繁具】得五十七步不盡三約爲二千四十五分步之八百五十三爲甲截長乃以分母二千四十五通全步內子共得一十一萬七千四百一十八爲法又以分母乘通率四千三百得八百七十九萬三千五百爲實以法除之得七十四步不盡一十萬四千五百六十八與法求等得二俱約之爲五萬八千七百九分步之五萬二千二百八十四乃以小廣三十四步於所得全步七十四步內減之餘四十步五萬八千七百九分步之五萬二千二百八十四爲甲大廣卽爲乙小廣今次求乙長乃以分母五萬八千七百九通乙小廣四十步得二百三十四萬八千三百六十內子五萬二千二百八十四得二百四十萬六百四十四又元長一百五十乘之得三億六千九萬六千六百爲乙從方又以分母五萬八千七百九通共實三十二萬二千五百得一百八十九億三千三百六十五萬二千五百爲乙實又以分母通共隅九得五十二萬八千三百八十一爲乙從隅開連枝平方【更不立艸】得四十九步不盡二千二十七萬六千三百十九隅並方共得四億一千二百四十萬六千三百九爲母與不盡求等單一不可約乃定爲四十九步四億一千二百四十萬六千三百九分步之二千二十七萬六千三百一十九爲乙截長以乙長母通全步內子得二百二億二千八百一十八萬五千四百六十爲法以乙長七千七百三十三億四千七百一十二萬八千七百爲實以法除之得八十七步不盡一百三十四億九千四百九十九萬三千六百八十與法求等得一百四十俱約之爲八十七步一億四千四百四十八萬七千三十九分步之九千六百三十九萬二千八百一十二爲得數乃以乙小廣母五萬八千七百九乘得數子九千六百三十九萬二千八百一十二得五萬六千五百九十一億二千五百五十九萬九千七百八爲泛卻以得數母一億四千四百四十八萬七千三十九分乘乙小廣子五萬二千二百八十四得七萬五千五百四十三億六千三十四萬七千七十六爲寄數於上乃以小廣母五萬八千七百九乘得數母一億四千四百四十八萬七千三十九得八萬四千八百二十六億八千九百五十七萬二千六百五十一以寄減泛今不及減乃破全步一爲分並泛得八十六步十四萬一千四百一十八億一千五百一十七萬二千三百五十九減去小廣四十步及分餘四十六步八萬四千八百二十六億八千九百五十七萬二千六百五十一分步之六萬五千八百七十四億五千四百八十二萬五千二百八十三爲乙大廣亦丙小廣求丙長置甲長五十七步二千四十五分步之八百五十六乙長四十九步四億一千二百四十萬六千三百九分步之二千二十七萬六千三百一十九以甲乙分母互乘子甲乙分母相乘得甲正長五十七步八千四百三十三億七千九十萬一千九百五分步之三千五百三十億一千九百八十萬五百四億乙正長四十九步八千四百三十三億七千九十萬一千九百五分步之四百一十四億六千五百七萬二千三百五十五並甲乙長及分共長一百六步三千九百四十四億八千四百八十七萬二千八百五十九分用減元長一百五十步先破一步通分母作八千四百三十三億七千九十萬一千九百五減去甲乙長長餘四十三步八千四百三十三億七千九十萬一千九百五分步之四千四百八十八億八千六百二萬九千四十六爲丙正長

按此術以立天元一法明之法立天元一爲甲正長南北廣差折半得九以乘天元得九元以共正長除之得一百五十分天元之九爲甲之半廣差與小廣相加得三十四步多一百五十分元之九再以天元乘之得三十四元多一百五十分平方之九卽與每人分田二千一百五十步等兩數各以分母一百五十乘之得三十二萬二千五百步與九平方多五千一百元等步數爲實元數爲從方平方數爲隅得甲正長求乙丙長廣同此但多一帶分故其數較繁

數學九章卷三下

欽定四庫全書

數學九章卷四上

宋秦九韶撰測望

按測望之法見於晉劉徽海島算經原名重差其書一卷九題法簡數宻此卷本其法而擴充之於古人之意實多所發明然其中譌舛之處較他捲尢甚今悉爲正之至術有未合者更設法以附其後焉

望山髙逺

問名山去城不知髙逺城外平地有木一株髙二丈三尺假爲前表乃立後表與木齊髙相去一百六十四步先退前表三丈九寸次退後表三丈一尺三寸斜望山峯各與其表之端參合人目髙五尺裏法三百六十步步法五尺欲知山髙及逺各防何

答曰髙二十里半零三步五分步之三逺二十七里三百二十八步五百七十五分步之六十七

按術數誤後入目距山系三十五里二百三十九步一尺三寸其故詳後

術曰以勾股求之重差入之置二退表相減余爲髙法通表間並法於上以目髙減表髙余乘上爲寔寔如法而一得山髙以法乘表髙爲逺法【按此條法誤應以法乘表髙與人目去地之較】以退後表乘髙寔爲逺寔寔如法而一得山逺

望山髙逺圖【按舊圖畫山木在術前今山攺移於此】

艸曰置後退表三丈一尺三

寸減前退表三丈九寸餘

四寸爲髙法置表去木一百

六十四步以步法五十寸

通得八千二百寸爲表間

並法四寸得八千二百四

寸於上以目髙五尺

減表髙二丈三尺餘通之爲一百八十寸乘上得一百四十七萬六千七百二十寸爲髙實實如髙法四寸而一得三十六萬九千一百八十寸爲積寸次以步法五十寸約之得七千三百八十三寸五分步之三次以裏法三百六十步約之得二十里一百八十三步五分步之三爲山髙【按此所得系人目上之山髙若加人目髙則多一步】次以法四寸乘表髙二丈三尺得九百二十爲逺法【按誤同前】以退後表三丈一尺三寸乘髙實一百四十七萬六千七百二十寸得四億六千二百二十一萬三千三百六十寸爲逺實實如逺法九百二十寸而一得五十萬二千四百五寸二十三分寸之一十九爲積寸乃以步法五十寸乘逺法九百二十得四萬六千寸爲法亦除逺實得一萬四十八步不盡五千三百六十與法求等得八十俱以約之得五百七十五分步之六十七又以裏法三百六十步約得二十七里三百二十八步五百七十五分步之六十七爲山去後表入立望處等圖如後

按術中求山髙法合其求逺以表髙乘髙法爲逺法則誤蓋本法應卽以髙法爲逺法以退後表乘表問並法爲寔卽得後人目距山之逺今以退後表乘髙寔爲寔而髙寔乃目髙減表髙乘表減並法之數則逺法亦當以目髙減表髙乘髙法今卽以表髙乘之則法數大故得數小也

乃以頭位八千二百四寸乘中一百八十寸得一百四十七萬六千七百二十寸爲髙寔﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷四上﹥

乃以步法五十寸乘中位逺法九百二十寸得下位四萬六千寸爲後圖中位步寸法

乃以中除上得下位里數及零步其不盡寸與法求得八十俱約之爲步分母子之數

臨臺測水

問臨水城臺立髙三丈其上架樓其下址側腳濶二尺謢岸排沙下橋去址一丈二尺外椿露土髙五尺與址下平遇水漲時浸至址今水退不知多少人從樓上欄桿腰中駕一竿出外斜望水際得四尺一寸五分乃與竿端參合人目髙五尺欲知水退立深涸岸斜長自臺址至水際各幾何

按算題固不厭其難然必簡而不漏繁而不贅始爲合作如此題本意謂竿端與臺址上下懸直則側腳闊二尺句已贅又不明言人目距臺邊逺近皆故爲黯黮也

術曰以勾股變法兼少廣求之求涸岸斜長置出竿乘臺髙爲叚以去基乘叚爲闊泛以岸髙乘叚爲淺泛以目髙乘去基爲約泛三泛可約者約之爲定率不可約徑爲率以闊率自乘爲闊冪以淺率自乘爲淺冪並闊淺二冪共爲竣冪復乘闊冪於上以臺髙冪乘上爲竣實次以闊率乘淺率爲寄以臺髙數乘闊率又乘約率得數內減寄余自乘爲竣隅驗峻實峻隅兩者可約求等約之爲峻定實峻定隅開同休連枝平方得峻岸斜長【同休格先以隅開平方得數名同隅以同隅乘定實開之得數爲寔以同隅爲法除之得竣斜按此條誤艸中乃卽以定實開平方得數以同隅除之爲竣斜也】求水退深基岸髙冪乘竣定實爲深實以去岸冪並岸爲冪乘竣定爲深隅【其深實深�可約約之仍以同休格入之】開連枝平方得水退深

臨防測水圖【按舊圖畫樓防不畫正髙在術前今攺正移於此】

艸曰以出竿四

十一寸五分乘

防髙三十尺得

一百二十四尺

五寸爲段以去

址一十二尺乘叚得一千四百九十四以爲闊泛以防岸髙五尺乘段一百二十四尺五寸得六百二十二尺五寸爲淺泛以目髙五尺乘去址一十二尺得六十尺爲約泛以闊泛淺約泛三者求等等得一尺五寸皆以約其闊泛得九百九十六尺爲闊率其淺泛得四百一十五尺爲淺率其約泛得四十尺爲約率以闊率九百九十六自乘得九十九萬二千一十六尺爲闊冪以淺率四百一十五自乘得一十七萬二千二百二十五尺爲淺冪倂闊淺二冪得一百一十六萬四千二百四十一爲竣冪以闊冪九十九萬二千一十六尺乘竣冪得一萬一千五百四十九億四千五百六十九萬九千八百五十六尺於上又以臺髙三十尺自乘得九百尺爲臺髙冪乘上得一千三十九萬四千五百一十一億二千九百八十七萬四百尺爲竣實次以闊率九百九十六乘淺率四百一十五得四十一萬三千三百四十爲寄以臺髙三十乘闊率九百九十六得二萬九千八百八十文乘約率四十得一百一十九萬五千二百內減寄餘七十八萬一千八百六十尺自乘得六千一百一十三億五百五萬九千六百尺爲隅以隅與竣實求等得二千四百八十萬四百俱以約之得四千一百九十一萬二千六百七十六尺爲竣定實得二萬四千六百四十九爲竣定隅開同休連枝平方得竣岸至水際斜長驗同休格乃以定隅二萬四千六百四十九萬爲實先以一爲隅開平方得一百五十七爲同休法次以竣定實四千一百九十一萬二千六百七十六尺爲實亦以一爲隅開平方得六千四百七十四尺爲同休實實如同休法一百五十七而一求等得一俱以一各約之其法與余只得此數乃直命之得四丈一尺一百五十七分尺之三十七爲涸岸斜長至水際求退水深置岸髙五尺自乘得二十五爲岸髙冪乘竣定實四千一百九十一萬二千六百七十六尺得一十億四千七百八十一萬六千九百爲深泛以去岸一十二尺自乘得一百四十四尺爲去岸冪並岸髙幕二十五尺得一百六十九尺以乘竣定隅二萬四千六百四十九得四百一十六萬五千六百八十一爲隅泛置二泛求等得一百六十九俱約二泛得六百二十萬一百爲定實得二萬四千六百四十九爲深定隅開連枝平方得水退立深驗同休格乃以深定隅二萬四千六百四十九爲實先以一爲隅開平方得一百五十七爲同休法次以深實實六百二十萬一百爲實亦以一爲隅開平方得二千四百九十爲同休實實如法一百五十七而一得一十五尺不盡一百三十五與法求等得一俱以一各約法與只得此數乃直命之得一丈五尺一百五十七分尺之一百三十五爲水退立深數也

按此條術𨿽甚繁理數皆極精宻非兼通於勾股通分之法者不能立也但累乘累除錯綜變換皆未嘗明言其不能無金鍼不度之疑今繪圖以之並條拆其乘除各數於後

如圖甲乙爲防正髙乙丙爲樁去

防址丙丁爲岸髙乙戊爲臺址至

水際卽爲峻斜己庚爲人目髙甲

庚爲出竿戊癸爲水面正深題有

甲乙防髙乙丙樁去址丙丁去樁

甲庚出竿己入庚

目髙求乙辛竣斜自丁防與丙丁平行相等作丁辛綫自乙防與丙丁並行作丁作乙辛綫自丁防與戊甲平行作丁壬防得壬丁辛勾股形內有乙丁辛勾股形一與乙丙丁辛等有乙丁壬三角形一與甲乙戊形同式法當以己庚小股乘庚辛大勾以甲庚小勾除之得壬辛大股次以乙丁三小角形下斜邊乘甲乙戊形直邊以乙辛減壬辛余壬乙爲乙丁壬形直邊爲法除之得乙戊爲甲乙戊形下斜邊卽所求防址至水際之峻斜其法只用丨除兩次甚屬易簡卽遇數不盡者以通分禦之加一二次乘除可以乃必增至十餘次多者始欲窮數之變就一題以爲諸法之例非徒爲繁難也試依術內逓次乘除之數逐條細論之

出竿【甲庚】乘髙防【甲乙】爲段去址【乙丙】乘段爲闊率【原名闊泛約之爲闊率今卽爲闊率】爲去址乘防髙出竿長冪之數闊率自乘爲闊冪卽如去址冪乘防髙出竿長冪自乘之數又卽如去址冪乘防髙冪又乘出竿冪之數

岸髙【丙丁】乘段爲淺率【原名淺泛約之爲淺令卽淺淺率】爲岸髙乘防髙出竿長冪之數淺率自乘爲淺冪卽如岸髙冪乘臺髙出竿長冪自乘之數又卽如岸髙冪乘防髙冪又乘出竿冪之數

並闊冪淺冪爲淺冪爲竣冪【乙丁】冪乘臺髙出竿長冪自乘之數又卽如小斜冪乘防冪又乘出竿竿冪之數

闊冪峻冪相乘爲上數卽如小斜冪乘去址冪又乘臺髙冪自乘又乘出竿冪自乘之數

闊率淺率相乘爲寄數卽土去址岸髙相乘又乘防髙冪又乘出竿冪之數

去址目髙【己庚】相乘爲約率卽如出竿乘壬辛

臺髙乘闊率卽如去址乘臺髙冪又乘出竿之數又以約率乘之卽如去址壬辛相乘冪又乘臺髙冪又乘出竿冪之數內減寄數余去址壬乙相乘冪又乘臺髙冪又乘出竿冪之再自乘之隅數卽如壬乙冪乘去址冪又乘臺髙冪自乘又乘出竿冪自乘之數

上數隅數內去址冪臺髙冪自乘出竿冪自乘各數皆同則用上數乘隅數除卽如用小斜冪乘壬乙冪除矣以防髙冪乘上數若以隅數除之卽得竣斜【乙戊】冪但數不能盡故約之帶隅數開平方所謂連枝同休法也至闊泛淺用於乘數約泛用於除數故可兩邊同約又爲省算也求水立深同此

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷四上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷四上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷四上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷四上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷四上﹥

陟岸測水

問行師遇水須計篾防搭造浮橋今垂繩量陟岸髙山丈人立其上欲測水面六闊以六尺爲矩平持去目下五今矩本抵頤遙望水彼岸與矩端岸相合又望水此岸沙際入矩端三尺四寸人目髙五尺其水面闊幾何

答曰水闊二十三丈四尺六寸【按應二十三丈八尺】

術曰以勾股重差求之置短去目下寸爲法以人目並岸髙減去法【按減法誤】余乘人矩端爲實如法而一得水闊陡岸測水圗【按舊圗畫岸水視緑不能在術前令攺正移於此】

艸曰置矩本去目下五寸

爲法以入目髙五尺並岸

髙三丈得三丈五尺通爲

寸得三百五十寸減去五

寸餘三百四十五寸乘沙

際入矩端三十四寸得

一萬一千七百三十寸爲實實如法五寸而一得二千三百四十六寸展爲二十三丈四尺六寸爲水闊合問

按測望諸綫皆合於人目之一防其髙正當自人目計之今減去人目距矩自矩下計之不得其理矣

表望方城

問敵城不知廣逺傍城南山原林間房之林際有木二株南北相去一百六十步遙與城東方面參相直乃於二水之東相對立兩表表間與木四方平人目以繩維之人自東後表向西行一十步望城東北隅入東前表一十五步又望城東南隅入東前表四十八步彊半步裏法三百六十欲知其方廣及相去幾何答曰城東廣各一十二里三百二十步城去木

九里三百二十步

按答數皆誤今推得城方廣各一十一里二百二十步又三十一分步之二十城東南隅至北木一里九十九步又三十一分步之一十二

術曰以勾股重差求之置城東南隅景入表減表間余乘表間爲城去木寔以西方步減城東北隅景入表余爲法【按此句法誤】得城去木數以城東北隅景入表減表間余乘表間爲廣實實如前法而一得城廣【按此所得乃城東北隅至前木之逺以爲城廣數誤也】

表望方城圖【按舊圖畫城南二木與城東面不城一直綫在術前今攺正移於此】

艸曰以西行一十步減東

北隅入表一十五步餘五

步爲法以城東南隅景入

表四十八步七分半減表

間一百六十步餘一百一

十一步二分半乘表間一

表六十步得一萬七千八百爲城去木寔以法五步除之【按誤同上】得三千五百六十步以裏

法三百六十約之得九里三百二十步爲城去木裏及步數次置城東北隅京十表一十五步減表間一百六十餘一百四十五步乘表間一百六十得二萬三千二百爲減實以以前法五步除之得四千六百四十步以裏法三百六十約之爲一十二里三百二十步卽城方廣裏及步數【按誤亦同上】合問

按此題之要在二本與城東面成一直面方城與表木方形各邊俱平西行減城東南隅入表之較與表間成小勾股形城東南隅入表間表間之表與城東南隅至前木成大勾股形此二形同式可以相比故術艸中第二求以城東北隅入表減表間之餘乘表間爲實以西行步減城東北隅入表之餘爲法除實是也但所得爲城東北隅至前木之逺以爲城廣則誤矣又西行步減城東南隅入表之較與表間成小勾股形城東南隅入表減表間之較與城東南隅至前木成大勾股形此二形亦同式可以相比以城東南隅入表減表間之餘乘表間爲實應以西行步減城東南隅入表之爲法除之卽得城東南隅之前木之逺術艸中以西行步減城東北隅入表之餘爲法故得數大七倍餘旣得城東面南北二隅距前木之逺則相減爲城廣可知矣

遙度城

問有圓城不知周徑四門中開北外三里有喬木出南門便折東門九里乃見木欲知城周徑各幾何【圓用故法】答曰徑九里周二十七里

術曰以勾股夕桀求之一爲從隅五因北外裏爲從七亷置北裏冪八因爲從五亷以北裏冪爲正率以東行冪爲負率二率差四乘北裏爲益從從三亷倍負率成五亷爲益上亷以北裏乘上亷爲實開玲瓏九乘方得數自乘爲徑以三因徑得周

遙度圓城【圖舊圖畫城掛在術前今刪攺移於此】

艸曰以一爲從隅以五因

北三里得一十五里爲從

七亷以北三里自乘得九

裏爲正率以八因率得七

十二爲從五亷以西行見

裏自乘得八十一爲負率以正率九減負率餘七十二位負差以四因之得二百八十八以乘北三里得八百六十四系負差所乘者爲益三亷倍負率八十一得一百六十二乘五防七十二得一萬一千六百六十四爲益上亷以北三里乘上亷得三萬四千九百九十二爲實置實亷隅玲瓏空隅位方亷以約實眾法不可超進乃於實上定商三里其隅與商相生得三爲從下亷又與商相生入從七亷共得二十四爲星亷又與商相生得七十二爲從六亷又與商相生入五內共得二百八十八又與商相生得八百六十四爲從四亷又與商相生得二千五百九十二爲正三亷內消益三亷八百六十四訖餘一千七百二十八爲從三亷又與商相生得五千一百八十四爲從二亷又與商相生得一萬五千五百八十二爲從上亷內消益上亷一萬一千六百六十四訖餘三千八百八十八爲正上亷又與商相生得一萬一千六百六十四爲從方乃命上商三里除實適盡得三里以自乘之得九里爲城圓徑之里數又以故法圓率三因之得二十七爲城周

以上求率圖以後開方圖實與益皆負畫黑商與從皆正畫朱

按商實負字旁書已明今皆用黒

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷四上﹥

按凡勾股難題用立天元一法取之多至三乘方而至元李冶測圓海鏡一百七十問僅一題取至五乘方猶自以爲煩此題非甚難者乃取至九乘方蓋未得其要也細校術艸中亷隅積實之數與立天元一法自然相生者廻殊且凡立天元一法開方後未有不得所求之數者今得數自乘始爲所之數尢於古人立法之意不合爰另立取法並步算之式於後

法立天元一爲圓城徑加三里得三里多一元爲大股自之得九里多六元多一平方爲大股冪九里爲大勾自得之八十一里爲大勾冪相並得九十里多六元多一年方爲大冪又以大股爲小勾和三里爲小勾較和較相乘得九里多三元爲小股冪二分天元之一爲小勾加小勾三里得三里多二分元之一爲小自得之九里多三元多四分平方之一爲小冪乃以小冪與大股冪相乘得八十一里多八十一元多二十九平方又四分平方之一多四立方又二分之一多四分三乘方之一寄之又以大冪與小股冪相乘得八百一十里多三百二十四元二十七平方三立方與寄數等両邊各減八十一里三百二十四元二十七平方三立方得四分三乘方之一多一立方二平方又四分平方之一少二百四十三元與七百二十九里等各以四乘之得一三乘方多六立方九平方九百七十二元與二千九百一十六里等乃以里數爲實以元數爲益方平方數爲從上亷立方數爲從下亷三乘方數爲隅開帯縱三乘方得九里爲城徑開方式附後

法列寔及方亷隅數約商九

裏乃以隅生商得九入下亷

得一十五又以下亷生商得

一百三十五入上亷得一百

四十四又以商生上亷得一

千二百九十六以消益方得二百二十四爲從方以商生從方得二千九百一十六減實恰盡爲開得三乘方爲九里卽城徑也

數學九章卷四上﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹥

欽定四庫全書

數學九章卷四下

宋秦九韶撰

測望

望敵圓營

問敵臨河爲圎營不知大小自河南岸至其地七里於其地立兩表相去二步其西表與敵營南北相直人退西表一十二步遙望東表適與敵營圓邊參合圓法用密率裏法三百六十欲知其營周及徑各防何答曰營周六里一百二步七分步之六徑二里按答數有誤營周系六里七十六步又一萬一千九百二十一分步之四千九百四十八徑系一里三百五十一步又一千七百零三分步之九百九十九

術曰以勾股夕桀求之置表間自乘爲勾冪以退表自乘爲股冪並二冪爲冪置裏通步自之乘勾冪爲率自乘爲泛實【按此數當卽爲實開從方今不開平方乃以此數自乘並以此數升他數開從三乘方不合】半冪乘率爲泛從上亷【按半冪卽半自乘又倍之之數】以勾冪減股冪餘四約之【按此卽半勾半股各自乘相減之數】自乘爲泛益隅【三泛可約之爲定】開連枝三乘玲瓏方得營徑以密率二千二乘七除爲周

艸曰置表間二步自乘得四爲

勾冪以退表一十二步自乘得

一百四十四爲股冪以勾股二

冪並之得一百四十八爲冪

置七里以裏法三百六十步

通之得二千五百二十步自乘

得六百三十五萬四百乘勾冪四得二千五百四十萬一千六百爲率以率自乘得六百四十五萬二千四百一十二億八千一百五十六萬爲之實乃半冪得七十四乘率二千五百四十萬一千六百得一十八億七千九百七十一萬八千四百爲泛從上亷以勾冪四減股冪一百四十四餘一百四十以四約之得三十五以自乘得一千二百二十五爲泛益隅置三泛求等得一千二百二十五【按卽泛益隅】俱以約之得五千二百六十七億二千七百五十七萬七千六百爲定實一百五十三萬四千四百六十四爲從上亷一爲定益隅開玲瓏三乘方乃以亷隅超二度約啇置七百上亷爲一百五十三億四千四百六十四益隅爲一億乃以上啇生隅得七億爲益下亷又以上啇生益亷減從亷餘一百四億四千四百六十四萬爲從上亷又以上啇生從亷得七百三十一億一千二百四十八萬爲從方乃命上啇除實實餘一百四十九億四千二十一萬七千六百又以上啇生益隅入下亷得一十四億爲益下亷又以上啇生益亷得益上亷減從亷餘六億四千四百六十四萬爲上亷又以上啇生上亷入方得七百七十六億二千四百九十六萬爲方又以上啇生益隅入下亷得二十一億又以上啇生下亷爲益上亷減從亷餘一百四十億五千五百三十六萬爲益上亷又以上啇生益隅入下亷得二十八億諸法皆退方一退爲七十七億六千二百四十九萬六千益上亷再退爲一億四千五十五萬三千六百益下亷三退爲二百八十萬益隅四退爲一萬乃於上啇之次續啇置二十步以續啇生隅入下亷爲二百八十二萬又以續啇生下亷入上亷爲一億四千六百一十九萬三千六百又以續啇生上亷減從方餘七十四億七千一十萬八十八百乃命續啇除實適盡所得七百二十步以裏法約之得二萬爲營徑次以密率二十二乘七百二十得一萬五千八百四十爲實以七除之得二千二百六十二步七分步之六以裏法約之得六里一百二步七分步之六爲營周

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷四下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷四下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷四下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷四下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷四下﹥

按此題用平方可矣術中所謂率者卽平方實也乃復加自乘開三乘方徒爲繁冗耳且乘從亷用半自乘之倍數乘隅數應用半股自乘之數今用勾股冪較四分之一卽用半股冪半勾冪之較比半股自乘數小一半勾自乘數故得數較大若轉求表間及退步必與原數不合試以相去七里爲大勾和營徑三里爲倍大勾相減得五里爲大勾較和相乘得較三十五爲大股冪大勾裏自之仍得一爲大勾冪置小勾冪四步以大股冪乘之得百百四十步以大勾冪除之仍得一百四十步爲小股冪比原小股冪少四步其術之疎可知矣設用平方法如左

法立天元一爲營徑相去七里通爲二千五百二十步爲大勾和相減得二千五百二十步少一元爲大勾較和較相乘得六百三十五萬零四百步二千五百二十元爲大少股冪天元一半之以減相去步得二千五百二十步少二分天元之一爲大自之得六百三十五萬零四百步少二千五百二十元多四分平方之一爲大冪退步十二爲小股自之得一百四十四步爲小股冪表間二步爲小勾自之得四步爲小勾冪相並得一百四十八步爲小冪以小冪乘大股冪得九億三千九百八十五萬九千二百步少三十七萬二千九百六十元寄之又以小股冪乘大冪得九億一千四百四十五萬七千六百步少三十六萬二千八百八十元多三十六平方與寄數爲相等兩邊各減九億一千四百四十五萬七千六百步各加三十七萬二千九百六十元得二千五百四十萬零一千六百步【卽術中率數】與三十六平方多一萬零八十元等三數求總等得三十六約步數得七十萬零五千六百爲長方積爲實約元數得二百八十爲從方爲長闊較約平方數得一爲隅用從平方法開得闊七百一十一步又一千七百零三分步之九百九十九爲營徑步以密率用二十二乘之徑七除之得二千二百三十六步又一萬一千九百二十一分步之四千九百四十八爲營周步各以裏率収之得營周六里七十六步又一萬一千九百二十一分步之四千九百四十八營徑一里三百五十一步又一千七百零三分步之九百九十九還原之法置營徑步數通分納子得一二一一八三二分爲倍大勾分數又以分母通相去步得四二九一五六分爲大勾和分數二數相減餘三七九七二八分爲大勾較分數和較分數相乘得一三二一六八三七四五九六八分爲大股冪分倍大勾分折半得六五九一六自之得三六七一三四一九九五六分爲大勾冪分及以小勾冪四步乘大股冪分得五二八六七三四九九八二七二分以大勾冪分除之得一百四十四步爲小股冪與原數合此猶用西表相去步也若細較之當用人目相去步則營周當多十二步餘營徑當多四步不足也

望知敵眾

問敵爲圓營在水北平沙不知人數諜稱彼營布卒占地方八尺我軍在水南山原於下立表髙八丈與原山腰等平自表端引防虛量平至人足三十步人立其處望彼營北陵與表端參合又望營南陵入表端八尺人目髙四尺八寸以圓密率入重差求敵眾合得防何

答曰敵眾八百四十九人

按數不合應二百七十三人其故詳艸後

術曰以勾股乘之置人退表步【按此條誤法應置表髙】乘入表爲實以人目髙爲法除之得徑以密周率乘徑得數爲實以密徑率因人立爲法約之得外周人數余収爲一副置加六以乘副得數爲實如一十二而一餘亦収爲全

望知敵眾圖【按舊圖畵山水在術前今刪攺移於此】

艸曰置人立退表三十步以步

法五尺展爲五十寸通之得一

千五百寸乘入表八尺得一十

二萬寸爲實

以人目髙四十八寸爲法除之

以密率周法二十二乘徑二千五百得五萬五千寸爲實

以密率徑法七因諜稱人立八尺得五百六十爲法

以法五百六十寸約實五萬五千寸得九十八人爲外周人數不盡一百二十寸棄之

副置外周九十八人加六得一百四人乘副爲實

按此術應置表髙加人目髙以入表棄之誤置退步以入表乘之故人數差多二倍蓋思省偶未至耳至求人數先用密率次用束箭法亦未盡合題問今依其數各步於後

求營徑置表髙八丈加人目髙四尺八寸得八丈四尺八寸以入表八尺乘之得六萬七千八百四十寸以人目髙除之得一十四丈一尺三寸又三分寸之一爲營徑蓋以表髙加人目髙爲大股營徑爲大勾較人目髙爲小股入表爲小勾較置大股以小勾較乘之以小股除之卽得大勾較也

求人數用密率置徑爲實倍每人占地八尺得一十六尺爲法除實得八爲外層數加最內一層得九爲共層數餘一十三尺三寸又三分寸之一爲最內徑以最內徑與最外徑【卽營陘】相加以九層乘之折半得六百九十六尺爲九層共徑數以密周率二十二乘之得一萬五千三百一十二尺爲實以密率七乘每人占地八尺得五十六尺爲法除之得二百七十三人餘三尺又七分尺之三棄之此法應先求得內外圓周再求九層共周數今先求九層共徑數然後變爲圓周其理一也

望敵逺近

問敵軍處北山下原不知相去逺近乃於平地立一表髙四尺人退表九百步【步法五尺】遙望山原適與表端參合人目髙四尺八欲之敵軍相去防何

答曰一十二里半

術曰以勾股求之重差入之置人目髙以表髙減之餘爲法置退表乘表髙爲實實如法而一

艸曰置人目髙四尺八寸減表

髙四尺餘八寸爲法置退表九

百步以步五十寸通之得四萬

五千寸乘表髙四十寸得一百

八十萬寸爲實如法八寸而一

得二十二萬五千寸以步法五十寸約之得四千五百步爲相去步以裏法三百六十步約之得一十二里半爲敵去表所合問

表望浮圖

問有浮圖欹側欲換塔心木不知其髙去塔六丈有剎竿亦不知其髙竿本去地九尺二寸始釘鋦【按鋦原本作鉤今攺正】鋦一十四枚枚長五寸每鋦下股相去二尺五寸就竿爲表人退竿三丈遙望浮圖尖適與竿端斜合又望相輪之本影鋦第七枚上股人目入去地四尺八寸心木放三尺爲防【按防原本作�今攺正】卯剪截欲求塔髙輪髙合用塔心木長各防何

答曰塔髙一十一丈七尺相輪髙三丈塔身髙八丈七尺竿髙四丈二尺二寸塔心木九丈內三尺爲剪截穿鑿防卯

按塔髙竿髙二數合相輪髙塔身髙塔心木長三數俱誤相輪髙四丈五尺塔身髙七丈二尺塔心木長七丈五尺說詳艸後

術曰以勾股求之重差入之置鋦數減一餘乘鋦相去數並一枚長數加竿本共爲表竿髙以退表爲法以人目髙減表竿髙余乘竿去塔爲實實如法而一得數加表竿髙共爲塔髙置相輪入本鋦數減一餘乘鋦相去又乘竿去塔爲實實如法而一得相輪髙【按未加入鋦人數法誤】以減塔髙余爲塔身髙以益防卯尺數爲塔心木長

艸曰置鋦一十

四枚減一餘一

十三以乘鋦相

去二尺五寸得

三百二十五寸並

最上鋦一枚長

五寸得三百三十寸又加竿本九尺二寸共得四百二十二尺爲表竿髙以人退表三丈通爲三百寸爲法次以人目髙四尺八寸減表竿髙四百二十二寸餘三百七千四寸以乘竿去塔六丈得二十二萬四千四百寸爲實實如法三百兩一得七百四十八寸加表竿髙四百二十二寸得一千一百七十寸以十約之爲一十一丈七尺爲塔髙置相輪本入第七鋦減一餘六以乘鋦相去二尺五寸得一百五十寸又乘竿去塔六丈得九萬寸爲實實如前法三百寸而一得三百寸約爲三丈得相輪髙【按不加入鋦卽爲相輪髙誤】以相輪髙三丈減塔髙一十一丈七尺餘八丈七尺爲塔身髙【按此數及塔心木數皆因上數而誤】益三尺爲剪截防卯共得九丈爲塔心木長合前問

按此皆大小形同式相求法也人目去塔爲總勾人目上塔尖髙塔身皆爲總股髙相輪髙爲總股較人目去竿爲分小勾人目上竿髙及相輪本入竿髙俱爲分小股相輪本入竿爲小股較竿去塔爲分大勾術以竿去塔分大勾與小勾股乘除得大股數加小股爲總股故塔尖髙數合以大勾與小勾小股較乘除得大股較數卽爲總股較故相輪髙數少一小股較一丈五尺也塔身髙塔心木長皆本此數加減而得故誤數相等

數學九章卷四下

欽定四庫全書

數學九章卷五上

宋秦九韶撰賦役

按賦役一章卽古九章中差分粟米諸法但從來算書設題之數未有如此卷之多者如首題答數至一百七十五條毎條步算之數至十餘位而得數皆無不合亦可謂能廣其用矣且諸問皆足以明貴賤廩稅及交質變易之同異使公私各得其平誠治民之要務也但題語多晦術艸中間有與所問不相應者亦於各條下指出俾觀者無惑焉

復邑修賦

問有海坍縣地今有復漲歳久鄕井再成申諸剏邑稱土排到六鄕以附郭爲甲最逺爲已各有田九等開具下項

甲鄕共計田十四萬一百九十三畝三角一十二步

上等上田五千六百七十八畝一角四十八步中田四千八百九十二畝三十步下田六

千六百二十一畝五十四步

中等上田八千二百二十五畝二十四步中田一萬三十五畝六步下田一萬六千五百三十畝

下等上田二萬一千九十畝二十四步中田三萬二千六十畝三步下田三萬五千六十一畝三角三步

乙鄕田共計八萬四千一十畝二角二步

上等上田六千七百八十九畝一角三十六步中田五千九百八十七畝二角下田八千

一十畝三角三步

中等上田七千五百四十一畝中田九千一百二十一畝二角一十二步下田一萬九千六十步

下等上田一萬八千三十七畝一角六步中田九千四百五十六畝三角五十九步下田無

丙鄕田共計一十二萬九百三十五畝五十八步五分

上等上田四千八百六十八畝二角三步中田五千九百七十九畝三角六步下田六千八百八十八畝二角六步

中等上田七千九百八十四畝一角中田一萬四千五十六畝一十二步下田二萬三千三百三十三畝一十二步

下等上田二萬七千七百五十五畝一十六步五分中田無下田三萬七十畝三步

丁鄕田共計八萬九千六十六畝二步三分上等上田一萬一千一百二畝一步中田九千八百七十六畝一角下田八千七百六十五畝一角三十步

中等上田七千五百三十九畝三十四步三分中田無下田一萬二千九百八十七畝四

十二步

下等上田無中田五千四百三十二畝一角六步下田三萬三千三百六十三畝三角九步

戊鄕田共計二十萬四千四百七十四畝一角二十四步四分

上等上田二萬四千六百三十二畝三十九步中田一萬三千五百二十一畝二十七步

下田九千九百八十八畝三角三步

中等上田八千八百七十七畝五十六步四分中田一萬一千三百三十三畝三角下田

二萬七千六十七畝

下等上田一萬九千八百七十六畝三角六步中等田七萬九千一百三十五畝三角四十

三步下田一萬四十一畝二角三十步

已鄕田共計一十五萬八千四百六十畝三角一十八步二分

上等上田無中田七千七百八十八畝三角五十一步下田無

中等上田九千九百九十九畝二角三步中田一萬八百三十六畝五十六步下田無下等上田三萬二千八十九畝一角四十五步六分中田四萬三千六百七十八畝二角五十七步下田五萬四千六十七畝三角四十五步六分

照得昨來本縣原科苗米一十萬三千五百六十七石八斗四升四合三勺和買一萬三千四百九十八匹一丈七尺三寸七分六釐夏稅九千八百七十六匹三丈二尺六寸五分八釐其六鄕田系三色甲爲上乙丙爲次丁戊己又爲次先令官物爲三差使上比中中比下皆十分外差一次令各鄕九等皆於十分內差一拋科用合租額其乙鄕田最肥次丁次甲次丙次己次戊欲知三色九等毎畝等則及共科數各鄕幾何

按題內言田有三色甲爲上云云又言乙鄕田最肥云云語若相左蓋前言三色者六鄕共科之等後言田肥者每畝所出之異也若易田系三色爲科有三差則語意明矣

答曰甲鄕上等上田苗三斗二升三合二勺和

一尺六寸九分稅一尺二寸三分中田苗二斗九升九勺和一尺五寸二分稅一尺一寸一分

下田苗二斗五升八合六勺和一尺三寸五分稅九寸九分

中等上田苗二斗二升六合二勺和一尺一寸八分稅八寸六分

中田苗一斗九升三合九勺和一尺一分稅七寸四分

下田苗一斗六升一合六勺和八寸四分稅六寸二分

下等上田苗一斗二升九合三勺和六寸七分稅四寸九分

中田苗九升六合九勺和五寸一分稅三寸七分

下田苗六升四合六勺和三寸四分稅二寸五分

乙鄕上等田苗三斗六升三合三勺和一尺八寸九分稅一尺三寸九分

中田苗三斗二升六合九勺和一尺七寸稅一尺二寸五分

下田苗二斗九升六勺和一尺五寸二分稅一尺一寸一分

中等上田苗二斗五升四合三勺和一尺三寸三分稅九寸七分

中田苗二斗一升八合和一尺一寸四分稅八寸三分

下田苗一斗八升一合六勺和九寸五分稅六寸九分

下等上田苗一斗四升五合三勺和七寸六分稅五寸五分

中田苗一鬥九合和五寸七分稅四寸二分

下田苗七升二合七勺和三寸八分稅二寸八分

丙鄕上等上田苗三鬥三合五勺和一尺五寸八分稅一尺一寸六分

中田苗二斗七升三合一勺和一尺四寸二分稅一尺四分

下田苗二斗四升二合八勺和一尺二寸七分稅九寸三分

中等上田苗二斗一升二合四勺和一尺一寸一分稅八寸一分

中田苗一斗八升二合一勺和九寸五分稅六寸九分

下田苗一斗五升一合七勺和七寸九分稅五寸八分

下等上田苗一斗二升一合四勺和六寸三分稅四寸六分

中田苗九升一合和四寸七分稅三寸五分

下田苗六升七勺和三寸二分稅二寸三分

丁鄕上等上田苗三斗四升三合二勺和一尺七寸九分稅一尺三寸一分中田苗三鬥八合九勺和一尺六寸一分稅一尺一寸八分

下田苗二斗七升四合六勺和一尺四寸三分稅一尺五分

中等上田苗二斗四升二勺和一尺二寸五分稅九寸二分

中田苗二鬥五合九勺和一尺七分稅七寸九分

下田苗一斗七升一合六勺和八寸九分稅六寸五分

下等上田苗一斗三升七合三勺和七寸二分稅五寸二分

中田苗一鬥三合和五寸四分稅三寸九分

下田苗六升八合六勺和三寸六分稅二寸六分

戊鄕上等上田苗一斗五升三合八勺和八寸稅五寸九分

中田苗一斗三升八合四勺和七寸二分稅五寸三分

下田苗一斗二升三合一勺和六寸四分稅四寸七分

中等上田苗一鬥七合七勺和五寸六分稅四寸一分

中田苗九升二合三勺和四寸八分稅三寸五分

下田苗七升六合九勺和四寸稅二寸九分

下等上田苗六升一合五勺和三寸二分稅二寸三分

中田苗四升六合一勺和二寸四分稅一寸八分

下田苗三升八勺和一寸六分稅一寸二分

已鄕上等上田苗二斗八升二合二勺和一尺四寸七分稅一尺八分

中田苗二斗五升三合九勺和一尺三寸二分稅九寸七分

下田苗二斗二升五合七勺和一尺一寸八分稅八寸六分

中等上田苗一斗九升七合五勺和一尺三分稅七寸五分

中田苗一斗六升九合三勺和八寸八分稅六寸五分

下田苗一斗四升一合一勺和七寸四分稅五寸四分

下等上田苗一斗一升二合九勺和五寸九分稅四寸三分

中田苗八升四合六勺和四寸四分稅三寸二分

下田苗五升六合四勺和二寸九分稅二寸二分

甲鄕苗米一萬九千五百五十石二斗四升八合三勺

和買一萬一百九十二丈二尺六寸五分六釐

夏稅七千四百五十七丈六尺八寸九分八釐

乙鄕苗米一萬七千七百七十二石九斗五升三合

和買九千二百六十五丈六尺九寸六分夏稅六千七百七十九丈七尺一寸八分

丙鄕苗米一萬七千七百七十二石九斗五升三合

和買九千二百六十五丈六尺九寸六分夏稅六千七百七十九丈七尺一寸八分

丁鄕苗米一萬六千一百五十七石二斗三升

和買八千四百二十三丈三尺六寸夏稅六千一百六十三丈三尺八寸

戊鄕苗米一萬六千一百五十七石二斗三升

和買八千四百二十三丈三尺六寸夏稅六千一百六十三丈三尺八寸

己鄕苗米一萬六千一百五十七石二斗三升

和買八千四百二十三丈三尺六寸夏稅六千一百六十三丈三尺八寸

術以衰分求之先列本縣色位自下錐行列之又以鄕數對列而乘之副並爲法以除官物數得一分之率以率數乘未並者各得諸鄕之數次列各鄕等位自上等置十分每以內分錐行九折之至九等止又各以畝步乘之副並爲鄕法以除諸各鄕所得官物數所得爲一分之率以乘未並者各得毎畝稅色艸曰列本縣色位三自下色例十分中十一分上比中身外加一上得一百二十一中得一百一十下得一百爲上中下三率列之右行乃列甲一對上率乙丙共二對中率丁戊己共三對下率列左行

乃以左行列數各相對乘右行率數其上得一百二十一其十得二百二十其下得三百乃副置而並之得六百四十一爲法置元科苗米一萬三千五百六十七石八斗四升四合三勺爲寔以法除之得一百六十一石五斗七升二合三勺爲一分之率以未並下率一百乘率得一萬六千一百五十七石二斗三升爲丁戊己三鄕各科數以於身下加一得一萬七千七百七十二石九斗五升三合爲乙丙二鄕各科數又於身下加一得一萬九千五百五十石二斗四升八合三勺爲甲合科數求和買亦用六百四十一爲法置元科和買一萬三千四百九十八匹以匹法四丈通之得五萬三千九百九十二丈內零一丈七尺三寸七分六釐得五萬三千九百九十三丈七尺三寸七分六釐爲寔以法除之得八十四丈二尺三寸三分六釐爲一分之率亦以未並下率一百乘之得八千四百二十三丈三尺六寸爲丁戊己三鄕各科數次於身下加一得九千二百六十五丈六尺九寸六分爲乙丙二鄕各科數又於身下加一得一萬一百九十二丈二尺六寸五分六釐爲甲鄕合科數求夏稅亦置六百四十一爲法置元科九千八百七十六匹以匹法四丈通之得三萬九千五百四丈內零三丈二尺六寸五分八釐得三萬九千五百七丈二尺六寸五分八釐爲寔以法除之得六十一丈六尺三寸三分八釐爲一分率亦以未並下率一百乘之得六千一百六十三丈三尺八寸爲丁戊己三鄕各科數次於身下加一得六千七百七十九丈七尺一寸八分爲乙丙二鄕各科數又於身下加一得七千四百五十七丈六尺八寸九分八釐爲甲鄕數次列九等上以十次九八七六五四三二各對乘六鄕九等田畝其田畝下角步以畝法除之得分釐毫絲忽於畝上對乘之各得率

按題內云各鄕九等皆於十分內差一則是逓次九折也術內亦云列各鄕等位自上等置十分每以內分錐行九折之至九等止則其法當爲逓次九折益明矣乃艸中則云上以十次九八七六五四三二則是逓次減一而非逓次九折矣以此得答數旣與題問未合而術與艸亦不相應也

甲上等上田率五萬六千七百八十四分五釐中田率四萬四千二十九分一釐二毫五絲下田率五萬二千九百六十九分八釐中等上田率五萬七千五百七十五分七釐中田率六萬二百一十分一釐五毫下田率八萬二千六百五十分下等上田率八萬四千三百六十分四釐中田率九萬六千一百八十分三毫七絲五忽下田率七萬一百二十三分五釐二毫五絲

乙上等上田率六萬七千八百九十四分中田率五萬三千八百八十七分五釐下田率六萬四千八十六分一釐中等上田率五萬二千七百八十七分中田率五萬四千七百二十九分三釐下田率九萬五千三百三十分一釐二毫五絲下等上田率七萬二千一百四十九分一釐中田率二萬八千三百七十分九釐八毫八絲下田無丙上等上田率四萬八千六百八十五分一釐二毫五絲中田率五萬三千八百一十七分九釐七毫五絲下田率五萬五千一百八分二釐中等上田率五萬五千八百八十九分七釐五毫中田率八萬四千三百三十六分三釐下田率一十一萬六千六百六十五分二釐五毫下等上田率一十一萬一千二十分二釐七毫五絲中田無下田率六萬一百四十分二毫五絲

丁上等上田率一十一萬一千二十分五毫【按五毫數誤應四釐一毫又三分毫之二】中田率八萬八千八百八十六分二釐五毫下田率七萬一百二十三分中等上田率五萬二千七百七十四分【按尙有四忽余】中田無下田率六萬四千九百三十五分八釐七毫五絲下等上田無中田率一萬六千二百九十六分八釐二毫五絲下田率六萬六千七百二十七分五釐七毫五絲

戊上等上田率二十四萬六千三百二十一分六釐二毫五絲中田率一十二萬一千六百九十分一毫二絲五忽下田率七萬九千九百一十分一釐中等上田率六萬二千一百四十分六釐四毫五絲中田率六萬八千二分五釐下田率一十三萬五千三百三十五分下等上田率七萬九千五百七分一釐中田率二十三萬七千四百七分七釐八毫七絲五忽下田率二萬八十三分二釐五毫

已上等上田無中田率七萬一百分六釐六毫二絲五忽下田無中等上田率六萬九千九百九十六分五釐八毫七絲五忽中田率六萬五千一十七分四釐一毫【按四釐整】下田無下等上田率一十二萬八千三百五十七分七釐六毫中田率一十三萬一千三十六分二釐一毫二絲五忽下田率一十萬八千一百三十五分八釐八毫

並六鄕之九率爲九鄕之法甲法六十萬四千八百八十三分二釐三毫七絲五忽乙法四十八萬九千二百三十四分一釐一毫三絲丙法五十八萬五千六百六十二分九釐丁法四十七萬七百六十三分五釐七毫五絲【按丁法差三釐餘一等尾數差故也】戊法一百五萬三百九十八分二毫己法五十七萬二千六百四十四分五釐一毫二絲五忽【按多一毫五等分多一毫故也】以六鄕法各除諸鄕官物得一分之率【米至圭帛至忽止半巳上巳下棄】

甲鄕苗米三升二合三勺二抄一撮和買一寸六分八釐五毫四忽【按數多四忽】夏稅一寸二分三釐二毫八絲【按系九絲】

乙鄕苗米三升六合三勺二抄八撮和買一寸八分九釐三毫九絲二忽夏稅一寸三分八釐五毫八絲【按應七絲八忽】

丙鄕苗米三升三勺四抄八撮【按應六撮七圭余】和買一寸五分八釐二毫一絲夏稅一寸一分五釐七毫五絲【按應六絲】

丁鄕苗米三升四合三勺二抄一撮四圭【按多四圭分數少三釐余故也】和買一寸七分八釐九毫三絲夏稅一寸三分九毫二絲三忽

戊鄕苗米一升五合三勺八抄二撮和買八分一毫九絲二忽夏稅五分八釐六毫七絲七忽己鄕苗米二升八合二勺一抄五撮一圭和買一寸四分七釐九絲六忽夏稅一寸七釐六毫三絲

各用鄕錐行數九八七六五四三二一各乘一分之率爲各鄕毎畝等則泛數或自上等上田之則以一分之率累減之亦得

甲鄕上等上田苗米三斗二升三合二勺一抄和買一尺六寸八分五釐四絲【按多四絲因一分之率多四忽故也下同此】夏稅一尺二寸三分二釐八毫【按少一毫同上】中田苗米二斗九升八勺八抄九撮【按少一撮】和買一尺五寸一分六釐五毫三絲六忽【按多三絲六忽】夏稅一尺一寸九釐五毫二絲【按少九絲】下田苗米二斗五升八合五勺六抄八撮和買一尺三寸四分八釐三絲二忽【按多三絲二忽】夏稅九寸八分六釐二毫四絲【按少八絲】中等上田苗米二斗二升六合二勺四抄七撮

和買一尺一寸七分九釐五毫二絲八忽【按多二絲八忽】夏稅八寸六分二釐九毫六絲【按少七絲】中田苗米一斗九升三合九勺二抄六撮和買一尺一寸一釐二絲四忽【按多二絲四忽】夏稅七寸三分九釐六毫八絲【按少六絲】下田苗米一斗六升一合六勺五撮和買八寸四分一釐五毫二絲【按多二絲】夏稅六寸一分六釐四毫【按多五絲】下等上田苗米一斗二升九合二勺八抄四撮和買六寸七分四釐一絲六忽【按多一絲六忽】夏稅四寸九分三釐一毫二絲【按少四絲】中田苗米九升六合九勺六抄三撮和買五寸五釐五毫一絲二忽【按多一絲二忽】夏稅三寸六分九釐八毫四絲【按少三絲】下田苗米六升四合六勺四抄二撮和買三寸三分七釐八忽【按多八忽】夏稅二寸四分六釐五毫六絲【按少二絲】

乙鄕上等上田苗米三斗六升三合二勺八抄和買一尺八寸九分三釐九毫二絲夏稅一尺三寸八分五釐八毫【按多二絲】中田苗米三斗二升六合九勺五抄二撮和買一尺七寸四釐五毫二絲八忽夏稅一尺二寸四分七釐二毫二絲【按多一絲七忽】下田苗米二九升六勺二抄四撮和買一尺五寸一分五釐一毫三絲六忽夏稅一尺一寸八釐六毫四絲【按多一絲四忽】中等上田苗米二斗五升四合二勺九抄六撮和買一尺三寸二分五釐七毫四絲四忽夏稅九寸七分六絲【按多一絲三忽】中田苗米二斗一升七合九勺六抄八撮和買一尺一寸三分六釐三毫五絲二忽夏稅八寸三分一釐四毫八絲【按多一絲一忽】下田苗米一斗八升一合六勺四抄和買九寸四分六釐九毫六絲夏稅六寸九分二釐九毫【按多一絲】下等上田苗米一斗四升五合三【勺】一抄二撮和買七寸五分七釐五毫六絲八忽夏稅五寸五分四釐三毫二絲【按多七忽】中田苗米一鬥八合九勺八抄四撮和買五寸六分八釐一毫七絲六忽夏稅四寸一分五釐七毫四絲【按多五忽】下田苗米七升二合六勺五抄六撮和買三寸七分八釐七毫八絲四忽夏稅二寸七分七釐一毫六絲【按多四忽】

丙鄕上等上田苗米三鬥三合四勺八抄【按多一抄三撮】和買一尺五寸八分二釐一毫夏稅一尺一寸五分七釐五毫【按少一毫六絲】中田苗米二斗七升三合一勺三抄二撮【按多一抄一撮】和買一尺四寸二分三釐八毫九絲夏稅一尺四分一釐七毫五絲【按少一毫】下田苗米二斗四升二合七勺八抄四撮【按多一抄】和買一尺二寸六分五釐六毫八絲夏稅九寸二分六釐【按少九絲】中等上田苗米二斗一升二合四勺三抄四撮【按多七撮】和買一尺一寸七釐四毫七絲夏稅八寸一分二毫五絲【按多八絲】中田苗米一斗八升二合八抄八撮【按多八撮】和買九寸四分九釐二毫六絲夏稅六寸九分四釐五毫【按少七絲】下田苗米一斗五升一合七勺四抄【按多六撮】和買七寸九分一釐五絲夏稅五寸七分八釐七毫五絲【按少六絲】下等上田苗米一斗二升一合三勺九抄二撮【按多六撮】和買六寸三分二釐八毫四絲夏稅四寸六分三釐【按少四絲】中田苗米九鬥一合四抄四撮【按多四撮】和買四寸七分四釐六毫三絲夏稅三寸四分七釐二毫【按多八絲】下田苗米六升六勺九抄六撮【按多三撮】和買三寸一分六釐四毫二絲夏稅二寸三分一釐五毫【按少二絲】丁鄕上等上田苗米三斗四升三合二勺一抄四撮【按多四撮】和買一尺七寸八分九釐三毫夏稅一尺三寸九釐二毫三絲中田苗米三鬥八合八勺九抄二撮六圭【按多三撮余】和買一尺六寸一分三毫七絲夏稅一尺一寸七分八釐三毫七忽下田苗米二斗七升四合五勺七抄一撮二圭【按多三撮余】和買一尺四寸三分一釐四毫四絲夏稅一尺四分七釐三毫八絲四忽中等上田苗米二斗四升二勺四抄九撮八圭【按多二撮八圭】和買一尺二寸五分二釐五毫一絲夏稅九寸一分六釐四毫六絲一忽中田苗米二鬥五合九勺二抄八撮四圭【按多二撮四圭】和買一尺七分三釐五毫八絲夏稅七寸八分五釐五毫三絲八忽下田苗米一斗七升一合六勺七撮【按多二撮】和買八寸九分四釐六毫五絲夏稅六寸五分四釐六毫一絲五忽下等上田苗米一斗三升七合二勺八抄五撮六圭【按多一撮六圭】和買七寸一分五釐七毫二絲夏稅五寸二分三釐六毫九絲二忽中田苗米一鬥二合九勺六抄四撮二圭【按多一撮二圭】和買五寸三分六釐七毫九絲夏稅三寸九分二釐七毫六絲九忽下田苗米六升八合六勺四抄二撮八圭【按多八圭】和買三寸五分七釐八毫六絲夏稅二寸六分一釐八毫四絲六忽戊鄕上等上田苗米一斗五升三合八勺二抄和買八寸一釐九毫二絲夏稅五寸八分六釐七毫七絲中田苗米一斗三升八合四勺三抄八撮和買七寸二分一釐七毫二絲八忽夏稅五寸二分八釐九絲三忽下田苗米一斗二升三合五抄六撮和買六寸四分一釐五毫三絲六忽夏稅四寸六分九釐四毫一絲六忽中等上田苗米一鬥七合六勺七抄四撮和買五寸六分一釐三毫四絲四忽夏稅四寸一分七毫三絲九忽中田苗米九升二合二勺九抄二撮和買四寸八分一釐一毫五絲二忽夏稅三寸五分二釐六絲二忽下田苗米七升六合九勺一抄和買四寸九毫六絲夏稅二寸九分三釐三毫八絲五忽下等上田苗米六升一合五勺二抄八撮和買三寸二分七毫六絲八忽夏稅二寸三分四釐七毫八忽中田苗米四升六合一勺四抄六撮和買二寸四分五毫七絲六忽夏稅一寸七分六釐二絲一忽下田苗米三升七勺六抄四撮和買一寸六分三毫八絲四忽夏稅一寸一分七釐一三毫五絲四忽己鄕上等上田苗米二斗八升二合一勺五抄一撮和買一尺四寸七分九毫六絲夏稅一尺七分六釐三毫中田苗米二斗五升三合九勺三抄五撮九圭和買一尺三寸二分三釐八毫六絲四忽夏稅九寸六分八釐六毫七絲下田苗米二斗二升五合七勺二抄八圭和買一尺一寸七分六釐七毫六絲八忽夏稅八寸六分一釐四絲中等上田苗米一斗九升七合五勺五撮七圭和買一尺二分九釐六毫七絲二忽夏稅七寸五分三釐四毫一絲中田苗米一斗六升九合二勺九抄六圭和買八寸八分二釐五毫七絲六忽夏稅六寸四分五釐七毫八絲下田苗米一斗四升一合七抄五撮五圭和買七寸三分五釐四毫八絲夏稅五寸三分八釐一毫五絲下等上田苗米一斗一升二合八勺六抄四圭和買五寸八分八釐三毫八絲四忽夏稅四寸三分五毫二絲中田苗米八升四合六勺四抄五撮三圭和買四寸四分一釐二毫八絲八忽夏稅三寸二分二釐八毫九絲下田苗米五升六合四勺三抄二圭和買二寸九分四釐一毫九絲二忽夏稅二寸一分五釐二毫六絲

已上田則苗至勺絹至分收歸爲等則定數答在前按右各條下有不合之數者皆在寄零尾數至答數收之勺及分以下俱不用故數無不合也

圍田租畝

問有興復圍田已成共計三千二十一頃五十一畝一十五步分三等其上等毎畆起租六斗中等四斗五升下等四斗中田多上田弱半不及下田太半欲知三色田畝及各租防何

按題言中田多上田弱半不及下田太半蓋以弱半爲三分之一太半爲三分之二也多上田弱半者卽比上田多三分之一也不及下田太半者卽比下田少三分之二也是上田加三分之一爲中田卽下田三分之一也轉言之則中田爲下田三分之一上田爲中田四分之三也

答曰上田四百七十七頃八畝一十五步米二萬八千六百二十四石八斗三升七合五勺中田六百三十六頃一十畝三角米二萬八千六百二十四石八斗三升七合五勺下田一千九百八頃三十二畝一角米七萬六千三百三

十二石九斗

術曰以衰分求之列母子求田率副並爲法以共田爲寔寔如法而一得一分之率以徧乘未並者得三等田各以起租乘之各得米

艸曰置弱半母四爲中率子三爲上率以太半子二減母三餘一以乘中率四隻得四爲中泛又以餘一乘上率三隻得三爲上泛次以太半母三乘中泛四得一十二爲下泛副並三泛得一十九爲法置田三千二十一頃五十一畆以畝法二百四十通之得七千二百五十一萬六千二百四十步內子一十五步得七千二百五十一萬六千二百五十五步爲寔以法一十九除之得三百八十一萬六千六百四十五步爲一分之數以上泛三因之得一千一百四十四萬九千九百三十五步爲上積又以中泛四因之一分數得一千五百二十六萬六千五百八十步爲中積又以下泛一十二乘一分數得四千五百七十九萬九千七百四十步爲下積其三積各以畝法二百四十約之爲畆其上田得四百七十七頃八畝一十五步其中田得六百三十六頃一十畝三角其下積得一千九百八頃三十二畝一角各以起租三積爲三寔其上積一千一百四十四萬九千九百三十五步乘上積六鬥得六百八十六萬九千九百六十一石爲寔以畝法二百四十除之得二萬八千六百二十四石八斗三升七合五勺爲上田租其中積一千五百二十六萬六千五百八十步乘中田租四斗五升得六百八十六萬九千九百六十一石爲寔以畝法二百四十除之得二萬八千六百二十四石八斗三升七合五勺其下積四千五百七十九萬九千七石四十步乘下租四鬥得一千八百三十一萬九千八百九十六石爲寔以畝法二百四十除之得七萬六千三百三十二石九斗爲下田米

按艸內求各衰數意謂以三分爲上田衰數加弱半三分之一得四分爲中田衰數三因中田衰數得一十二分爲下田衰數並之得一十九分爲總衰數其法本屬顯明但語中參入母子副泛等名目其意反晦矣

數學九章卷五上﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹥

欽定四庫全書

數學九章卷五下

宋秦九韶撰賦役

戶稅移割

問某縣據甲稱本戶田地原納苗三十五石七斗和買本色一十一匹二丈二尺九寸四分八釐七毫五絲折帛二十七匹二寸一分三釐七毫五絲防絹折帛八匹三丈九寸七寸三分九釐防絹本色二十匹二丈八尺九寸三分九釐已將田四百七畆出與乙五百十六畆出與丙訖乞移割本戶所出田上稅賦歸並乙丙兩戶送納防到乙原有田三百七十五畆兩原有田四百六十三畆並系本鄕本等毎畆苗三升五合稅一尺一寸五分物力一貫二百本等田防一尺三寸四分物力九百物力及三十二貫數和買一匹內三分本色七分折帛夏稅七分本色三分折帛防五分本色五分折帛並絹防欲知甲田地及甲乙丙分割合納苗米和買夏稅折帛本色畸零各幾何按此題科稅分田地二項田有科米稅絹物力三色地只有稅防物力二色絹與防折色不同物力和買合田地總計之又甲戶有田者地乙丙二戶有田無地此等皆不可不明言者題中殊未分晰

答曰甲原有田一千二十畆地一十一畆二角四十八步

甲今有田九十七畆苗米三石三斗九升五合夏稅折帛三丈三尺四寸六分五釐本色一匹畸零三丈八尺八分五釐物力一百一十六貫四百文地一十一畆二角四十八步稅防折帛七尺八寸三分九釐稅防畸零七尺八寸三分九釐物力一十貫五百三十文田地共物力一百二十六貫九百三十文和買折帛二匹三丈一尺六分三釐七毫五絲本色一疋畸零七尺五寸九分八釐七毫五絲

乙今有田七百八十二畆苗米二十七石三斗七升夏稅折帛六匹二丈九尺七寸九分本色一十五匹畸零二丈九尺五寸一分物力九百三十八貫四百文和買折帛二十匹二丈一尺一寸本色八匹畸零三丈一尺九寸

丙今有田九百七十九畆苗米三十四石二斗六升五合夏稅折帛八匹一丈七尺七寸五分五釐本色一十九匹畸零二丈八尺九分五釐物力一千一百七十四貫八百文和買折帛二十五匹二丈七尺九寸五分本色一十一匹畸零五寸五分

術曰以粟米及衰分求之置甲原納米爲實以毎畆苗爲法除之得甲原有田以乘毎畆稅得田絹次以甲防絹本色折帛並之內減田絹余爲地防以毎防約之得甲原有地次以甲出田並乙丙原有田各得三戶今有田地各以等則乘之各得物力苗稅次以毎畆物力率約各戶共物力得和買副之三分因之退位爲和本七分因之退位爲和折夏稅反其分而因之退之防以半之並入稅各得

艸曰置甲原納米三十五石七斗爲實以毎畆苗三升五合爲法除之得一千二十畆爲甲原有田以乘毎畆稅一尺一寸五分得一百一十七丈三尺爲絹積尺次以甲原納絹防折帛八匹三丈九尺七寸三分九釐並防絹本色二十匹二丈八尺九寸三分九釐得二十九匹二丈八尺六寸七分八釐以匹法四丈通匹數內零丈得一百一十八丈八尺六寸七分八釐內減田絹積丈尺一百一十七丈三尺餘一丈五尺六寸七分八釐爲甲地防以毎畆防一尺三寸四分納之得一十一畆七分其畆下七分倍之得一百四十身下加二得一百六十八步以六十步納之得二角零四十八步得一十一畆二角四十八步爲甲原有地乃以甲所出四百七畆及五百一十六畆並得九百二十三畆減原有一千二十畆餘九十七畆爲甲今有田並原地【按三字誤蓋地一十一畆余不在田一千二十畆之內也】次以甲出田四百七畆並乙原有田三百七十五畆共得七百八十二畆爲乙令有田次以甲所出田五百一十六畆並丙原有田四百六十三畆共得九百七十九畆爲丙今有田各列三戶今有田地數於右行副之先以毎畆苗三升五合徧乘右行甲得三石三斗九升五合乙得二十七石三斗七升兩得三十四石二斗六升五合爲本戶苗米次以毎畆稅一尺一寸五分徧乘左副行甲得一十一丈一尺五寸五分乙得八十九丈九尺三寸丙得一百一十二丈五尺八寸五分各爲丈積各列二位皆以三分因頭位七分因下位並退一位卽是自下三七折之又各以四大約丈積成匹其甲得三丈三尺四寸六分五釐爲夏稅折帛又得一匹三丈分尺八分五釐爲夏稅本色其一得六匹二丈九尺七寸九分爲夏稅折帛又得一十五匹二丈九尺五寸一分爲夏稅本色其丙得八匹一丈七尺七寸五分五釐爲夏稅折帛得一十九匹二丈分尺九分五釐爲夏稅本色次以田力一貫二百徧乘右副行並以地物力乘甲原地及納甲得一百一十六貫四百乙得九百三十八貫四百丙得一千一百七十四貫八百各爲田物力其甲又置一十一畆七分以乘地防一尺三寸四分得一丈五尺六寸七分八釐爲甲地防半之得七尺八寸三分九釐各爲折防本色又以甲地乘物力九百得一十貫五百三十爲甲地乘力並田物力一百一十六貫四百共得一百二十六貫九百三十文爲甲物力列甲乙丙三戶共物力各爲貫皆以物力和買率三十二貫爲法除之甲得三匹九分六釐六毫五絲六忽二防五塵乙得二十九匹三分二釐五毫丙得三十六匹七分一釐二毫五絲各爲和買率亦各列二位各以七三折之其頭位七折者爲和買折帛下位三折者爲和買本色折訖其甲得二匹七分七釐六毫五絲九忽三防七塵五沙爲和買折帛率又得一匹一分八釐九毫九絲六忽八防七塵五沙爲和買本色率乙得二十匹五分二釐七毫五絲爲和買折帛率又得八匹七分九釐七毫五絲爲和買本色率丙得二十五匹六分九釐八毫七絲五忽爲和買折帛率又得一十一匹一釐三毫七絲五忽爲和買本色率各率除端匹外乃以定下分毫皆以四因之收爲丈尺寸分甲得和買折帛二匹三丈一尺六分三釐七毫五絲本色一匹七尺五寸九分八釐七毫五絲乙得和買折帛二十匹二丈一尺一寸本色八匹三丈一尺九寸丙得和買折帛二十五匹二丈七尺九寸五分本色一十一匹五寸五分爲各戶和買數及分本色下畸零數合問

均科綿稅

問縣科綿有五等戶共一萬一千三十三戶共科綿八萬八千三百三十七兩六錢上等一十二戶副等八十七戶中等四百六十四戶次等二千三十五戶下等八千四百三十五戶欲令上三等折半差下二等此中等六四折差科率求之問各戶納及各等幾何按題言下二等比中等六四折差是次等爲中等六分之四下等又爲次等六分之四也乃術艸中皆以十分之四收之是四分折差而非四六折差矣集中題與術不相應者多類此豈成書之後未能重加校正歟

答曰上等一戶一百二十四兩一十二戶計一千四

百八十八兩

副等一戶六十二兩八十七戶計五千三百九十四兩

中等一戶三十一兩四百六十四戶計一萬四千三百八十四兩

次等一戶一十二兩四錢二千三十五戶計二萬五千二百三十四兩

下等一戶四兩九錢六分八千四百三十五戶計四萬一千八百三十七兩六錢

術曰列五等戶數先以四折下等數加次等戶又以四折之加中等戶數卻以半折之加二等戶又以半折之加上等戶數不折便爲法除科綿得上等一戶之綿復半之爲副等又半之爲中等又四折之爲次等又四折之爲下等各一戶綿卻各以戶數乘之各得五等共出綿具圖折之

上

副

中

次

下

艸曰先置下等戶八千四百三十五以四折之得三千三百七十四

乃以得數折入次戶二千三十五內得五千四百九戶訖

又以四折次數五千四百九戶得二千一百六十三戶六分

乃以得次數並入中戶四百六十四內共得二千六百二十七戶六分

次以五分折中數二千六百二十七戶六分得數

次以得數一千三百一十三戶八分並副戶八十七得一千四百戶八分

又以五折副數一千四百戶八分得七百戶四分旣得數

乃以副數七百戶四分並上戶一十二戶得七百一十二戶四分不折便以爲法

爲法

累折至等共得七百一十二戶四分以爲總法乃置科綿八萬八千三百三十七兩六錢爲實法法七百一十二戶四分而一得一百二十四兩爲上等一戶所出綿以五折之得六十二兩爲副等一戶所出綿又五折之得三十一兩爲副等一戶所出綿乃以四折之得一十二兩四錢爲次等一戶所出綿又以四折之得四兩九錢六分爲下等一戶所出綿乃以各等戶數各乘一戶所出卽各得每等共數之綿均定勸分

問欲勸糶賑濟據甲民戶物力畆步排定共計一百六十二戶作九等上等三戶第二等五戶第三等七戶第四等八戶第五等十三戶第六等二十一戶第七等二十六戶第八等三十四戶第九等四十五戶今先觀諭第一等上戶願糶五千石第九等戶願糶二百石欲知各等拋差石數並數認米數各幾何答曰認該米二十三萬七千六百石

上等一戶米五千石三戶計一萬五千石二等一戶米四千四百石五戶計二萬二千石

三等一戶米三千八百石七戶計二萬六千六百石

四等一戶米三千二百石八戶計二萬五千六百石

五等一戶米二千六百石一十三戶計三萬三千八百石

六等一戶米二千石二十一戶計四萬二千石

七等一戶米一千四百石三十六戶計三萬六千四百石

八等一戶米八百石三十四戶計二萬七千二百石

九等一戶米二百石四十五戶計九千石

術曰以衰分求之置上下戶米減余爲實列等數減一餘爲法除之得拋差石數以差累減上等米各得諸等米以各等戶乘之並之爲總數

艸曰置上等戶米五千石減下等戶二百石餘四千八百石爲實以九等減一餘八爲法除實得六百石爲每等拋差用減上等餘四千四百石爲二等米又減六百得三千八百石爲三等米又減六百得三千二百石爲四等米又減六百得二千六百石爲五等米又減六百得二千石爲六等米又減六百得一千四百石爲七等米又減六百得八百石爲八等米又減六百得二百石爲九等米又各乘戶數並之得總認米石數二十三萬七千六百石合問

均定合解【按原本此問無題今增】

問州郡合解諸司窠名錢戶部九十六萬五千四百二十一貫文總所六十四萬三千六百一十四貫文運司一萬六千九十貫三百五十文今諸窠名先催到九千二百五十三貫六百二十文欲照原額分數均定樁收解合各幾何

答曰戶部五千四百九十七貫二百文總所三千六百六十四貫八百文運司九十一貫六百二十文

術曰以衰分求之置諸原率可約約之副並爲法以催到錢乘未並者各爲實實如法而一合問

艸曰列戶部九十六萬五千四百二十一貫總所六十四萬三千六百一十四貫運司一萬六千九十貫三百五十文各爲原率今原率可約求等得一萬六千九十貫三百五十爲等數俱約之戶部得六十總所得四十運司得一各爲率副並得一百一爲法以催到錢九千二百五十三貫六百二十文乘未並數六十四十及一畢得五十五萬五千二百一十七貫二百文爲戶部之實三十七萬一百四十四貫八百文爲總所之實九千二百五十三貫六百二十文爲運司之實三實皆如法一百一而一其戶部得五千四百九十七貫二百文總所得三千六百六十四貫八百文運司得九十一貫六百二十各爲侯解錢按此法今名和數比列卽用合解爲率亦可增一約分取其數簡也

寛減屯租

問屯租欲議寛減仍聴以夏麥折納分數官牛種者與減二分私牛種者與減四分每嵗租谷以三分之一許夏折二麥內四分大六分小折色每大麥三石折小麥二石小麥二石折谷三石五斗屯租舊額官種一石納租五石私種一石納租三石今某州屯田去年計官私種共九千七百八十二石共合收租谷三萬九千五百八十六石欲知官私種各數原額今減合催成年夏麥秋谷幾何

按此題有官私共種數租數有種一石租數求各種數租數古謂之差分今謂之和較比例折色亦差分也今謂之和數比例大小麥與谷相易古謂之異乘同乘今謂之和率比列

答曰請官種五千一百二十石私出種四千六百六十二石原租額共三萬九千五百八十六石官種二萬五千六百石私種一萬三千九百八十六石今減一萬七百一十四石四斗官種五千一百二十石私種五千五百九十四石四斗合催二萬八千八百七十一石六斗

官種租二萬四百八十石一分折麥計谷六千八百二十六石六斗六升零三分升之二四分折大麥二千三百四十石五斗七升七分升之一系折谷二千七百三十石六斗六升三分升之二六分折小麥二千三百四十石五斗七升七分升之一系折谷四千九十六石二分正色谷一萬三千六百五十三石三斗三升之一

私種租八千三百九十一石六斗一分折麥計谷二千七百九十七石二斗四分折大麥九百五十九石四升系折谷一千一百一十八石八斗八升六分折小麥九百五十九石四升系折谷一千六百七十八石三斗二升二分正色谷五千五百九十四石四斗

成年共收夏折谷【按卽官種私種一分折谷共數】九千六百二十三石八斗六升三分升之二大麥三千二百九十九石六斗一升七分升之一小麥三千二百九十九石六斗一升七分升之一秋正谷一萬九千二百四十七石七斗三升三分升之一

術曰以粟米求之互易入之列共租共種各以租種率數依本色對之先以各種率互乘諸租驗租數之少者以乘共種得數覆減共租余爲實以二租數相減余爲官種法實如法而一得官種以減共種余爲私種各以租率對乘官私種各得官私種所納租次以減分對乘各納租乃得各減數以減所納余爲合催租乃分別之先以總折分子乘之各爲實並以總分母除之各得折色正色數次置折色數二位用夏折大小麥乘之各得與毎折諸率如雁翅列常以多一事者相乘爲實以少一事者相乘爲法各得所折大小麥其正色數如故爲並本色得成年夏折二麥秋收正谷

艸曰列共租三萬九千五百八十六石並共種九千七百八十二石次各以官種一石納租五石私種實石納租三石各爲率對租種本色列之先以種率各一石互乘租數隻得共谷次驗租數率三石系少者以乘共種九千七百八十二石得二萬九千三百四十六石爲種覆減共租餘一萬二百四十石爲種實以租率三減租率五餘二石系官租者爲官種法除種實得五千一百二十石爲官種以減共種九千七百八十二餘四千六百六十二石爲私出種以官租率五石私租率三石各對乘官私種得二萬五千六百石爲官租所納租得一萬三千九百八十六石爲私種所納租並之得原額租次列官牛種與減二分私牛種與減四分各對乘所納租數得五千一百二十石爲官種減租數得五千五百九十四石四斗爲私種減租數並之得一萬七百一十四石四斗爲今減數乃以官種減租五千一百二十石減官種租二萬五千六百餘二萬四百八十石爲合催次以私種減租五千五百九十四石四斗減私種租一萬三千九百八十六石餘八千三百九十一石六斗亦是合催租乃以二等合催租分列之先以毎嵗三分之一以子一減分母三得二乃以一及二皆爲子各乘各催租其官種者一分租得二萬四百八十石二分租得四萬九百六十石其私種者一分租得八千三百九十一石六斗二分租得一萬六千七百八十三石二斗並爲實此四實並如母三而一其官種一分折得六千八百二十六石六斗六升零三分升之二及二分正色谷得一萬三千六百五十三石三斗三升三分升之一其私種一分折色得二千七百九十七石二斗二分正色谷得五千五百九十四石四斗次置官私種各一分折色數各二位乃用夏折四分大六分小對乘之通系四位乃並四六得一十分約之是並退一位其官種四分大麥者置折谷六千八百二十六石六斗六升三分升之二通分內子得二萬四百八十列二位頭位以四分折之得八千一百九十二石爲大麥實下位以六分折之得一萬二千二百八十八石爲小麥實次置私種折谷二千七百九十七石二斗列二位頭位以四分折之得一千一百一十八石八斗八升爲大麥率下位以六分折之得一千六百七十八石三斗二升爲小麥率其圖如後次列折色每大麥三石折小麥二石小麥二石折谷三石五斗爲諸率與大小麥實率四數如雁翅列之其六分折小麥勿置大麥折率有母者列母

官種者先以大麥率三乘小麥率二得六又乘谷實八千一百九十二石得四萬九千一百二十五石爲大麥實乃以小麥率二乘谷率三石五鬥得七石又乘母得二十一石爲法除實得二千三百四十石五斗七升七分升之一爲官種折大麥數仍以母三約本實八千一百九十二石得二千七百三十石六斗六升三分升之二爲所折上得大麥谷數次以小麥折二乘谷實一萬二千二百八十八石得二萬四千五百七十六石爲小麥實乃以谷率三石五斗乘母三得十石五斗爲法除實得二千三百四十石五斗七升七分升之一爲官種折小麥谷仍以母三約本實一萬二千二百八十八石得四千九十六石爲所折上得小麥谷數私種者先以大麥三乘小麥率二得六又乘谷數一千一百一十八石八斗八升得六千七百一十三石二斗八升爲實乃以小麥率二乘谷率三石五鬥得七石爲法除之得九百五十九石四升爲私種折大麥數次以小麥率二乘谷率一千六百七十八石三斗二升得三千三百五十六石六斗四升爲實以谷率三石五斗爲法除之得九百五十九石四升爲私種谷折小麥數次以官種四分大麥二千三百四十石五斗七升七分升之一並私種四分大麥九百五十九石四升得三千二百九十九石六斗一升七分升之一爲成年夏折大麥數次以官種六分小麥二千三百四十石五斗七分七分升之一並私種六分小麥九百五十九石四升得三千二百九十九石六斗一升七分升之一爲成年夏折小麥數次以官種二分正色谷一萬三千六百五十三石三斗三升三分升之一並私種正色谷五千五百九十四石四鬥得一萬九千二百四十七石七斗三升三分升之一合問

戶稅均寛

問州郡寛卹近將某縣下三等稅戶秋科余欠錢米已與蠲放共錢一千三百五十五貫七百六文米五千二百七十二石一斗九升某本縣下三等物力計三萬七千六百五十八貫五百文今來官員陳述本縣多有樂輸無欠之戶今防蠲放稅尾似反寛潤頑輸之戶於理未均遂議將樂輸三等戶於明年兩稅與照昨來體例減免契勘得三等無欠戶物力二十二萬八百一十五貫三百二十一文欲知每百文合減免錢米及共減各幾何

答曰毎物力一百文放錢三文六分放米一升四合明年兩稅放免錢七千九百四十九貫三百五十一文五分五釐六毫米三萬九百一十四石一斗四升四合九勺四抄

術曰以粟米衰分求之置原物力爲法除原放錢米得毎百文物力所放錢米率以各率乘今來物力各得錢米爲明年兩稅合放數

艸曰以原物力三萬七千六百五十八貫五百文爲法先除原放錢一千三百五十五貫七百六文定法百文上得一文爲商除得三文六分爲物力百文所放錢率次除原放米五千二百七十二石一斗九升得一升四合爲物力百文所放米率以今三等戶物力二十二萬八千一十五貫三百二十一文徧乘所放錢米二率得錢七千九百四十九貫三百五十一文五分五釐六毫得米三萬九百一十四石一斗四升四合九勺四抄爲明年兩稅合放數

米谷粒分

問開倉受約有甲戶米一千五百三十四石到廊驗得米內夾谷乃於樣內取米一撚數計二百五十四粒內有谷二十八顆凡粒米率每勺三百今欲知米內雜谷多少以折米數科貴及粒各幾何

答曰米一千三百六十四石八斗九升七合六勺一百二十七分勺之四十八谷一百六十九石一鬥二合三勺一百二十七分勺之七十九合折米八十四石五斗五升一合一勺一百二十七分勺之一百三原米折米共計四十三億四千八百三十四萬六千四百五十六粒

術曰以粟米求之衰分入之置樣米粒數爲法以常谷顆數減之餘與谷爲列衰可約約之以共米乘列衰爲各實實如法而一各得米數谷數置谷數以粟率折之爲谷所折米次以勺率徧乘米數折米得粒數

艸曰置一撚樣粒數二百五十四爲法以帶谷二十八顆爲谷衰以減法餘二百二十六爲米衰此二衰與法皆可約求等得二俱以約之法得一百二十七米衰得一百一十三谷衰得一十四以米米一千五百三十四石徧乘二衰得一十七萬三千三百四十二石爲米實得二萬一千四百七十六石爲谷實皆如法一百二十七而一米得一千三百六十四石八斗九升七合六勺一百二十七分勺之四十八谷得一百六十九石一鬥二合三勺一百二十七分勺之七十九以粟率五十折之得八十四石五斗五升一合一勺一百二十七分勺之一百三爲谷折納米數並二米得一千四百四十九石四斗四升八合八勺一百二十七分勺之二十四先通分納子一十八萬四千八十石以勺率三百粒乘之得五千五百二十二億四千萬粒爲實以母一百二十七除之得四十十億四千八百三十四萬六千四百五十六粒不盡八十八棄之合問

數學九章卷五下﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹥

欽定四庫全書

數學九章卷六上

宋秦九韶撰錢谷

課糴

問差人五路和糴據浙西平江府石價三十五貫文一百三十五合至鎭江水腳錢每石九百文安吉州石價二十九貫五百文一百一十合至鎭江水腳錢每石一貫二百文江西隆興府石價二十八貫一百文一百一十五合至建康水腳錢每石一貫七百文吉州石價二十五貫八百五十文一百二十合至建康水腳錢每石二貫九百文湖南潭州石價二十七貫三百文一百一十八合至鄂州水腳錢每石一貫七百文【按艸中系二貫一百文此此訛】其錢並十七界官防其米並用文思院斛交量紐數欲皆以官解計石錢相比貴賤幾何【文思院解每鬥八十三合】

答曰文思院斛石錢安吉州二十三貫一百六十四文一十一分文之六平江府二十二貫七十一文二十七分文之二十三隆興府二十一貫五百七文二十三分文之一十九潭州二十貫六百七十九文五十九分文之四十九【按三十九訛四十九】吉州一十九貫八百八十五文十二分文之五

術曰以粟米互換求之置石價並水腳乘石數又乘官斗合數爲實各如本州合數而一各得官解石錢以課貴賤

艸曰置安吉州石價二十九貫五百文平江石價三十五貫文隆興石價二十八貫一百文吉州石價二十五貫八百五十文潭州石價二十七貫三百文列右行次置水腳安吉一貫二百文平江九百文隆興一貫七百文吉州二貫九百文潭州二貫一百文列左行各對本州石價以兩行數並之得數安吉三十貫七百文平江三十五貫九百隆興二十九貫八百潭州二十九貫四百吉州二十八貫七百五十仍於右行次以文思院官鬥八十三合徧乘之安吉州得二千五百四十八貫一百文平江府得二千九百七十九貫七百文江西隆興得二千四百七十三貫四百文湖南潭州得二千四百四十貫二百文江南吉州得二千三百八十六貫二百五十文各爲實於右得次列安吉鬥一百一十合平江鬥一百三十五合隆興鬥一百一十五合潭州鬥一百一十八合吉州鬥一百二十合於左行爲法以對除右行之實安吉得二十三貫一百六十四文一十一分之六平江得二十三貫七十一文二十七分文之二十三除興得二十一貫五百七文二十三分文之一十九潭州得二十貫六百七十九文五十九文分之四十九【按三十九訛四十九】吉州得一十九貫八百八十五文一十二分文之五相課石價其安吉州最貴平江次之隆興又次之潭州又次之吉州最賤

折解輕賫

問有甲乙丙丁四郡各合起上供銀絹甲郡銀三千二百兩每兩二貫二百文足絹六萬四千匹每匹二貫文足去京一千里每擔一里傭錢六文足其時舊防每貫五十四文足乙郡銀二千七百兩每兩二貫三百文足絹四萬九千二百匹每匹二貫四百二十文足云京九百八十里每擔一里傭錢四文二分足舊防價五十九文足丙郡銀四千兩每兩新防九貫三百文絹七萬三千六百匹每匹新防一十貫三百文去京二千里每擔一里傭錢八十文舊防丁郡銀二千六百兩每兩五十一貫文舊防絹三萬二千三十五匹每匹五十八貫文舊防去京一千五百里每擔一里傭錢一百文舊防諸郡銀每五百兩絹每六十匹新防每五千貫爲擔欲並折新防均作三限起解求各郡每限及本色原理折解實用寛余傭錢各新防幾何

按此題貫數分三項其一足數每千文爲一貫其一舊防數如甲以五十四文爲一貫乙以五十九文爲一貫是也其一新防數爲舊防數之五倍如甲以二百七十文爲一貫乙以二百九十五文爲一貫是也四郡或言足數或言舊防數新防數並折新防數傭錢原以銀五百兩或絹六十匹各爲一擔今皆折新防數以五千貫爲一擔故有寛餘錢數題語多未詳而並爲一擔句尢混略爲分析而術艸之意大槪可見矣

答曰甲郡合解五十萬一百四十八貫一百四十八文初限一十六萬六千七百一十六貫四十九文次限一十六萬六千七百一十六貫四十九文未限一十六萬六千七百一十六貫五十文傭錢原理二萬三千八百四十五貫九百二十五文二十七分文之二十五實用二千二百二十二貫八百七十七文二十七分文之二十一寛餘二萬一千六百二十三貫四十八文二十七分文之四

乙郡合解四十二萬四千六百五十七貫六百二十七文初限一十四萬一千五百五十二貫五百四十二文初限一十四萬一千五百五十二貫五百四十二文末限一十四萬一千五百五十二貫五百四十三文傭錢原理一萬一千五百一十六貫四百二十八文五十九分文之二十八實用一千一百八十五貫一十文二百九十五分文之五寛餘一萬三百三十一貫四百一十八文五十九分文之二十七【按實用分子五十訛爲五寛余分子一十八訛爲二十七】丙郡合解七十九萬五千二百八十貫文初限二十六萬五千九十三貫三百三十三文次限二十六萬五千九十三貫三百三十三文末限二十六萬五千九十三貫三百三十四文傭錢原理三萬九千五百九貫三百三十三文三分文之一實用五千八十九貫七百九十二文寛餘三萬四千四百一十九貫五百四十一文三分文之一

丁郡合解三十九萬八千一百二十六貫文初限一十三萬二千七百八貫六百六十六文次限一十三萬二千七百八貫六百六十六文末限一十三萬二千七百八貫六百六十八文傭錢原理一萬四千一百七十三貫五百文實用二千三百八十八貫七百五十六文寛餘一萬一千七百八十四貫七百四十四文【按傭錢原理六千訛爲四千寛餘三千訛爲一千】

術曰以均輸求之置各郡銀絹乘各價並之歸足原展足爲舊防次以五約舊防爲新防各得合解錢以限數除之得每限錢不盡並歸末限次置里數乘每裏傭價爲率以率乘原銀及原絹各爲傭實以每擔銀絹率各爲法實如法而一不滿者亦爲擔並之爲原理傭錢次以率乘合觧錢爲實乃以錢物毎擔率爲法實如法而一各得實用傭錢以減原理傭錢余爲寛余傭錢合問

數圖

艸曰置各郡銀絹乘各價甲郡銀三千二百兩乙郡銀二千七百兩郡銀四千兩丁郡銀二千六百兩貫於右行甲郡銀兩價二貫二百足乙郡銀兩價二貫三百足丙郡銀兩價九貫三百新防丁郡銀兩價五十一貫舊防於左行對乘之甲得七千四十貫足乙得六千二百一十貫足丙得三萬七千二百貫新防丁得十三萬二千六百貫舊防又列置各郡絹甲六萬四千匹乙四萬九千二百匹丙七萬三千六百匹丁三萬二千三十五匹於右行各郡絹匹價甲二貫足乙二貫四百二十足丙新防十貫三百丁五十八貫舊防於左行亦對乘之甲得一十二萬八千貫足乙得一十一萬九千六十四貫足丙得七十五萬八千八十貫新防丁得一百八十五萬八千三十貫舊防乃並各郡銀絹價甲共一十三萬五千四十貫足乙共一十二萬五千二百七十四貫足丙共七十九萬五千二百八十貫新防丁共一百九十九萬六百三十貫舊防甲以舊防價五十四文展足錢得二百五十萬七百四十貫七百四十文乙以舊防價五十九文展足錢得二百一十二萬三千二百八十八貫一百三十六文丙系新防丁系舊防今甲乙丁俱以五除之皆爲新防甲得五十萬一百四十八貫一百四十八文乙得四十二萬四千六百五十七貫六百二十七文丙得七十九萬五千二百八十貫文丁得三十九萬八千一百二十六貫各爲合解錢以限數三除之甲得一十六萬六千七百一十六貫四十九文爲初限次限數不盡一文增入次限數內共得一十六萬六千七百一十六貫五十文爲末限數乙得一十四萬一千五百五十二貫五百四十二文爲初限次限數不盡一文增入得一十四萬一千五百五十二貫五百四十三文爲末限數丙得二十六萬五千九十三貫三百三十三文爲初限次限數不盡一文增入得二十六萬五千九十三貫三百三十四文爲末限數丁舊一十三萬二千七百八貫六百六十六文爲初限次限數不盡二文增入得一十三萬二千七百八貫六百六十八文爲末限數各以里數乘傭錢各爲率置甲郡一千里乙郡九百八十里丙郡二千里丁郡一千五百里於右行次置甲郡傭錢六文足乙郡傭錢四文二分足丙郡傭錢八十文舊防丁郡傭錢一百舊防於左行與右行對乘之甲得率六置足乙得率四貫一百一十六足丙得率一百六十貫舊丁得率一百五十貫舊於右行以率乘原銀數各爲傭實次置甲原銀三千二百兩乙銀二千七百丙銀四千丁銀二千六百兩於左行與右行對乘之甲得一萬九千二百貫乙得一萬一千一百一十三貫二百文丙得六十四萬貫舊丁得三十九萬貫舊皆銀傭置於右行次置甲乙丙丁每擔率銀五百兩爲法徧除左行甲得三十八貫四百足乙得二十二貫二百二十六文四分足丙得一千二百八十貫舊丁得七百八十貫舊爲各郡銀傭錢列實寄別行次置甲原絹六萬四千匹乙絹四萬九千二百匹丙絹七萬三千六百匹丁絹三萬二千三十五匹爲左行與右行各率對乘之甲得三十八萬四千貫足乙得二十萬二千五百七貫二百足丙得一千一百七十七萬六千貫舊丁得四百八十萬五千二百五十貫各爲絹傭實次以四郡每擔絹率六十匹爲法除之甲得六千四百貫足乙得三千三百七十五貫一百二十足丙得一十九萬六千二百六十六貫六百六十六文三分文之二舊丁得八萬八十七貫五百舊爲各郡絹傭錢並入寄別行甲得六千四百三十八貫四百足乙得三千三百九十七貫三百四十六文四分足丙得一十九萬七千五百四十六貫六百六十六文三分文之二舊丁得八萬八百六十七貫五百舊列右行其甲舊防價五十四文五因之得二百七十文足乙舊防價五十九文亦五因之得二百九十五文丙以五丁亦以五於左行以對約右行皆爲新防甲得二萬三千八百四十五貫九百二十五文二十七分文之二十五乙得一萬一千五百一十六貫四百二十八文五十九分文之二十八丙得三萬九千五百九貫三百三十三文三分文之一丁得一萬六千一百七十三貫五百文並新防系四郡原傭價錢次以原四郡率對乘四郡合解新防各爲實其甲率六貫足乘甲合解錢五十萬一百四十八貫一百四十八文得三十億八十八萬八千八百八十貫其乙率四貫一百一十六足乘乙合解錢四十二萬四千六百五十七貫六百二十七文得一十七億四千七百八十九萬七百九十二貫七百三十二文足其丙率一百六十貫舊乘丙合解錢七十九萬五千二百八十貫得一千二百七十二億四千四百八十萬貫舊其丁率一百五十貫舊乘丁合解錢三十九萬八千一百二十六貫得五百九十七億一千八百九十萬貫舊各爲實乃以每擔率五千貫爲法而一甲得六百貫一百七十七文足不盡三千八百八十貫文乙得三百四十九貫五百七十八文足不盡七百九十二貫七百三十二文丙得二萬五千四百四十八貫九百六十文舊防丁得一萬一千九百四十三貫七百八十文舊防爲各郡實用甲以二百七十文約乙以二百九十五文約丙丁皆五約爲新防甲二千二百二十二貫八百七十七文不盡二百一十文乙一千一百八十五貫一十文不盡五百丙五千八十九貫七百九十二文丁二千三百八十八貫七百五十六文各減原理甲餘二萬一千六百二十三貫四十八文乙餘一萬三百三十一貫四百一十八文丙餘三萬四千四百一十九貫五百四十一文丁餘一萬一【按二訛一】千七百八十四貫七百四十四文合問

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷六上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷六上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷六上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷六上﹥

今欲變右行足錢舊防皆爲新防故以五徧乘甲陌五十四得二百七十乙陌五十九得二百九十五﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷六上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷六上﹥

按右數實用傭錢內第二層乙條下子數�訛�原理傭錢內末層丁條左第二數丅訛�寛余傭錢內第二層乙條下子數�訛�末層丁條左第二數川訛丨餘數俱合

數學九章卷六上

欽定四庫全書

數學九章卷六下

宋秦九韶撰錢谷

僦直推原

問房廊數內一戶日納一百五十六文八分足爲準指揮未曽經減者減三分已曽經減三分者減二分已曽經減二分者更減二分今本戶累經減者欲知原額房錢幾何

答曰原額三百五十文

術曰以衰分求之列一十分兩行各三位列減分對減右行以餘者相乘爲法以左行原列相乘得納錢爲實實如法而一得原額錢

艸曰列一十三位於左行又列一十分三位於右行其右上減去初減三分右中減去次減二分右下減去更減二分右行餘七八八以相乘得四百四十八爲法乃以左行三位一十分相乘得一千爲乘率以乘見日納錢一百五十六文八分得一百五十六貫八百文爲實實如法而一得三百五十文爲本戶原額戶錢

推求本息

問三庫息例萬貫以上一釐千貫以上二釐五毫百貫以上三釐甲庫本四十九萬三千八百貫乙庫本三十七萬三百貫丙庫本二十四萬六千八百貫今三庫共約到息錢二萬五千六百四十四貫二百文其典率甲反錐差乙方錐差丙蒺藜差欲知原典三例本息各幾何

按此卽衰分題也其差有反錐方錐蒺藜之名蓋以一二三遞減如立錐爲反錐以一四九平方遞加爲方錐以一三六三數遞加爲蒺藜是必古有其名也至以各差求各本則因各本原依各差入之也

答曰甲庫共納息九千五十三貫文一釐息二千四百六十九貫文二釐半息四千一百一十五貫文三釐息二千四百六十九貫文乙庫共納息一萬五十一貫文一釐息二百六十四貫五百文二釐半息二千六百四十五貫文三釐息七千一百四十一貫五百文丙庫共納息六千五百四十貫二百文一釐息二百四十六貫八百文二釐半息一千八百五十一貫文三釐息四千四百四十二貫四百文

術曰置諸庫諸色之差照釐率爲三行縱並之爲約率橫命之爲乘率以約率各約自庫之本各得以徧乘未並乘率然後各以釐率橫乘之次以縱並之爲各庫共息

艸曰置甲庫反錐差自下置三二一於右行次置乙庫方錐差自上置一四九於中行次置丙庫蒺藜差自上置一三六於左行各爲三庫上中下三等乘率乃縱並甲差三二一得六爲甲約率縱並乙差一四九得一十四爲乙約率縱並丙差一三六得一十爲丙約率直命九位數各爲上中下乘率乃先以約率各約自庫之本乃以甲約率六約甲本四十九萬三千八百貫得八萬二千三百貫爲甲得次以乙約率一十四約乙本三十七萬三百貫得二萬六千四百五十貫爲乙得次以丙約率一十約丙本二十四萬六千八百貫得二萬四千六百八十貫爲丙得以各得乘未並乘率其甲所得八萬二千三百貫乘反錐乘率三二一得二十四萬六千九百貫爲上率得一十六萬四千六百貫爲中率得八萬二千三百貫爲下率其乙所得二萬六千四百五十貫以乘方錐差一四九得二萬六千四百五十貫爲上率得一十萬五千八百貫爲中率得二十三萬八千五十貫爲下率其丙所得二萬四千六百八十貫以乘蒺藜差一三六得二萬四千六百八十貫以乘蒺藜七萬四千四十貫爲中率得一十四萬八千八十貫爲下率然後各以息釐數乘各庫三乘【此是變文爲庫】其甲以一釐乘上率二十四萬六千九百貫得二千四百六十九貫爲上息以二釐五毫乘中率一十六萬四千六百貫得四千一百一十五貫爲中息以三釐乘下率八萬二千三百貫得二千四百六十九貫爲下息並上中下三息得九千五十三貫文爲甲庫共息其乙庫以一釐乘上率二萬六千四百五十貫得二百六十四貫五百文爲上息以二釐五毫乘中率一十萬五千八百貫得二千六百四十五貫爲中息以三釐乘下率二十三萬八千五十貫得七千一百四十一貫五百爲下息並上中下三息得一萬五十一貫文爲乙庫共息其丙庫以一釐乘上率二萬四千六百八十貫得二百四十六貫八百爲上息以二釐五毫乘中率七萬四千四十貫得一千八百五十一貫爲中息以三釐乘下率一十四萬八千八十貫得四千四百四十二貫四百文爲下息並上中下三息得六千五百四十貫二百文爲丙庫共息並三庫共息得二萬五千六百四十四貫二百文爲總息

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷六下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷六下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷六下﹥

易牒知原【按舊本此問無題今增入】

問出度牒差人營運毎三道易鹽一十三袋鹽二袋易布八十四疋布一十五疋易絹三疋半絹六疋易銀七兩二錢今趂到銀九千一百七十二兩八錢欲知原闗度牒道數幾何

答曰度牒一百八十道

術曰以粟米互乘易法求之列各數以本色相對如鴈翅以多一事者相乘爲實以少一事者相乘爲法除之

艸曰先以度牒三道乘鹽二袋得六以乘布一十五得九十文乘絹六疋得五百四十乃乘銀九萬一千七百二十八錢得四千九百五十三萬三千一百二十錢爲實次以鹽一十三袋乘布八十四得一千九十二以乘絹三疋五分得三千八百二十二乃乘銀七兩二錢得二十七萬五千一百八十四錢爲法除實得一百八十道爲原闗度牒

粟米交易【按舊本此問無題今增】

問菽三升易小麥二升小麥一升五合易油麻八合油麻一升二合易粳米一升八合今將菽一十四石四斗欲易油麻又將小麥二十一石六斗欲易粳米問各幾何

答曰油麻五石一斗二升粳米一十七石二斗

八升

術曰以粟米換易求之置原易率本色對列如鴈翅以多一事者相乘爲實以少一事者相乘爲法除之各得或問數不幹其率者不置

艸曰置四色六數列六位率如鴈翅皆化爲合先將菽一十四石四斗化作一萬四千四百合乃對前二句率數四位如鴈翅至欲易油麻止共五事爲上圖次將小麥二十一石六斗化爲二萬一千六百合乃對後兩句率四位鴈翅至欲粳米止共五事爲下圖下圖其上圖以菽一萬四千四百合乘麥二十得二十八萬八千又乘油麻八合得二百三十萬四千合爲油麻實次以菽三十合乘麥一十五合得四百五十合爲法除之得五千一百二十合展爲五石一斗二升爲油麻其下圖以小麥二萬一千六百合乘油麻八合得一十七萬二千八百合又乘粳米一十八合得三百一十一萬四百合爲粳米實以小麥一以五合乘油麻一十二合得一百八十合爲法除之得一萬七千二百八十展作一十七石二斗八升爲粳米

計米易麯【按舊本此問無題今增】

問庫率粳谷七石出米三石糯米一斗易小麥一斗七升小麥五升踏麯二斤四兩麯一百一十斤醞糯米一石三斗今有糯谷一千七百五十九石三斗八升欲出穀做米易麥踏麯還自醞余穀之米須令適足各合幾何

答曰共谷一千七百五十九石三斗八升出谷九百二十四石得米三百九十六石易麥六百七十三石二斗踏麯三萬二百九十四斤余谷八百三十五石三斗八升醞米三百五十八石二升

術曰以粟米換易求之置諸率隨本色對列如鴈翅有分者通之異類者變之以頭位者進乘之以下位退乘之得合數有對者相乘之無對者直命之爲諸率並上下無對者爲法率【諸率可約者又約之】以今有物徧乘諸率【不乘法率】各爲實諸實並如法而一各得其已變者復互易乘除之卽得所求

艸曰置糯谷七出米三於右行上副兩位次置糯米一斗麥一斗七升於副行副中兩位次置小麥五升踏麥二斤四兩於次行中次兩位次置麥一百一十觔醞米一石三鬥於左行次下兩位隨本色對列如鴈翅訖乃驗次行二斤四兩是四分斤之一以母四通次行兩位以子一內次行次位具中位得二次位得九又驗左行下位是糯米是異類於糯米合變爲糯谷乃以問中首句率穀七米三變之以七因米一石三鬥得九石一斗於左下爲谷卻以米三因麯一百一十斤爲三百三十斤麯於左行得變圖數以左行三百三十乘次行二得六百六十次以六百六十乘副行一十得六千六百次以六千六百乘右上七得四萬六千二百各於原位卻以右行副位三因副行一斗七升得五斗一升又以五斗一升乘次行九得四百五十九又以四百五十九乘左下九十一得四萬一千七百六十九列爲合圖數乃驗合圖四行其副中次三位有對以對相乘合之其右上左下無對者直命之皆爲率列右行上得四萬六千二百爲出糯谷率副位得一萬九千八百爲得糯米率中得三萬三千六百六十爲易得麥率次得一萬五千一百四十七爲踏到麯率下得四萬一千七百六十九爲餘下糯谷率並上下率共得八萬七千九百六十九爲法率今六率共求等得一約之只得原率爲率圖始用今有谷一千七百五十九石三斗八升皆化爲升徧乘五率不乘法率得八十一億二千八百三十三萬五千六百升爲出谷實得三十四億八千三百五十七萬二千四百升爲糯米實得五十九億二千二百七萬三千八十升爲易麥實得二十六億六千四百九十三萬二千八百八十六爲踏麯實得七十三億四千八百七十五萬四千三百二十二升爲余谷實其五實皆如法八萬七千九百六十九而一得九百二十四石爲出谷得三百九十六石爲做到糯米得六百七十三石二斗爲易到小麥得三萬二百九十四斤爲踏到麯得八百三十五石三斗八升爲餘下谷今將餘下谷變爲米乃以乘率三因余谷八百三十五石三斗八升得二千五百六石一斗四升爲實以糯谷率七爲法除之得三百五十八石二升爲醞米

按術中互乘進乘退乘對乘皆通分法也張邱建云學者不患乘除之爲難而患通分之爲難此術曲盡其妙今各釋於後

第一圖互乘以右上谷七乘左下米一十三得九十一應以右下米三除之方得谷數今不除便如得谷數又以米三乘之矣故以米三乘麯一十一得三十三與谷數九十一相當仍同於麯一十一與米一十三相當也

第二圖左進乘自下而上右退乘自上而下左四位連乘至谷應以右上三位連乘之數除之得踏麯三十三所用谷數今不除爲寄右上三位連乘之數爲分母右四位連乘至谷卽如麯三十三所醞谷數同寄右上三位連乘之數爲分母也並之卽如踏麯用谷麯所醞谷總數同寄右上三位連乘之分也

第三圖對乘左下一位麯數以前寄分母右上三位連乘之數乘之卽同寄一分母也左下二位相乘應以右上第三位除之得踏麯所用麥數不除爲寄右上第三位麯數又以右上二位相乘之數乘之是應用麥數內同寄右上三位連乘之分母也左下三位連乘應以右中二位相乘之數除之得易麥應用米數不除爲寄右中二位相乘之數又以右上第一位米數乘之是應用米數內同寄右上三位連乘之分母也右總谷出谷余穀易米易麥踏麯六數皆同寄一分母則用以乘除求得數卽與本數無異故以題中總谷數乘寄分母各數以寄分母總數除之卽得所求各數也

再此術不獨法之巧卽圖式布置亦皆皆具精義熟玩之可以得其往來變通之故原第三合圖仍斜排爲上圖第四率圖卽各寄寄母數直列爲下圖今合圖攺爲正圖列於右各得寄母數並列於左

回運費

問有江西水運米一十二萬三千四百石原系鎭江交卸計水程二千一百三十里每石水腳錢一貫二百文今截上件米就池州安頓池州至鎭江八百八十里欲收回不該水腳錢幾何

答曰收回錢六萬一千一百七十八貫五百九十一文

術曰以粟米互易求之置池州至鎭江里數乘水腳錢得數又乘運米爲實以原至鎭江水程爲法除實得收回錢

艸曰置池州至鎭江八百八十里乘毎石水腳錢一貫二百得一千五十六貫文又乘運米一十二萬三千四百石得一億三千三十一萬四百貫文爲實以原至鎭江水程二千一百三十里爲法除實得六萬一千一百七十八貫五百九十一文爲收回錢三合均價【按舊本此問無題今增】

問庫有三色金共五千兩內八分金一千二百五十兩兩價四百貫文七分五釐金一千六百兩兩價三百七十五貫文八分五釐金二千一百五十兩兩價四百二十五貫文並欲煉爲足色每兩工食藥炭錢三貫文耗金九百七十二兩五錢欲知色分及兩價各幾何答曰色十分

兩價五百三貫七百二十四文五百三十七分文之二百一十二

術曰以方田及粟米求之置共數以耗減之餘爲法以三色分數各乘兩數並之爲色分實以三色價數各乘兩數爲寄以工藥價乘共金並寄共爲價實二實皆如法而一卽各得

艸曰置共金五千兩減耗九百七十二兩五錢外餘四千二十七兩五錢爲法次置一千二百五十兩乘八分得一萬分於上置一千六百兩以七分五釐乘之得一萬二千分加上置二千一百五十兩乘八分五釐得一萬八千二百七十五分又加上共得四萬二百七十五分爲分實次置一千二百五十兩乘四百貫得五十萬貫爲寄次置一千六百兩乘價三百七十五貫得六十萬貫加寄次置二千一百五十兩乘價四百二十五貫得九十一萬三千七百五十貫又加寄次置共金五千兩乘工藥錢三貫得一萬五千貫又加寄共得二百二萬八千七百五十貫爲貫實二實並如法四千二十七兩五錢而一得其色一十分其價每兩得五百三貫七百二十四文不盡一貫五百九十與法求等得七十五俱約之爲五百三十七文之二百一十二

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷六下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷六下﹥

其色實余盡得一十分爲金色其價除得五百三貫七百二十四文爲十分金毎兩價不盡一貫五百九十文與法求等得七半俱以約之爲五百三十七分文之二百一十二

數學九章卷六下﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹥

欽定四庫全書

數學九章卷七上

宋秦九韶撰營建

計作淸臺

問剏築淸臺一所正髙一十二丈上廣五丈袤七丈下廣一十五丈袤一十七丈其袤當東西廣當南北秋程人日行六十里裏法三百六十步鐝土鍬土每工各二百尺築土每工九十尺每擔土壤一尺三寸往來一百六十步內四十步上下棚道築髙至少半其棚道三當平道五至中半三當七至太半二當五踟躕之間十加一載輸之間二十步定一返今甲乙丙三縣差夫甲縣附郭稅力一十三萬三千八百六十六乙縣去臺所一百二十里稅力二十三萬七千九百八十四丙縣去臺所一百八十里稅力三十一萬二千三百五十四俱以道裏逺近稅力多少均科之臺下鋪石腳七層先用甎砌臺身次用甎疊砌轉道周圍五帶並濶六尺須令南北二平道東西三峻道相間始自臺之艮隅於東外道向南順升由巽隅以西左轉周回歷北復東再升東裏道至巽隅乃登臺頂其東裏道艮隅與北平道兩隅及西道幹隅之髙皆以彊半其西道坤隅與南道兩隅東外道異隅之髙皆以五分之二峻道毎級履髙六寸其東裏道級數取弱半東外道級數取五分之二西道級數取彊半石長五尺濶二尺厚五寸甎長一尺二寸濶六寸厚二寸五分欲知土積定一返步毎工人到土及總用功各縣起夫甎石峻平道髙長級數踏蹤各幾何

答曰土積一百五十四萬尺定一返二百步一十八分步之五【按此條起共十一條數皆誤】毎工人到土一百四十尺七百二十一分尺之一百四十八總用工四萬五千六百八十六工甲縣差一萬七千一百三十二工乙縣差一萬五千二百二十九工丙縣差一萬三千三百二十五工石四千三百一十七片甎一百一十四萬二千二十四片東裏道峻艮隅髙九丈巽隅髙一十一丈九尺四寸級五十踏踏蹤二尺

二寸九分東外道峻艮隅髙六寸巽隅髙四丈八尺級八十踏踏蹤二尺一寸五分西峻道坤隅髙四丈八尺幹隅髙九丈級七十踏踏蹤二尺一寸四分寸之九南平道髙四丈八尺北平道九丈

按右答數中惟第一條土積未二條南北平道髙三數無誤餘數俱有誤處其所以不合之故具詳艸後

術曰以啇功求之均輸入之倍臺上袤加下袤乘上廣爲寄倍下袤加上袤乘下廣並寄乘髙爲土率如六而一得堅積以築工尺爲法除堅積得築工以穿率乘堅積爲實以堅率乘鐝鍬工尺半之爲鍬法除實得鐝鍬共工以壤率因堅積如堅率而一爲壤積求負土者先列全分及等至髙諸母子以母互乘諸子爲寄左行以諸母相乘爲寄母次列棚道全分及所當鮮母衍子以鮮母互乘衍子爲左行以鮮母相乘以乘寄得數又以列位乘之爲總母以左右兩行諸子對乘之並之爲總子其總母求等約之爲定母子以定子乘棚道爲次以定母乘平道加次義以踟躕之數身下加之又以載輸步乘定母並次爲統數以定母除統得定一返步亦爲列土法【有分復通爲法】置程裏通步乘擔土尺有步母則又以步母乘之爲到實實如法而一得每工人到土亦爲壤法以除壤積得負土工並前鍬築二工爲總用工以各縣日程數約稅力各得力率副並爲科法以共用工乘未並者各爲科實實如法而一各得縣夫求甎者倍轉道濶徧加臺上下廣袤變名上下濶長以甎厚加臺髙爲臺直次列甎石長濶厚各相乘爲甎石積法通廣袤如法乃倍上長加下長乘上濶爲寄次倍下長加上長乘濶並寄共乘直得數減土率除如六而一爲泛置南北道髙子各乘臺髙爲實如各母而一得五道諸隅髙以北道髙減臺余爲上停髙以南道髙減北道髙余爲中停髙命南道髙爲下停髙以履寸除諸髙得級數以上長減下長余半之爲勾以勾乘南道髙爲實如臺髙而一得底率以底率減下長余爲底股以外道級數約底股得外道踏蹤又以底率減底股余爲中股以勾乘中停髙爲實如臺髙而一得中率以中率減中股余爲上股以西道級除上股得西道踏蹤以勾乘上停髙爲實如臺髙而一得中率以中率減中股余爲上股以西道級除上股得西道踏級以勾乘上停髙爲實如臺髙而一得上率以上率並中率共減上股余爲實如裏道級而一得裏道踏蹤次以道濶並下長爲補以南北道髙並臺髙乘補爲需次上廣減下廣余爲址以址乘南道髙爲實以臺髙除之得數減下廣余爲南道長以南長並下廣乘南道髙加需又以址乘北道髙爲實以臺髙除之得數減下廣余爲北道長以北道長並下廣乘北道髙又加需共乘半道濶得數並泛爲共率以基腳層數乘石版厚爲基髙次倍道濶並下濶乘下長爲基率次以下廣乘下袤減基率余乘基髙爲石率以石率減共率余爲甎率以甎積法除甎率得甎數以石級積法除石率得石版數

艸曰倍上袤七丈得一十四加下袤一十七丈得三十四丈加上袤七丈得四十一乘下廣一十五丈得六百一十五並寄得七百七十乘髙一十二丈得九千二百四十丈爲土率以六除率一千五百四十丈以千尺通之【按舊本誤爲十八通之今攺正】爲一百五十四萬尺堅積以築工九十尺除之得一萬七千一百一十一工九分工之一爲築工次以穿率四因堅積得六百一十六萬尺爲實以堅率三因鐝鍬工二百尺得六百尺爲法除實得一萬二百六十六工三分工之二爲穿工次以壤率五因堅積得七百七十萬尺爲壤積以三爲母具圖如後

乃以右行母互乘左行子左上得一十二副位得九次得六下得一十八乃變右行名爲寄子以諸母相乘得一十八爲寄母具圖如後

次以棚道全分及所當鮮母衍子三當五及三當七並二當五

乃以右行鮮母互乘左行衍子上得四十五副得四十二次得三十下得一十八爲右行以鮮母相乘得一十八乃對寄左圖列之

乃以左右兩行母子對乘之上得五百四十副得三百七十八次得一百八十下得三百二十四母得三百二十四

今以平分術入之並四子得一千四百二十二爲總子以列位四乘乘母三百二十四得一千二百九十六爲總母

乃以總母子求等得一十八俱約之總子得七十九爲定子總母得七十二爲定母以定子七十九乘棚道四十步得三千一百六十於次以棚道一四十步減往來一百六十步餘一百二十爲平道以乘定七十二得八千六百四十加次共得一萬一千八百又以踟躕十加一放身下加一得一萬二千九百八十仍於次又以載二十步乘定母七十二得一千四百四十並次得一萬四千四百二十爲統數以定母七十二除統數得二百步不盡約爲一十八分步之五爲定一返步乃復通分內子得三千六百五爲到法乃置程裏六十以三百六十通之得二萬一千六百步乘擔上一尺三寸得二萬八千八十尺以到母一十八乘之得五十萬五千四百四十尺爲到實實如法除得一百四十尺不盡七百四十與法求等得五約之爲七百二十一分尺之一百四十八爲到土復通分內子得一十萬一千八十八又以壤母三因得三十萬二千二百六十四尺爲壤法次以到土母七百二十一乘壤積七百七十萬尺得五十五億五千一百七十萬尺爲壤實實如法而一得一萬八千三百六工不盡一十四萬九千二百一十六與法求等得三十二俱約之爲一萬八千三百六工九千四百七十七分工之四千六百六十三爲擔土工

次列前土工圖築一萬七千一百一十一工九分工之一及穿工一萬二百六十六工三分工之二各通分內子築率得一十五萬四千穿率得三萬八百擔率一億七千三百四十九萬六百二十五按術當以通率圖諸母互乘諸率令驗擔母九千四百七十七可用築母九約亦可用穿母三約故從省以築母九約擔母九千四百七十七得一千五十三爲築率乘數又以穿母三約擔母九千四百七十七得三千一百五十九爲穿率乘數各以乘數乘本率名曰就母圖乃以九千四百七十七變名曰就母先以築率一十五萬四千乘乘數一千五十三得一億六千二百一十六萬二千爲築分次以穿率三萬八百乘乘率三千一百五十九得九千七百二十九萬七千二百爲穿分就以擔率一億七千三百四十九萬六百二十五爲擔分並三分共得四億三千二百九十四萬九千八百二十五爲總工分實以就母九千四百七十七除之得四萬九千六百八十五工九千四百七十七分工之三千八十爲總用功具圖如後

置各縣日程約稅力得力率副並爲科法工置甲縣力一十三萬三千八百六十六以一日程爲之只得此爲甲率又置乙縣力二十三萬七千九百八十四以二日約得一十一萬八千九百九十二爲乙率又置丙縣力三十一萬二千三百五十四以三日約得一十萬四千一百一十八爲內率

列三求等得一萬四千八百七十四俱約之甲得九乙得八丙得七各爲定率副並得二十四具圖如後

乃以總分四億三千二百九十四萬九千八百二十五徧乘三縣定率爲各實以就母九千四百七十七乘並率二十四爲科法甲得三十八億九千六百五十四萬八千四百二十五乙得三十四億六千三百五十九萬八千六百丙得三十億三千六十四萬八千七百七十五各爲實法得二十二萬七千四百四十八爲科法除各實具圖如後

乃以科法除各實甲得一萬七千一百三十一工不盡一十三萬六千七百三十七爲甲縣工乙得一萬五千二百二十八不盡二萬四百五十六爲乙縣工丙得一萬三千三百二十四不盡一十三萬一千六百二十三爲丙縣工諸縣不盡皆輩爲一工甲合科一萬七千一百三十二工乙合科一萬五千二百二十九工丙合科一萬三千三百二十五工

按此以上所求擔土定一返數誤其到土工數及總用工數三縣合科工數皆誤蓋題言築臺至少半至中半至太半當自平地至三分之一三分之一至二分之一二分之一至三分之二三分之二至臺頂共四段其分數自下而上逐層數應取兩分數之較艸中所列諸分子下設一數上卽列三分數其段數旣不確又卽用各分子全數故求得棚道七十二僅當平道七十九與題中所言二當五三當七當五之數顯然不合矣今推步攺正於後

法先求分子較以三之一爲第一段分數以三之一與二之一分母對乘得六分母互乘分子三之一得六之二二之一得六之三相減餘六之一得第二段分數以二之一與三之二分母對乘得六分母互乘分子二之一得三三之二得四相減餘六之一爲第三段分數以三分之二與全臺三分之三相減餘三之一爲第四段分數然後列四段母數於右子數於左以各分母連乘又互乘分子得

三百二十四爲總分母第一段一

百零八第二段五十四第三段五

十四第四段一百零八爲各分子求等數得五十四徧約之總母得六分子第一段得二第二段得一第三段得一第四段得二爲各段分母子

次列棚道一當平道一爲下第一段三當五爲第二段三當七爲第三段二當五爲第四段以棚道數爲分母以平道數爲分子分母連乘又互乘分子得一十八爲總分母第一段得一十八第

二段得三十第三段得四十二第四段得四十五爲各分子求等數得三徧約之總母得六分子第一段得六第二段得十第三段得一十四第四段得一十五次列前後兩分母分子【已約之數】各對乘得總母三十六分子第一段得一十二第二段得一十第三段得一十四第四段得三十並諸子得六十六爲總子又求等得六各約之得定母六爲棚道數定子一十一爲平道數此卽合全臺數總計凡棚道六當平道一十一也乃以定子一十一乘棚道四十步得四百四十步爲次以棚道四十步減一百六十步餘一百二十步爲平道以定母六乘之得七百二十步加次共得一千一百六十步以踟躕加一於身得一千二百七十六步又以載輸二十步乘定母六得一百二十步義加次共得一千三百九十六步爲統數以定母六除之得二百三十二步又三分步之二爲定一返步乃復通分內子得六百九十八爲到法乃置程裏六十以三百六十步通之得二萬一千六百步乘上一尺三寸得二萬八千零八十尺以到法分母三乘之得八萬四千二百四十尺爲到實以到法除之得一百二十尺不盡四百八十約之爲三百四十九分尺之二百四十舊名到土復到土復者一工每日所擔之堅土數也通分內子得四萬二千一百二十以壤母三因之得一十二萬六千百六十尺爲壤法次以到土復母乘壤積七百七十萬尺得二十六億八千七百三十萬尺爲壤實實如法而一得二萬一千二百六十七工不盡一千八百八十約之得三千一百五十九分工之四十七爲擔土工次列築工穿工擔工三數及分母分子互乘以齊之

列三工數各通分內子得築率一十五萬四千穿率三萬零八百擔率六千七百一十八萬二千五百驗擔母數築穿二母數皆可度盡用就母法以築母除擔母得三百五十一爲築東率以穿母除擔母得一千零五十三爲穿乘率各以乘率乘本率得築分五千四百零五萬四千穿分三千二百四十三萬二千四百擔率六千七百一十萬二千五百卽爲擔分同以擔分母爲總分母乃並三分數得一億五千三百六十六萬八千九百分爲實以總分母爲法除之得四萬八千六百四十四工不盡二千五百零四約之不變卽命爲三千一百五十九分二之二千五百零四爲總用工數次置三縣力役以里數遠近通之先以乙丙二里數求等得六十各約之乙得二丙得三以乙二徧乘甲丙以丙三徧乘甲乙得甲率八十萬零三千一百六十九乙率七十一萬三千九百五十二丙率六十二萬四千七百零八三率求等得八萬九千二百四十四徧約之甲得乙得八丙得七各爲率並率得二十四乃以工總分一億五千三百六十六萬八千九百分乘三縣各率得甲實一十三億八千三百零二萬零一百乙實一十二億二千九百三十五萬一千二百丙實一十億零七千五百六十八萬二千三百以就母三千一百五十九乘並率二十四得七萬五千八百一十六爲科法除各實不盡者各進一工得甲縣合科一萬八千二百四十二工乙縣合科一萬六千二百一十五工丙縣合科一萬四千一百八十九工

求甎者倍轉道並濶六尺得一丈二尺徧加臺上下廣袤變各爲上下濶長以甎厚六寸加臺髙

先以甎長一尺二寸濶六寸厚二寸五分相乘之得一百八十寸爲甎積法次列石版長五尺濶二尺厚五寸相乘得五千寸爲石積法具圖如後

驗得諸法皆寸乃以變各圖上下長濶直按術求率倍上長八百二十寸得一千六百四十寸加下長一千八百二十寸得三千四百六十乘上濶六百二十得二百一十四萬五千二百爲寄次倍下長一千八百二十得三千六百四十加上長八百二十得四千四百六十乘下濶一千六百二十得七百二十二萬五千二百並寄得九百三十七萬四百乘臺直一千二百六寸得一百一十三億七十萬二千四百寸仍爲寄乃驗土積圖土率九千二百四十丈以一百萬寸通之得九十二億四千萬寸以減寄餘二十億六千七十萬二千四百寸如六而一得三億四千三百四十五萬四百寸爲泛

次置南道髙五分之二北道髙彊半系四分之三及臺原髙一千二百寸具圖如後

乃以南道髙子二乘原臺髙得二千四百寸爲南寔以南道髙子三乘原臺髙得三千六百寸爲北寔各如本母而一得四百八十寸約爲四丈八尺爲南道兩隅又爲東外道巽隅髙又爲西道坤隅髙所得九百寸約爲九丈爲北道兩隅髙又爲西道幹隅髙又爲東裏道艮隅髙具圖如後

以北道髙九丈減臺髙一十二丈餘三丈爲上停髙以南道髙四丈八尺減北道髙九丈餘四丈二尺爲中停髙命南道髙四丈八尺爲下停髙

三停髙皆如履級寸而一得五十爲東裏道級數得七十爲西道級數得八十爲東外道級數次以上長八百二十寸減下長一千八百二十寸餘一千寸以半之得五百寸爲勾以乘南道髙四百八十寸得二十四萬寸爲實如臺髙一千二百寸而一半之【按上下長較已半得數又半之誤】得一百寸爲底率以率減下長一千八百二十餘一千七百二十寸爲底股以外道級八十約之得二尺一寸五分爲外道踏蹤又以底率一百寸減底股一千七百二十寸餘一千六百二十寸爲中股乃以勾五百寸乘中停髙四丈二尺得二十一萬寸爲實如臺髙一千二百寸而一得一百七十五寸爲中率以中率減中股一千六百二十寸餘一千四百四十五寸爲上股以西道級七十除上股一千四百四十五寸得二尺一寸四分寸之九爲西道踏蹤又以勾五百寸乘上停髙三百寸得一十五萬寸爲實如臺髙一千二百寸而一得一百二十五寸爲上率並中率一百七十五寸得三百減上股一千四百四十五寸餘一千一百四十五寸爲實如裏道級五十而一得二尺二寸九分爲裏道踏蹤各得具圖以見如後

次以道濶六尺並下長一千八百二十寸得一千八百八十寸爲補以南北道髙並臺髙共得二千五百八十寸乘補得四百八十五萬四百寸爲需【按此二數不合其法太疎故也】次以上廣五百寸減下廣一千五百寸餘一千寸爲址乘南道髙四百八十寸得四十八萬寸爲實以臺髙一千二百寸除之得四百寸爲減率以減下廣一千五百寸餘一千一百寸爲南道長並下廣一千五百寸得二千六百乘南道髙四百八十寸得一百二十四萬八千寸加需又以址一千寸乘北道髙九百寸得九十萬寸爲實亦如臺髙一千二百而一得七百五十以減下廣一千五百寸餘七百五十寸爲北道長並下廣一千五百得二千二百五十寸乘北道九百寸得二百二萬五千寸又加需共得八百一十二萬三千四百以半道濶三尺乘之得二億四千三百七十萬二千寸並泛三億四千三百四十五萬四百得五億八千七百一十五萬二千四百寸爲共率次以基腳七層乘石版厚五寸得三十五寸爲基髙次倍道濶得一百二十並下濶一千六百二十寸得一千七百四十乘下長一千八百二十得二百一十六萬六千八百爲基率次以下廣一千五百寸乘下袤一千七百寸得二百五十五萬減基率餘六十一萬六千八百寸乘基髙三十五寸得二千一百五十八萬八千寸爲石率以石率減共率餘五億六千五百五十六萬四千四百寸爲甎率以甎積法一百八十寸除之得一【按三訛一】百一十四萬二千二十四片九分片之四乃以石積法五千寸除石率二千一百五十八萬八千寸得四千三百一十七片爲石版不盡三十寸棄之不輩合問

按右艸自求甎砌臺身積至級數皆無誤求踏蹤數有誤至求補數需數其法更多未合如題內云先用甎砌臺身次用甎砌轉道周圍五帶並濶六尺南北二平道東西三峻道如自臺下艮隅南升至巽西折行至坤北升至幹東折行至艮復南升至巽乃登臺頂是南北二平道至臺址皆如一面平堆形西峻道至臺址東裏峻道至臺址皆上如一面三角斜堆下如一面平堆形東外峻道至臺址如一面三角斜堆形法當按各形取積艸中取二平道皆如法至取峻道乃以道濶並下長爲補以南北道髙臺髙三數並乘之爲需然後以半道濶乘之爲積其意殊不可解然以數考之有差至三之一者又臺身外四面甎砌各加六尺轉道東面加二層三面各加一層是臺基長一十九丈四尺濶一十八丈艸中以下濶爲一千七百四十寸差少六尺下長仍用一千八百二十寸差少一丈二尺皆疎漏之誤今自求踏蹤至末皆另步之法以臺上長減下長餘一千寸半之得五百寸爲勾率以乘南道髙四百八十寸得二十四萬寸爲實如臺髙一千二百寸而一得二百寸爲底率以減下長得一千六百二十寸爲底股以外道級八十約之得二尺零二分半爲東外道踏蹤又以底率減底股餘一千四百二十寸爲中底以勾率五百乘中停髙四百二十寸得二十一萬寸如臺髙寸而一得一百七十五寸爲中率以減中底餘一千二百四十五寸爲中股以西道級七十約之得一尺七寸七分又七分分之六爲西道踏蹤以中率減中股餘一千零七十寸爲上底以勾率五百乘上停髙三百寸得一十五萬寸如臺髙而一得一百二十五寸爲上率以減上底餘九百四十五寸爲上股以裏道五十約之得一尺八寸九分爲裏道踏蹤次以道濶加下長與下停髙相乘得九十萬二千四百寸爲倍東外峻道三角形立面中底與中停髙相乘得五十九萬六千四百寸爲倍上下外濶相減餘一千寸以北道髙乘之得九十萬以臺髙寸數除之得七百五十寸以減北下外濶得九百九十寸爲北道上濶與北下外濶相加以北道乘之得二百四十五萬七千寸爲倍北道至臺址平堆形立面並倍二面數得三百九十九萬三千寸又並前五數之共數得九百九十六萬九千寸以半道濶三十寸乘之得二億九千九百零七萬寸爲共道峻道積又並前砌臺身積三億四千三百四十五萬零四百寸得總積六億四千二百五十二萬零四百寸爲共率次二因道濶與下長相加得一千九百四十寸與南道下外濶一千八百寸相乘得三百四十九萬二千寸又以原下廣一千五百寸下袤一千七百寸相乘得二百五十五萬寸以減外長濶相乘餘九十四萬二千寸以石基三十五寸乘之得三千二百九十七萬寸爲西峻道上三角形立面中底下底並與下停髙相乘得一百五十五萬五千二百寸爲倍西峻道下平堆形立面上底上停髙相乘得三十二萬一千寸爲倍東裏道上三角形立面上底下底並與中停髙下停髙並相乘得二百六十萬零一千寸爲倍東裏道下平堆形立面倂五數共得五百九十七萬六千寸比舊艸所用需數大一百一十二萬五千六百寸次求南北平道立面先以上下濶俱加三道濶得上外濶八百寸下外濶一千八百寸上下外濶相減餘一千寸以南道髙乘之得四十八萬寸以臺髙寸除之得四百寸爲減率以減下外濶得一千四百寸爲南道上濶與下外濶相並以南道髙乘之得一百五十三萬六千寸爲倍南道至臺址平堆形立面又以上下濶各加倍道濶得北上外濶七百四十寸北下外濶一千七百四十寸北石率以石率減共率餘六億零九百五十五萬零四百寸爲甎率以甎長濶厚連乘得一百八十寸爲甎法以石長濶厚連乘得五千寸爲石法以甎法除甎率得三百三十八萬六千三百九十一片九分片之一爲共用甎數以石法除石率得六千五百九十四片爲共用石數

堂隍程築

問有營造地基長二十一丈濶一十七丈先令七人築堅三丈計功二日今涓吉立木有日欲限三日築了每日合收杵手幾何

答曰日收五百五十五工三分工之一

術曰以長乘濶又乘原日原人爲實以限日乘築丈數爲法除之得人夫

艸曰以長二十一丈乘濶一十七丈得三百五十七丈又乘原二日得七百一十四又乘原七人得四千九百九十八爲工實以限三日乘原築三丈得九爲法除實得五百五十五工不盡三與法俱三約之爲三分工之一爲日收五百五十五工三分工之一合問

砌甎計積

問有交到六門甎一十五垜每垜髙五尺濶八尺長一丈其甎毎片長八寸濶四寸厚一寸欲砌地面使用堂屋三間各深三丈共濶五丈二尺書院六間各深一丈五尺各濶一丈二尺後閤四間各深一丈三尺內二間濶一丈次二間濶一丈五尺亭子地面之長濶幾何

答曰見有一十八萬七千五百片今用一萬六千四百六片四分片之一外餘一十七萬一千九十三片四分片之三

術曰以少廣求之置各地面深濶相乘以間數若所數乘之共爲實甎長濶相乘爲甎平法除得今用甎數次以甎垜髙長濶相乘爲實卻以甎法乘厚得數爲甎積法除之得毎垜甎數次以垜數乘之得見有甎以減今用甎得余甎

艸曰置堂濶五丈二尺乘深三丈得一十五萬六千寸於上又置書院深一丈五尺乘濶一丈二尺得一萬八千寸又以六間乘之得一十萬八千寸加上共得二十六萬四千寸並上又置後閤濶一丈並濶一丈五尺得二丈五尺又以各二間乘之得五百寸以乘各深一丈三尺得六萬五千寸加上得三十二萬九千寸並上次置亭基一丈四尺自乘得一萬九千六百寸以一十所乘之得一十九萬六千寸又並上共得五十二萬五千寸爲實以甎長八寸乘濶四寸得三十二寸爲甎平法除之得一萬六千四百六片四分片之一爲共用甎次置毎垜髙五尺乘濶八尺得四千寸又乘長一丈得四十萬寸爲毎垜實卻以甎平法三十二寸乘厚一寸只得三十二寸爲甎積法除之得一萬二千五百片又以十五垜乘之得一十八萬七千五百片爲見有甎內減今用甎余有一十七萬一千九十三片四分片之三爲外余瓦數合問

數學九章卷七上﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹥

欽定四庫全書

數學九章卷七下

宋秦九韶撰營廷

計定城築

問郡築一城圍長一千五百一十丈外築羊馬墻壕長與城同城身髙三丈靣闊三丈下闊七丈五尺羊馬墻髙一丈靣闊五尺下闊一丈壕靣闊三十丈下闊二十五丈女頭鵲防共髙五尺五寸共闊三尺六寸共長一丈鵲臺長一丈髙五寸闊五尺四寸座子長一丈髙二尺二寸五分闊三尺六寸肩子髙一尺二寸五分闊三尺六寸長八尺四寸防子髙一尺五寸闊三尺六寸長六尺六寸箭窻三眼各闊六寸長七寸五分外眼比內眼斜低三寸取土用穿四堅三爲率周廻石版鋪城腳三層每片長五尺闊二尺厚五寸通身用甎包砌下一丈九幅【按九幅卽九層】中一丈七幅上一丈五幅甎每片長一尺二寸闊六寸厚二寸五分防崄墻髙三尺闊一尺二寸【按此句贅蓋下旣論幅則不用闊下當云每幅之闊爲甎之長數】下腳髙一尺五寸鋪甎三幅上一尺五寸鋪甎二幅每長一丈用木物料永定柱二十條長三丈五尺徑一尺每條栽埋工七分串鑿工三分爬頭拽後木共八十條長二丈徑七寸每條作工三分串鑿工二分子木二百條長一丈徑三寸每條作工二分搬扛工二分絍橛二千个每个長一尺方一寸每个工七毫絍索二千條長一丈徑五分每條工九毫石版一十片匠一工搬一工每片灰一十觔搬灰千觔用一工甎匠每工砌七百片石灰每甎一觔蘆蓆一百五十領靑茅五百束絲竿筀竹五十條笍子水竹一十把每把二尺圍鐝手鍬手擔土杵手每工各六十尺火頭一名受六十工部押壕寨一名管一百二十工每工日支新會一百文米二升五合欲知城墻堅積壕積壕深共用木竹橛索甎石灰蘆茅人工錢米數各防何

按題意掘土爲壕以築城城身及羊馬墻身共積卽壕身積語中未詳羊馬墻及壕周繞城外當長於城周題中未載距城尺數城墻用甎包砌當計三靣題中只計一靣皆屬疎漏防險墻應以甎長爲闊題中復言闊之尺數柱木防橛等徑方長短術艸不用其數題中亦皆載未免冗繁然古啇功之略猶可見焉故於艸中就其所問之意而攺正之

答曰城積二千三百七十八萬二千五百尺堅積墻積一百一十三萬二千五百尺堅積

壕積三千三百二十二萬尺穿積壕深八丈永定柱三萬二百條每條長三丈五尺徑一尺爬頭拽後木一十二萬八百條每條長二丈徑七寸子木三十萬二千條毎條長一丈徑三寸絍橛子三百二萬个每个長一尺方一寸絍索三百二萬條每條長一丈徑五分蘆蓆二十二萬六千五百領靑茅七十五萬五千束每束六尺圍筀竹七萬五千五百竿水竹一萬五千一百把毎把二寸圍石版一萬五千一百片城甎一千二百八十三萬三千四百九十

片石灰一千二百九十八萬四千四百九十觔用工二百萬三千七百七十工新會二十萬三百七十七貫文支米五萬九十四石二斗五升

按右答數石版城甎石灰三數俱誤餘數亦多偶合具詳艸後

術曰以啇功求之置城及墻上下廣各並之乘髙進位半之各得每丈積率並之爲共率先以每功尺除之又以諸色工各數乘之爲土功丈率次置柱木橛索乘其每條叚功得各共功次置城方一丈自之乘用甎總幅數爲實以甎長乘厚爲則法除實得城身用甎次置鵲臺座子肩子防子各髙闊長相乘爲寄並之於上次箭窻眼髙依差寸求斜深虛積減寄余爲女頭甎實以則法乘甎闊爲甎積法除之得女頭臺用磚又置防險墻髙以丈乘而半之又乘上下幅共數爲實以磚闊厚相乘爲法除之得防險墻用甎並三項用甎爲都實以毎功片爲法除之得甎匠功以每丈用石叚數求石匠工以搬每丈石求搬石工以片用灰數乘都甎得甎用灰以每丈石版數乘片用灰得石用灰並之爲甎石共灰以每工搬灰數除之得搬灰工並諸作工爲實以火頭壕寨每管人數各爲法除之得各數又並之爲都工然後以城圍通長偏乘諸項毎丈率積灰各工料得共數女頭圍【按舊圖在術前其尺數多未合今攺正移於此】

艸曰置城上廣三丈並

下廣七丈五尺得一十

丈五尺乘髙三丈得三

千一百五十尺進位【按卽

十尺乘之】得三萬一千五百

尺半之得一萬五千七百五十尺爲每丈城積率置羊馬墻闊五尺並下闊一丈得一十五尺乘髙一丈得一百五十尺進位得一千五百尺以半之得七百五十尺爲羊馬墻每丈積率並城墻二率得一萬六千五百尺爲共率以爲實以鐝鍬擔工杵手各六十尺爲法除實得二百七十五工以四色因之得一千一百工爲鐝鍬擔土杵手工置永定柱二十條乘每條栽埋工七分得一十四工又乘串鑿工三分得六工計二十工爲永定柱工置爬頭拽後木八十條乘作工三分得二十四工又乘串鑿工二分得一十六工計四十工爲爬頭拽後木工置子木二百條乘作工二分得四十工又乘搬扛工二分得四十工計八十工爲子木工置絍撅二千个乘作工七毫得一十四工絍索二千條乘作工九毫得一十八工計三十二工爲橛索共工乃以城墻女頭甎積求甎匠工置城身方一丈自乘一百尺於上次置下九幅中七幅上五幅並之得二十一幅乘上得二千一百尺甎長有寸以寸通之爲二十一萬寸爲實【按此條誤應減去三層石腳積余爲甎實方合】以甎長一十二寸乘厚二寸五分得三十寸爲則法【按則法卽甎立長靣數蓋論幅數則不用求積也】除實得七千片爲城身甎數又置鵲臺髙五寸乘闊五尺四寸得二百七十寸又乘長一丈得二萬七千寸寄上又置座子髙二尺二寸五分乘闊三尺六寸得八百一十寸又乘長一丈得八萬一千寸加寄又置肩子髙一尺二寸五分乘闊三尺六寸得四百五十寸又乘長八尺四寸得三萬七千八百寸又加寄又置防子髙一尺五寸乘闊三尺六寸又乘長六尺六寸得三萬五千六百四十寸又加寄共得一十八萬一千四百四十寸共爲寄其箭窻內外眼𨿽差三寸於斜深虛積將盈補虧與直深等以窻闊六寸乘長七寸五分得四十五寸又乘座闊三尺六寸得一千六百二十寸爲窻積【按箭眼三當三因之此用一眼數誤】以減寄餘一十七萬九千八百二十寸爲實置甎則法三十寸乘甎闊六寸得一百八十寸爲甎則法除實得九百九十九片爲女頭鵲臺共甎又置防險墻髙三尺乘每丈得三千寸以墻法當半折之得一千五百寸又乘上下五幅得七千五百寸爲實次以甎厚二寸五分乘闊六寸得一十五寸爲甎法除實得五百片爲防險墻甎次並三項甎八千四百九十九片爲毎丈用甎都實以每工七百片爲法除實得一十二工七百分工之九十九爲甎工每丈用石版十片【按此條誤應用一十六片二分】計一工搬石十片計一工甎每片用灰一觔命都甎卽甎用灰之數又置每丈用石版一十片每片用灰一十觔相乘之得一百觔爲石版用灰並甎用灰八千四百九十九得八千五百九十九觔爲甎石用灰數爲實以毎工搬一千觔爲法除之得八工一千分工之四百九十九爲搬灰工並石匠搬石二工通前列土工一千一百定柱工二十爬頭拽後木工四十子木工八十橛索工三十二甎工一十二工七百分工之九十九【按此數誤】搬灰八工千分工之四百九十九【按此數誤】石匠搬石共二工【按此數誤】並諸作工餘分不同者合分術入之共得一千二百九十四工七千分工之一千四百八十九【按甎工差多一工石工差少一工故相並之工數無差分子則差少四千八百五十二分】通分內子得一百二十九萬五千四百八十九爲眾工實置火頭每管六十人分母乘之得六萬爲法【按數誤分母七千乘六十應得四十二萬】除都工實得火頭二十一人六萬分之三萬五千四百八十九壕寨每部一百二十人就倍火頭法六萬爲十二萬亦除眾工實得壕寨十人十萬分之九萬五千四百八十九列兩余分及前諸作工餘七千分之一千四百八十九三項以合分術入之得一工不盡五十萬四十億分之三十萬二千三百六十九億四千萬分求等又約之爲八十四萬分之五十萬三千九百四十九分乃又並之共得一千三百二十六工其餘分大約百分中之五十九在半以上收爲一工共定得一千三百二十七工【按此數偶合】爲每丈都工然後以城通長徧乘乘諸項置城長一千五百一十丈乘城率一萬五千七百五十尺得二千三百七十八萬二千五百尺爲城堅積又以城長乘墻率七百五十尺得一百一十三萬二千五百尺爲墻堅積並城墻二積得二千四百九十一萬五千尺又以墟率四因之得九千九百六十六萬尺爲實以堅率三約得三千三百二十二萬尺爲壕積以爲實以壕闊三十丈並下闊二十五丈得五十五丈以半之得二百七十五尺乘壕長一千五百一十丈得四十一萬五千二百五十尺爲壕法除實得八丈爲壕深求工料共數如術以城通長徧乘丈率工永定柱爬頭拽後木子木橛子木絍索蘆蓆筀竹水竹靑茅城甎石版石灰各得以共工乘日支錢米得共錢米更不立革

按艸中法數有不合者逐條攺正如左

一題言城腳周廻鋪石版三層通身用甎包砌應於先求得一丈自乘幅數再乘之二十一萬寸數內減去三層石腳之一萬三千五百寸餘一十九萬六千五百寸爲甎實以甎則三十寸除之得六千五百五十觔爲甎數艸中卽以全積爲甎實故得數差多四百五十片

一女頭鵲臺全積一十八萬一千四百四十寸一箭窻虛積一千六百二十寸三眼應三因之得四千八百六十寸以減全積餘一十七萬六千五百八十寸爲實以一甎積一百八十寸除之得九百八十一片爲甎數艸中只減一眼虛積故得數差多一十八片

一並城墻鵲臺防險墻三甎數得共用甎八千零三十一片艸中差多四百六十八片

一題言城腳鋪石版三層應以甎闊六寸乘九幅得五十四寸以一丈乘之得五千四百寸三因之得一萬六千二百寸爲實以石之長闊相乘得一千寸爲法除之得一十六片二分艸中並無求法但云毎丈用石版十片差少六片二分

一石每片用灰十觔甎每片用灰一觔毎丈石用灰一百六十二觔甎用灰八千零三十一觔二共用灰八千一百九十三觔艸中石用灰差少六十二觔甎用灰差多四百六十八觔二共用灰差多四百零六觔

一石十片二工甎七百片一工灰千觔一工每丈應用石工三工二分四釐甎工一十一工七百分工之三百三十一灰工八工千分工之一百九十三並之又並土工一千一百工定柱工二十工爬頭木工四十工子木工八十工橛索工三十二工共得一千二百九十四工七千分之六千三百四十一艸中分子爲一千四百八十九差少四千八百五十二分

一求大頭工應以共工分母通工數內子爲實以分母通所受六十人爲法除實得火頭二十一工又一十四萬分工之八萬一千四百四十七艸中誤以千分通之故分母子數不合求壕寨應仍用前實以分母七千通所管一百二十人爲法除實得壕寨十工又二十八萬分之二十二萬一千四百四十七艸中同前誤分母子數不合

一前共工火頭壕寨三分數通而並之得二工又二十八萬分之七萬七千九百八十一然後總並之得一千三百二十七工又二十八萬分工之七萬七千九百八十一其分子不及分母十之三棄之卽以一千三百二十七工爲定數艸中分子僅進一工餘數及十之六又進一工故所得定工數亦同

一共用石版二萬四千四百六十二觔答數內差少九千三百六十二觔

一共用甎一千二百一十二萬六千八百一十觔答數內差多七萬零六百六十八觔

一共用灰一千二百三十七萬一千四百三十觔答數內差多六十一萬三千六十觔右十餘條皆依舊艸正其舛訛至立法之疎密未暇論也

樓櫓功料

問築城合蓋樓櫓六十處每處一十間防險髙四尺長三丈厚隨甎長臥牛木一十一條長一丈六尺徑一尺一寸搭腦木一十一條長二丈徑一尺防壕柱一十一條長一丈六尺徑一尺二寸副壕柱一十一條長一丈五尺徑一尺二寸掛甲柱一十一條長一丈三尺徑一尺一寸虎蹲柱一十一條長七尺五寸徑一尺仰艎板木四十五條長一丈徑一尺二寸平靣板木三十五條長一丈徑一尺二寸串掛枋木七十三條長五尺徑一尺仰板四八甎結砌三層計六千片每片用灰半觔共用紙觔一百觔墻甎長一尺二寸闊六寸厚二寸半中板瓦七千五百片一尺釘八个八寸釘二百七十个五寸釘一百个四寸釘五十个丁環二十个用工三百九十六人欲知共用工料各幾何【按防險墻每甎一片用灰一觔題內缺】

答曰臥牛木六百六十條搭腦木六百六十條防壕柱六百六十條副壕柱六百六十條掛甲柱六百六十條虎蹲柱六百六十

條串掛枋四千三百八十條仰板木二千七百條平板木二千一百條城甎四萬八千片四八甎三十六萬片石灰二十萬八千觔紙觔六千觔中板瓦四十五萬片丁環一千二百个一尺釘四百八十个八寸釘一萬六千二百个五寸釘六千个四寸釘三千个用工二萬三千七百六十人

術曰以啇功求之置墻髙乘長得寸爲實以甎闊乘厚爲法除之得用甎及用灰以處數並乘諸工料得總用工料

艸曰置墻髙四尺通爲四十寸置長三丈通爲三百寸相乘得一萬二千寸爲實以甎闊六寸乘厚二寸五分得一十五寸爲法除之得八百片爲墻甎又爲灰並四八甎灰三千觔共灰三千八百觔乃以六十處徧乘總用工料臥牛木搭腦木防壕柱副壕柱掛甲柱虎蹲柱仰板木平板木串掛枋木四八甎城甎石灰紙觔中板瓦一尺釘八寸釘五寸釘四寸釘釘環工數各項總數在前

計造石壩

問創石壩一座長三十丈水深四丈二尺令靣闊三丈石版每片長五尺闊二尺厚五寸用灰一十觔每層髙二尺差闊一尺石匠每工九片搬扛五片用工四人搬灰兼用每工一百一十觔火頭每名管六十人部押每名管一百二十人所用石湏依原叚不許鑿動欲知壩下闊及用石並灰共工各幾何

答曰壩下闊五丈石版一十萬八千片石灰一百萬八千觔用夫一十萬三千五百二十八工十一分工之八

術曰以啇功求之招法入之置層髙尺數乘靣闊及長爲初率次以差闊尺數乘髙又乘長爲次率卻以石版長闊厚相乘爲法以除二率各得石版爲上積及次積置深以層髙尺數約之得層數對二積列之一行各添一撥天地數各以累乘對約之得乘率以對上次積並之爲石版以每觔用灰乘石爲灰數以匠工片數約版得石匠以搬夫數乘石版爲實以扛片數爲法除之得人數以搬用灰數除灰得人數並諸工以火頭管數約之爲火頭半之爲部

艸曰置層髙二尺靣闊三丈相乘得六十尺又乘長三十又得一萬八千尺爲初率次以差闊一尺乘髙二尺又乘長三十丈得六百尺爲次率卻以石版長五尺闊二尺厚五寸相乘得五尺爲法以除二率得三千六百片爲初積一百二十片爲次積列右行置深四丈二尺以每層二尺約之得二十一層乘初積三千六百片得七萬五千六百片於上次置二十一層減一餘二十以乘二十一層得四百二十半之得二百一十乘次積一百二十觔得二萬五千二百片加入上共得一十萬八百片爲石版數次置二十一層減去一餘二十以差闊一尺乘之得二丈並上闊三丈共得五丈爲下闊之數又置石一十萬八百片以每工九約得一萬一千二百置石版數以搬扛四人乘之得四十萬三千二百爲實以五片爲法除之得八萬六百四十工又置石版數以每片用灰一十觔乘之得一百萬八千觔爲灰實以毎人擔用一百一十觔約之得九千一百六十三工一十一分工之七爲灰工於上又並石版工一萬一千二百及並搬扛工八萬六百四十工加上共得一十萬一千三工一十一分工之七通分內子得一百一十一萬一千四十爲實置火頭每名管六十工以乘分母一十一得六百六十爲法除實得一千六百八十三工不盡二百六十與法約之爲三十三分工之一十三爲火頭工數半之得八百四十一工三十三分工之二十三爲部押壕寨數今眾工下十一分工之七以母十一除火頭分母三十三得三以三因眾工下母子爲一十萬一千三工三十分工之二十一並三項母子得一十萬三千五百二十九工分子五十七滿母三十三收一工餘二十四與母各三約爲十一分工之八爲共用一十萬三千五百二十八工十一分工之八

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷七下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷七下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷七下﹥

築埂均功

問曰縣共興築圩埂長三十六里半甲縣出二千七百八十人乙縣出一千九百九十人丙縣出一千六百三十人丁縣出一千三百二十人其甲縣先差到一千五百四十四丙縣先差到九百六十五夫欲知各合賦役埂長幾何【裏法三百六十步】

築曰甲先到人築二千六百二十八步【計七里一百八步】丙先到人築一千六百四十二步半【計四里二百二步半】

術曰以啇功求之置裏通步作尺爲積率並諸縣人數爲均法法與率可約者約之以科率各乘先到人爲實皆法而一各得先築裏步爲先賦埂長續到人合賦功凖此求之

艸曰置三十六里五分以裏法三百六十步通之得一萬三千一百四十步又以步五尺乘之得六萬五千七百尺爲長率並甲乙丙丁縣四縣合科人得七千七百二十爲均法合法與率可求等得二十以約之率得三千二百八十五法得三百八十六以長率三千二百八十五尺乘甲縣先到人一千五百四十四夫得五百七萬二千四十人爲甲實實如法三百八十六而一得一萬三千一百四十尺以步五尺約之得二千六百二十八步爲甲縣先到人所築積步又以長率三千二百八十五乘丙縣先到人九百六十五夫得三百一十七萬二十五尺爲丙實實如法三百八十六而一得八千二百一十二尺五寸以步法五尺約之得一千六百四十二步半爲丙縣先到人所築步

計浚河渠

問通運河就土築堤令面廣六丈底廣四丈上流深八尺下流深一丈六尺長四十八里其堤下廣二丈四尺上廣一丈八尺與河等未知髙以墟四堅三爲率秋程入功每名自運築墟堅共積常六十尺築堤至半爲棚道取土上下工減五分之一限一月畢欲知河積及堤積尺共用工並日役工數及堤髙各幾何

答曰河積六千二百二十萬八千尺堤積四千六百六十五萬六千尺堤髙二丈一尺七分尺之三共用工二十四萬四千九百四十四日役工八千一百六十四五分工之四

按共用工日用工二數俱誤若以共工分工積則每工各得四百四十四尺餘其不合明矣辧詳艸後

術曰以啇功求之並河上下廣於上並河上下流深乘之又以長乘爲實以四爲法除得河積以堅率乘河積爲實以墟率爲法除得堤積並堤上下廣乘堤長半之爲法除堤積得堤髙並河堤二積以棚道母半之副置以棚道減工子乘之以棚道減工母除之得數以並其副共爲寄以子減母余乘常尺爲增子以母乘常尺爲增分並增分增子乘寄倍爲用工實以增分乘增子又乘限月日爲法除實得用人工數

艸曰置河上廣六丈並底廣四丈通之折半得五十尺於上又置河上流深八尺並下流深一丈六尺並之折半得一十二尺以乘上數得六百尺爲次置長四十八里以尺裏法二千一百六十通之得一十萬三千六百八十尺得堤河長以乘次得六千二百二十萬八千尺爲河積以堅率三因河積得一億八千六百六十二萬四千尺爲實以穿率四爲法除之得四千六百六十五萬六千尺爲堤積置上廣一丈八尺下廣二丈四尺並之爲四十二尺以乘堤長一十萬三千六百八十尺得四百三十五萬四千五百六十尺以半之得二百一十七萬七千二百八十尺爲法除堤積得二十一尺爲堤髙不盡九十三萬三千一百二十與法求等得三十一萬一千四十俱約之爲七分尺之三次置河積六千二百二十萬八十尺並堤積四千六百六十五萬六千尺得一億八百八十六萬四千尺以棚道築至半是二除之得五千四百四十三萬二千尺副之先以減工之子一【按此以下法皆誤】乘之只得此數爲實乃後以減工母五爲法除之得一千八十八萬六千四百尺並副五千四百四十三萬二千尺共得六千五百三十一萬八千四百尺爲寄以折減工五分之一以子一減母五餘四以乘常尺六十得二百四十尺爲增子以母五乘常尺六十得三百尺爲增分以二增並之得五百四十乘寄得三百五十二億七千一百九十三萬六千尺以半之得一百七十億三千五百九十六萬八千尺爲用工實【按此下又有脫誤】得八千一百六十四爲每日人工數不盡一百七十二萬八千與法求等四十三萬二千俱約之爲五分工之四得每日用工八千一百六十四工五分工之四復通分內子得四萬七百二十四以三十日乘之得一百二十二萬一千七百二十爲寔仍以母五約之得二十四萬四千三百四十四工爲共用工合問

按艸中求堤積至宻至防誠數家之要法也至減工子母乘除而下則法與數皆有誤焉蓋題言棚道減工五分之一是棚道爲平道四分之五也四爲分母五爲分子應以分子五乘上下積五千四百四十三萬二千尺得二億七千二百一十六萬尺以分母四乘副半積得二億一千七百七十二萬八千尺並之得四億八千九百八十八萬八千尺爲實以分母四乘常尺六十得二百四十尺爲法除實得二百零四萬一千二百工爲共工數以一月三十日除之得六萬八千零四十工爲每日工數或置分子五乘上半積之得數於上又並分子母得九乘常尺六十得五百四十尺乘上數得一千四百六十九億六千六百四十萬尺爲實以分母四乘六十尺得二百四十尺爲增母以分子五乘六十尺得三百尺爲增子增母子相乘得七萬二千尺爲法除實得共工數亦與前同此特不用副半積數然不若前法之省艸中以五爲分母以一爲分子母子旣以顚倒而又以余分爲分子後𨿽易一爲四而母子之名未正故其中累乘累除之數漫無可據而所差甚逺也

圍田先計

問有艸蕩一所廣三里縱一百一十八里夏日水深二尺五寸與溪靣等平溪闊一十三丈流長一百三十五里入湖冬日水深一尺欲趁此時圍成田於蕩中順縱大港一條磬折通溪順廣小港二十四條其深同其小港闊比大港六分之一大港深比大港靣三分之一大小港底各不及靣一尺取土爲埂髙一丈上廣六尺下廣一丈二尺蕩縱當溪其岸髙廣倍其埂數上下流各立斗門一所湏令田內止容水八寸遏餘水復溪入湖裏法三百六十步步法五尺欲知田積埂土積大小港底靣深闊冬夏積水田港容水過水溪靣泛髙幾何

按題意掘土爲港卽以其土四邊爲埂當溪者髙闊倍之餘三邊等語皆未詳

答曰田積一千八百六十六頃八畆二十四步埂土積九百六十五億五千二百萬立方寸大港靣闊六丈一尺七寸底闊六丈七

寸深六尺八寸小港靣闊一丈二寸六分寸之五底闊九尺二寸六分寸之五深六尺八寸夏積水二萬八千六百七十四億立方寸冬積水一萬一千四百六十九億六千萬立方寸田容水九千七十二億六千九百一十二萬立方寸港容水九百六十五億五千二百萬立方寸【港上者在田內】遏出水一萬八千六百三十五億七千八百八十八萬立方寸溪靣泛髙一尺三寸一十三萬一千六百二十五分寸之一萬四千四百一十一

按題言大港深比大港靣三分之一答數中大港靣六丈一尺七寸深六尺八寸是九之一不足而非三之一矣此數與題不合以下俱誤﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷七下﹥

艸曰先通步法爲五十寸通三百六十步得一萬八千寸爲裏法以裏法通蕩廣三里得五萬四千爲廣率又通蕩縱一百一十八里得二百一十二萬四千爲縱率以縱並廣率得二百一十七萬八千爲和以縱率乘廣率得一千一百四十六億九千六百萬爲寄三因縱率二百一十二萬四千得六百三十七萬二千於上倍和二百一十七萬八千得四百三十五萬六千加上得一千七十二萬八千爲叚次以埂上廣六尺並下廣一丈二尺得一十八尺乘半埂髙五十寸得九千寸又乘叚一千七十二萬八千得九百六十五億五千二百萬爲土積亦爲港容水以港闊母六因土積得五千七百九十三億一千二百萬爲實以闊子一乘小港二十四條又乘廣率五萬四千得一百二十九萬六千爲泛以闊母六因縱率二百一十二萬四千得一千二百七十四萬四千並泛得一千四百四萬爲隅平方【按大港闊六分差一尺小港闊一分差一尺故此法不免有差】得二百三寸不盡七百三十七萬六千四百收爲所得一寸乃得二百四寸爲堢以深子一乘之以深母三除得六尺八寸爲大小港等深次以深母三因堢二百四寸得六百一十二寸爲實如深子一而一得六丈一尺二寸爲中以不及一尺半之得五寸加中得六丈一尺七寸【按如此則不成分數矣】爲大港靣闊如母六而一得一丈二寸六分寸之五爲小港靣以不及一尺各減大小港靣得六丈七寸爲大港底得九尺二寸六分寸之五爲小港底次以埂下廣一丈二尺乘叚一千七十二萬八千寸得一十二億八千七百三十六萬爲址以大港靣六丈一尺七寸乘隅一千四百四萬得八十六億六千二百六十八萬爲實以闊母六除之得一十四億四千三百七十八萬爲港平以並址一千二億八千七百三十六萬得二十七億三千一百一十四萬減寄一千一百四十六億九千六百萬餘一千一百一十九億六千四百八十六萬爲田積寸以步法五十寸自乘得二千五百除積寸得四千四百七十八萬五千九百四十四步爲田積步以畆法二百四十步約之得一千八百六十六頃八畆不盡二十四步爲田積以址一十二億八千七百三十六萬減寄一千一百四十六億九千六百萬餘一千一百三十四億八百六十四萬乘令容水八寸得九千七十二億六千九百一十二萬爲田容水次以夏水深二尺五寸乘寄一千一百四十六億九千六百萬得二萬八千六百七十四億寸爲夏積水次以冬水深一尺乘寄得一萬一千四百六十九億六千萬寸爲冬積水乃以田容水九千七十二億六千九百一十二萬並港容水九百六十五億五千二百萬得一萬三十八億二千一百一十二萬減夏積水二萬八千六百七十四億寸餘一萬八千六百三十五億七千八百八十八萬爲遏出水當以八節乘之嵗日三百六十除之爲實今從省先以八節約嵗日三百六十得四十五爲率次以裏法一萬八千寸通流長一百三十五里得二百四十三萬又乘溪闊一十三丈得三十一億五千九百萬以乘除率四十五得一千四百二十一億五千五百萬爲法除遏出水一萬八千六百三十五億七千八百八十八萬得一尺三寸爲溪靣泛髙不盡一百五十五億六千三百八十八萬與法一千四百二十一億五千五百萬求等得一百八萬俱以約之爲一十三萬一千六百二十五分寸之一萬四千四百一十一爲泛髙寸下分母之數合問

按艸中自求大小港闊深以後旣與題問不合且法多疎漏今以立天元一術推明求大小港闊深之法於後至田積水積等不過冪積體積相較初無深義可無論也

法立天元一爲一分六因之得六元爲大港闊減十寸得六元少十寸爲大港底闊並之得十二元少十寸以半深一元乘之得十二平方少十元以縱率因之得二千五百四十八萬八千平方少二千一百二十四萬元又以天元一爲小港闊減十寸得一元少十分爲小港底闊並之得二元少十寸以半深一元因之得二平方少十元以二十四廣率因之得二百五十九萬二千平方少一千二百九十六萬元並二數得二千八百零八萬平方少三千四百二十萬元與土埂共積等而邊各以一萬除之得二十八百零八平方少三千四百二十元與九百六十五萬五千二百寸等三數又求等得三十六徧約之得七十八平方少九十五元與二十六萬八千二百寸等乃以寸數爲實以元數爲縱以方數爲隅帶縱平方得方邊爲一分數五尺九寸【二五○五三二九】卽小港闊減一尺得四尺九寸【二五○五三二九】爲小港底闊六因一分數得三丈五尺五寸【五三○一九七三】爲大港闊減一尺得三丈四尺五寸【五○三一九七三】爲大港底闊二因一分數得一丈一尺八寸【五○一○六五八】爲同深以此轉求共港容水數乃與共土埂原積數相合

數學九章卷七下﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹥

欽定四庫全書

數學九章卷八上

宋秦九韶撰軍旅

計立方營

問一軍三將將三十三隊隊一百二十五人遇暮立營人占立地方八尺須令隊間容隊師居中央欲知營方幾何

答曰方營一百七十一丈隊方九丈

術曰以少廣求之置人占方冪乘每隊人爲隊實以一爲隅開平方所得爲隊方圖【或開不盡就爲全盡】次置隊數乘將數又四因之增三爲寔以二爲從隅開平方得率以乘隊方面爲營方面【開不盡爲全數】

按舊圖各隊四眼內每人作一小圓爲識今去之總圖內各隊仍畫四眼今只以一小方爲一隊舊總圖太大難於撿閱今收入半頁內又按總圖內系百隊算內只有九十九隊圖中應虛一隊舊本未詳

艸曰置人占八尺自乘得六十四尺爲人占方冪以乘每隊一百二十五人得八千尺爲寔以一爲隅開平方步法常超一位今隅超一度至寔之百下約寔置啇八十尺以啇八十生隅一得八十爲方乃命上啇除寔訖實餘一千六百次以啇生隅入方得一百六十畢方一退隅再退之復於上啇之次續啇九尺乃以續啇九生隅一入方得一百六十九乃命續啇除寔訖得八十九尺不盡七十九尺就爲九十尺得隊方面次置三十三隊乘三將得九十九又四因得三百九十六增三得三百九十九爲寔以二爲從方一爲從隅開平方步法以從方進一位至寔之十下隅隅超一位至寔之百下乃約寔置啇一十生隅一入方得一十二乃命上啇除寔訖餘二百七十九又以啇一十生隅入方得二十二畢方一退隅再退之續於寔上啇九隊以續啇九生隅入方得三十一乃命續啇除寔適盡得一十九乘隊方面九十得一千七百十尺展爲營方一百七十一丈合問

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷八上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷八上﹥

方變鋭陣

問步兵五軍軍一萬二千五百人作方陣人立地方八尺欲變爲前後鋭陣陣後闊令多原方面半倍陣間仍容騎路五丈以上順鋭形出入求方陣面鋭陣長及前後鋭陣各布兵幾何

答曰方面二百丈方面布兵二百五十人鋭後廣二百丈鋭廣列共三百六十二人鋭通正長三百丈騎路二條各闊五丈三尺內鋭陣廣一百四十五丈六尺列一百八十二人長一百四十五丈六尺計布兵一萬六千六百五十三人外鋭兩廣各七十二丈列九十人計布兵四萬五千八百四十七人

按鋭陣數惟內鋭數合外鋭通廣丈數及布兵數皆不合詳見艸後

術曰以少廣求之置兵開平方得方面人數【開不盡方爲補隊】以人立尺數乘之爲原方面置原方面以欲多數加之爲鋭後闊亦爲通長倍馬路減之餘爲實以人立尺約爲闊布兵不盡半歸馬路以四約闊布兵得外鋭一邊人倍一邊人並不歸爲內鋭長闊人數副置減一餘乘其副得數半之爲內鋭布兵以減總兵余爲外鋭布兵

計立六萬二千五百人鋭後廣通長各三百丈內鋭立一萬六千六百五十三人外鋭立四萬五千八百四十七人【按舊圖式不細且在題後今攺正移於此】

艸曰置一軍一萬二千五百以五軍因之得總兵六萬二千五百人爲寔開平方得二百五十人以人立八尺乘之得方面二百丈置二百丈加半倍一百丈得三百丈爲鋭陣後闊亦爲鋭陣道長先倍騎路五丈得一十丈以減後闊二百丈餘二百九十丈爲實以人立八尺約之得三百六十二爲鋭後闊布兵不盡四尺以半之得二尺軰歸騎路作五丈二尺以四約鋭後闊布兵三百六十二人得九十人爲外鋭一邊人倍一邊九十得一百八十並不盡二人共得一百八十二人爲內鋭廣布兵數亦爲長布兵副置加一得一百八十三乘副一百八十二得三萬三千三百六以半之得一萬六千六百五十三人爲內鋭陣布兵以減總兵六萬二千五百餘四萬五千八百四十七人爲外鋭兵

按艸中以內鋭陣兵數減前方陣兵數余爲外鋭陣兵數非是蓋無以知兩總數爲相等也試以數明之依束箭法以總闊求得總三角數七萬零五百以鋭闊求得內三角數一萬六千六百五十三又以每人八尺除兩騎路濶十丈零四尺得一十三人與內鋭闊相加得闊二百求得內外間三角數二萬零一百置總三角數減內外間三角數加內三角數得六萬七千零五十三與前方陣兵數相較多四千五百五十三安得謂之等乎今另設步法於後

法設騎路之闊當二十人先以總三角數與前方陣數相減得今多八千人乃倍騎路闊人數得四十人爲截騎路上小三角之闊求得小三角數八百二十以減今多數餘七千一百八十爲寔以四十爲法除之得一百七十九人爲內鋭闊餘二十人依術內不盡者爲補隊兵次置總闊減去內闊餘一百九十六人再減並騎闊四十人餘一百五十六人半之得七十八人爲外後闊是內鋭闊長皆爲一百七十九人外鋭長爲三百七十五人後兩闊共一百五十六人騎路闊二十人乃以內鋭闊求得內三角數一萬六千一百一十人以內闊並兩騎闊得二百一十九人爲闊求得內外間三角數二萬四千零九十人未置總三角數內減去內外間三角數餘四萬六千四百一十人加內三角數得六萬二千五百二十人再減補隊兵二十人得六萬二千五百人與方陣總兵原數脗合

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷八上﹥

圓營敷布

問周制一軍欲布圓營九重毎卒立圓邊六尺重間相去比立尺數倍之於內摘差兵四分之一出奇不可縮營示弱須令仍用原營布滿餘兵欲知原營內外周及立人數並出奇後每卒數立尺數外周人數各幾何

答曰周制一軍一萬二千五百人出奇三千一百二十五人原內周八百四丈立一千三百四十人原外周八百六十一丈六尺立一千四百三十六人出奇後原外周立一千八十九人原內周立一千一十六人內外周人立七尺九寸一分

術曰以啇功求之置重數減一餘爲叚以叚乘圓差爲衰以衰乘重數爲率求圓周以率減兵餘如重數而一得內周人數不滿爲餘兵以人立圓邊乘內周人得內周尺倍衰乘圓邊爲泛以泛並內周尺得外周尺爲實如圓邊而一得外周人求出奇後以率加存兵如重數而一得外周人不滿爲餘兵以外周人約原外周尺得後立尺以後立尺約原內周得內周人

按求圓陣艸中用圓束法圓束實六等邊形非圖形也蓋圓形重數相距等則弧邊上相距不等弧邊上相距等則重數相距不等惟圓束可並取相等故用其法至次陣減人數不減營周尺數則各重周上相距不能相等故艸中又以尺數求內周人數然未免與圓束逐層相差數不合亦僅取其大略也又舊用二圖各防爲圓周九重今用一圖防爲六等邊形三重惟取易見則二圖九重其理一也

艸曰置九重減一餘八爲叚以乘圓束差六得四十八爲衰【按圓束每層差不今內外重數相距倍於人立相距則每層差一十二爲倍差常法重數減一與半差相乘爲衰今倍差故卽與差數相乘爲衰也】九重得四百三十二爲率

求原周以率四百三十二減周制一軍一萬二千五百餘一萬二千六十八爲實如重數九而一得一千三百四十人爲內周人數不滿八人爲餘兵

次以人立圓邊六尺乘內周人一千三百四十得八千四十尺收作八百四丈爲內周尺數

倍衰四十八得九十六乘圓邊六尺得五百七十六尺爲泛

以泛五百七十六尺並內周八千四十尺得八千六百一十六尺爲外周尺

以外周尺八千六百一十六爲實如圓邊六尺而一得一千四百三十六人爲外周人數

求出奇後以奇母四約一萬二千五百得三千一百二十五爲奇兵以減總軍餘九千三百七十五爲存兵次以率四百三十二加之得九千八百七十爲實加重數九而一得一千八十九爲外周人不盡六

次以原外周八千六百一十六尺爲實以外周人一千八十九約之得七尺九寸一分不盡二尺一分與法求等得三俱約之爲分下三百六十三分之六十七

置原內周八千四十尺爲實以後立尺七尺九寸一分約之得一千一十六爲內周人數不盡三尺四寸四分爲寛地

本術所求內外周之人數旣定不拘奇出奇入皆以六人爲重差或累差加減各得諸重圍數或並九重人課總軍存兵

計布圓陣

問步率二千六百人爲圖陣人立圓九尺形如車輻無麗布陣陣重間倍人立圓邊尺數須合內徑七十二丈圓法用周三徑一之率欲知陣重幾數及內外周通徑並所立人數各幾何

答曰內周二百一十六丈立二百四十人外周三百二丈四尺立三百三十六人通徑一百丈八尺陣計九重【不盡八人】

術曰以啇功求之以圓率因內徑爲內周以人立尺約之爲內周人數乃以圓求差率爲隅次置內周人減隅余約從方列兵數爲寛開平方得重數不盡爲餘兵置重數減一餘四因又乘圓邊尺數並內徑共爲通徑以圓率因通徑得外周

按舊本有圖前題同今刪去

艸曰以圓率三因內徑七十二丈得二千一百六十尺爲內周以圓邊九尺約內周得二百四十爲內周人數乃以圓束差六爲從隅次置內周二百四十人減隅餘二百三十四爲從方列兵二千六百爲寔開平方步法從方進一位隅法超一位今方隅皆不可超進乃於寔約啇置九重以啇生隅六得五十四增入從方內共得二百八十八乃命上啇九重除寔訖寔餘八人爲餘兵副置九重減一餘八以四因之【按九重八間徑両端應二因之間倍於立步又應二因之今合爲四因】得三十二又乘圖邊九尺得二百八十八尺並內徑七百二十尺得一千八尺爲通徑又以圓率三因通徑得三千二十四尺爲外周次以圓邊九尺爲法除外周尺數得三百三十六人爲外周人數合問

按圓束環積有內周求重數法置積爲寔圓束差半之爲從隅又以半差減內周餘爲從方開平方得重數此圓束環積每層爲倍差故卽以圓束差爲從隅減內周爲從方也又按周三徑一正與六邊形相合故人數尺俱無奇零也

數學九章卷八上

欽定四庫全書

數學九章卷八下

宋秦九韶撰軍旅

軍器功程

問今欲造弓刀各一萬副箭一百萬隻據工程七人九日造弓八張八人六日造刀五副三人二日造箭一百五十隻作院見管弓作二百人刀作五百四十人箭作二百七十六人欲知畢日防何

答曰造弓一萬張三百九十三日四分日之三造刀一萬副一百七十七日九分日之七造箭一百萬隻一百四十四日二百七分日之一百八十二【按六十九分之六十四訛二百七分之一百八十二】

術曰以粟米求之互換入之置各功程原人率於右行置原日數於中行置欲求數爲左行以三行對之爲各實列右行置原物數於中行置見人爲左行以左行乘中行各爲法以對除右行各得日數艸曰置原造弓七人造刀八人造箭三人於右行次置造弓九日造刀六日造箭二日列中行又置於造弓一萬欲造刀一萬欲造箭一百萬列左行以三行對乘

次列原造弓八張刀五副箭一百五十隻放中又列見管弓作二百人刀作五百四十人箭作二百七十六人於左行

以兩行對乘之上得一千六百中得二千七百下得四萬一千四百各爲法

先以上法一千六百除寄右行弓日實六十三萬日得三百九十三日爲造弓一萬張日數

不盡一千二百與法求等得四百俱約之爲四分日之三

次以中得二千七百除寄右行刀日實四十八萬日得一百七十七日爲造刀一萬副日數

不盡二千一百與法求等得三百俱約之爲九分日之七

次以下法四萬

百除寄右行箭日實六百萬日得一百四十四日爲造箭一百萬隻日數

不盡三萬六千四百日與法四萬一千四百求等得二百俱以約之得二百七分日之一百八十二爲造箭日分合問【按不盡數三萬八千四百誤爲三萬六千四百分母六十九訛二百零七分子六十四訛一百八十二】

計造軍衣

問庫有布綿絮三色計料欲制軍衣其布六人八疋少一百六十疋七人九疋剰五百六十疋其綿八人一百五兩剰一萬六千五百兩九人一百七十兩剰一萬四千四百兩其絮四人一十三斤少六千八百四斤五人一十四斤適足欲知軍士及布綿絮各幾何答曰兵士一萬五千一百二十人布二萬疋綿三十萬兩絮四萬二十三百二十六斤

術曰以盈拙求之置人數於左右之中置所給物各於其上置盈拙各於其下令維乘之先以人數互數乘其所給率相減余爲法次以人數相乘爲寄後以盈拙互乘其上未減者是謂未乘驗其下系一盈一拙以上下皆並之爲物其上並之實其下並之乘寄爲兵寔如法而一各得驗其系兩盈或兩拙者以上下皆相減之其上減之餘爲物寔其下減之餘乘寄爲兵寔二寔皆如法而一各得驗其或一盈一足或一拙一足者其適足乃以空互乘其上未減者去之只以所用盈拙數互乘其上爲物寔以盈或拙一數乘寄爲兵寔皆如法而一各得

求布艸曰置布於六人左中八疋於左朏上一百六十四疋於左下置七人於右中九疋於右上盈百五六十於布下先以左右之中六七互乘左右之上訖左上得五十五右上得五十四以相減之餘二爲法次以左右中六七相乘得四十二爲寄於中次以左下虧一百六十乘右上未減五十四得八十六百四十又以右下盈五百六十乘左上未減五十六得三萬一千三百六十驗得左右之下系一盈一朏當並之以三萬一千三百六十並右上八千六百四十得四萬爲布實次以左下朏一百六十並左下盈五百六十得七百二十乘寄四十二得三萬二百四十爲兵實二實皆如法二而一得二萬疋爲布得一萬五千一百二十爲兵

求布圖

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷八下﹥

求綿艸曰置八人於左中綿一百五十兩於左上餘一萬六千五百兩於左下次置九人於右中一百七十兩於右上餘一萬四千四百兩於右下以左右中八九五乘各上訖左上得一千三百五十右上得一千三百六十相減餘一十爲法次以中八九相乘得七萬二爲寄於中次以左下一萬六千五百乘右上一千三百六萬得二千二百四十四萬卻以右下一萬四千四百乘左上一千三百五十得一千九百四十四萬驗其下系兩盈當相減之其右上餘三百萬爲綿實其左右之下亦相減之餘二千一百乘寄七十二得二十五萬一千二百爲兵實二實皆如法一十而一綿得三十萬兩兵得一萬五千一百二十人

求綿圖

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷八下﹥

求絮艸曰置四人於左中一十三觔於左上少六千八百四觔於左下又置五人於右中一十四觔於右上適足爲空於右下以左右之中四五互乘其上訖左上得六十五右上得五�六利減餘九爲法以中四五相乘得二十爲寄於中先以左下六千八百四互乘右上五十六得三十八萬一千四百二十卻以右適足之空乘左上六十五亦爲空乃去之只以右上三十八萬一千二十四觔爲絮實只以左下六千八百四乘寄二千人得一十三萬六千八十爲兵實二實皆如法九而一具絮得四萬二千三百三十六觔其兵得一萬五千一百二十人合問

求絮圖﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷八下﹥

已上布綿絮三項求人兵數皆同今仍於各圖立算求之以合本術

先計軍程

問一軍三將三十隊隊七十五人每將分左右傔作九行爬頭拽行每日六十里明日路狹以軍拽行至晚欲知先宿程里數幾何

答曰六里二百四十步

術曰以均輸求之置行數爲法以單數一行乘日程爲寔寔如法兩一得宿程裏步

艸曰置行數九爲法以單傔數一行用乘六十里爲寔寔如法而一得六十不盡六里以裏法三百六十步通之得二千一百六十步又爲寔仍如法九而一得二百四十步爲六里二百四十步宿程

按此艸易見舊有算式今刪

移運均勞【分郡縣鄕科均】

問今起夫移運縣餉於某郡交納合起一萬二千夫甲州有三縣上縣力五十七萬三千二百五十九貫五百文至輸所九百二十五里中縣力五十萬四千九百八十三貫七百八十文至輸所六百五十二里下縣力四十九萬八千七百六十貫九百五十文至輸所四百六十五里乙軍倚郭一縣五鄕仁鄕力一百二萬八千三百七十一貫九百八十文至輸所七百

六里義鄕力一

六百文至輸所七百九十五里禮鄕力一十萬八千四百六十三貫五十文至輸所七百九十里智鄕力八萬四千千二百三十六貫二百八十五文至輸所七百十九里信鄕力九千三百四十五貫一百六十六文至輸所八百四里欲知以物力多寡道裏逺近均運之令費勞等各合科夫幾何

答曰甲州上縣差二千四百三十夫中縣差三千三十七夫下縣差四千二百六夫乙軍郭縣仁鄕七百一十三夫義鄕五百八十九夫

禮鄕五百三十八夫智鄕四百四十一夫信鄕四十六夫

術曰以均輸求之置各縣及鄕力皆如裏而一不盡者約之復通分內子互乘之或就母遷退之各得變力可約約之爲定力副並爲法以合起夫徧乘未並定力各得爲實並如前法而一各得夫其餘分軰之艸曰置甲州三縣及乙軍五鄕物力里數作八行列之具圖於後

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷八下﹥

置上縣力五十七萬三千二百五十九貫五百文如九百二十五里而一得力六十一萬九千七百四十置中縣五十萬四千九百八十三貫七百八十文如六百五十二里而一得力七十七萬四千五百一十五置下縣四十九萬八千七百六十貫九百五十如四百六十五里而一得力一百七萬二千六百四不盡九十文與法求等得十五約之得三十一分之六置仁鄕一十二萬八千三百七十一貫九百八十如七百里而一得力一十八萬一千八百三十置義鄕鄕一十一萬九千四百七十二貫六百文如七百九十五里而一得力一十五萬二百八十置禮鄕一十萬八千四百六十三貫五十文如七百九十而一得力一十三萬七千二百九十五置智鄕八萬四千二百三十六貫二百八十五文如七百四十九里而一得力一十一萬二千六百四十五置信鄕九千三百四十五貫一百六十文如八百四里而一得力一萬一千二百六十三不盡二百六十八文與法求等得二百六十八約爲三分之一其下縣信鄕二處帶母子者各以母互徧乘八處所得畢二處各內本子上得五千七百六十三萬五千八百二十中得七千二百二萬九千八百九十五下得九千九百七十五萬二千一百九十仁得一千六百九十一萬一百九十義得一千三百九十七萬六千四十禮得一千二百七十六萬八千四百三十五智得一千四十五萬九千二百四十五信得一百八萬九百七十已上爲三鄕五縣變力率可約者復求等約之求得五故俱以五約之上得一千一百五十二萬七千一百六十四中得一千一百四十萬五千九百七十九下得一千九百九十五萬四百三十八仁得三十八萬二千五十八【按三十八訛五十八】義得二百七十九萬五千二百八禮得二百五十五萬三千六百七十八智得二百九萬一千八百四十九信得二十一萬六千一百九十四已上並爲定力副並八處定力得五千六百九十二萬二千五百七十七爲法【按法多二十仁鄕定力多二十故也】以合起一萬二千夫徧乘定力訖上得一千三百八十三億二千五百九十六萬八千爲實中得一千七百二十八億七千一百四十七萬八千爲中實下得二千三百九十四億五百二十五萬六千爲下實【按】得四百五億八千四百六十九萬六千【按多二十四萬定力多二十故也】爲仁實義得三百三十五億四千二百四十九萬六千爲義寔禮得三百六億四千四百二十萬萬四千爲禮寔智得三百五十一億二百一十八萬八千爲智寔信得二十五億九千四百三十二萬八千爲信寔已上八寔皆如前法而一餘分軰之各得夫數合

均敷徑役

問軍戍差坐烽擺鋪切慮差徑不均今諸軍共合差一千二百六十人契勘諸軍見管前軍六千一百七十人右軍四千九百三十六人中軍七千四百四人左軍三千七百二人後軍二千四六十八人各軍合差幾何

答曰前軍差三百一十五人右軍差二百五十二人中軍差三百七十八人

軍差一百八十九人後軍差一百二十六人

術曰以均輸求之置各軍見管人驗可求約等以約之爲衰副並爲法以共合差數乘列衰各爲寔寔如法而一各得

艸曰置諸軍見管求等得一千二百三十四俱以約見管前軍得五右軍得四中軍得六左軍得三後軍二列爲各衰副並諸衰得二十爲法以共差一千得二百六十人乘諸衰前軍得六千三百右軍得五千四十中軍得七千五百六十左軍得三千七百八十後軍得二千五百二十各爲寔皆如法二十而一前軍合差三百一十五人右軍合差二百五十二人中軍合差三百七十二人左軍合差一百八十九人後軍合差一百二十六人

數學九章卷八下﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹥

欽定四庫全書

數學九章卷九上

宋秦九韶撰市易

積木計余

問原管杉木一尖垜偶不記數從上取用至中間見存九條爲靣問原木及見存各幾何

答曰原木一百五十三條見存木一百一十七

條

術曰商功求之堆積入之倍中靣副置減一以乘其副得數半之爲原木副置上層減一以乘其副得數半之用減原木余爲見存【其非中一層數者各以自地上至面層數立數求之】艸曰倍中靣九條得一十八副置減一餘一十七以乘副一十八得三百六條以半之得一百五十三條爲原木之數副置中靣九條減一餘八以乘副九得七十二以半之得三十六以減原木一百五十三餘一百一十七條爲見存木數合問

按此卽一靣平堆形中層爲九上下必各有八層共十七層卽原尖堆形上八層卽用過尖堆形其義甚明舊餘木圖今刪

竹圍蘆束

問受給場交收竹二千三百七十四把內筀竹一千一百五十一把每把外圍三十六竿水竹一千二百二十三把每把外圍四十二竿蘆三千六十五束每束圍五尺其蘆原樣五尺五寸今納到圍小合凖原蘆幾束及水筀竹各幾何

答曰筀竹一十四萬六千一百七十七竿水竹二十萬六千六百八十七竿合凖原蘆二千五百三十三束【一百二十一分束之七】

術曰以方田及圓率求之置原束差並竹外圍竹數以乘外圍又乘把數爲竹實倍圓束差爲竹法除之各得二竹數皆以把數爲心加入各得竹條數置蘆圍尺數自乘以乘蘆束爲蘆實以蘆原尺數自乘爲蘆法除實得所凖蘆束數

艸曰置圍束差六並筀竹外圍三十六竿得四十二竿以乘外圍三十六竿得一千五百一十二竿又乘筀竹一千一百五十一把得一百七十四萬三百一十二竿爲筀竹實倍圓束差六得一十二爲竹法除實得一十四萬五千二十六竿以把數一千一百五十一並之得一十四萬六千一百七十七竿爲筀竹又置原差六並水竹外圍四十二竿得四十八竿以乘水外圍四十二竿得二千一十六竿又乘水竹一千二百二十三把得二百四十六萬五千五百六十八竿爲水竹實亦以竹法一十二除之得二十萬五千四百六十四竿以水竹把數一千二百二十三並之得二十萬六千六百八十七竿爲水竹數次置蘆圍五尺通爲五十寸以自乘得二千五百寸又乘蘆束數三千六十五得七百六十六萬二千五百寸爲蘆實以原樣蘆圍五尺五寸亦通爲五十五寸以自乘得三千二十五寸爲蘆法除實得二千五百三十三束不盡一百七十五寸與法求等得二十五俱以約之得一百二十一分束之七爲蘆二千五百三十三束一百二十一分束之七合問

寄倉知總【按舊本此問無題今增】

問和糴米運借倉權頓計五十厫毎厫濶一丈五尺深三丈米髙一丈二尺又借寺屋四十間內二十五間濶一丈二尺深二丈五尺米髙一丈內一十五間各濶一丈三尺深三丈米髙一丈二尺欲知寺屋及倉容米共計幾何

答曰共計米一十六萬六千八十石倉五十厫米一十萬八千石寺屋四十間米五萬八千八十石

術曰啇功求之置厫並屋深濶米髙相乘並之爲實如斛法而一

艸曰先以厫深三丈通爲三十尺乘濶十五尺得四百五十尺又乘髙一十二尺得五千四百尺以乘五十厫得二十七萬尺爲實以斛法二尺五寸除之得一十萬八千石爲倉五寸厫共容米次置寺屋深二十五尺乘濶一十二尺得三百尺乘米髙一十尺得三千尺以二十五間乘之得七萬五千尺於上次置深三十尺乘濶一十三尺得三百九十尺又乘米髙十十二尺得四千六百八十尺以乘一十五間得七萬二百尺加上共得一十四萬五千二百尺以斛法二尺五寸除之得五萬八千八十石爲寺屋四十間共容米以並厫米共得一十六萬六千八十石爲共和糴到米

方圓同積【按舊本此問無題今增】

問有圓囤米二十五个內有大囤一十二个上徑一丈下徑九尺髙一丈二尺小囤一十三个上徑九尺下徑八尺髙一丈今出租斗一隻口方九寸六分底方七寸正深四寸並裹明凖尺令凖數造五斗方斛及圓斛各二隻湏令二斛口徑正深大小不同各得多少及囤積米幾何

答曰方斛一隻口方六寸四分底方一尺二寸深一尺五寸九分二釐又一隻口方一尺底方一尺二寸深一尺一寸四分五釐圓斛一隻口徑一尺二寸七分底徑一尺二寸深一尺二寸一分四釐又一隻口徑一尺三寸底徑一尺二寸深一尺一寸八分五釐囤米計八千六十七石四升七合四勺一抄八撮按共囤米數誤應得二千零一十六石七斗六升一合八勺五抄艸內少一四歸故差多三倍

術曰以啇功及少廣求之置出斗上下方相乘之又各自乘並之乘深又以五斗乘之爲積於上求方斛先自如意立數爲斛深又如意立數爲底方置深爲從隅以底方乘隅爲從方又以底乘從方爲減率以減上積余爲實開連枝平方得方斛口方不盡以所得數爲基增損求之以口底方相乘又各自求並之爲法除前上積得深余分収棄之求圖斛置四數以因前積爲寄如意立數爲斛深別如意立數爲底徑以三因深爲從隅以底徑乘隅爲從方以底徑乘從方爲減率以減寄余爲實開連枝平方得口徑不盡以所得數爲基如意求差以口底徑相乘又各自乘並之爲法除寄得深余分収棄之求囤米置各囤上徑下徑相乘又各自乘並之乘髙又乘囤數所得之數爲積【囤有大小以類】並之爲共積如四而一爲實以斛求之得米

艸曰置出租斗口方九寸六分與底方七寸相乘得六十七寸二分於上又於口方九寸六分自乘之得九十二寸一分六釐加上又以底方七寸自乘得四十九寸又加上共得二百八寸三分六釐乘深四寸得八百三十三寸四分四釐又以五斗乘之得四千一百六十七寸二分爲三叚斛積於上求方斛如意立一尺六寸爲斛深又加意立一尺二寸爲斛底以深一十六寸爲從隅以底一十二寸乘隅得一百九十二寸爲從方又以底一十二寸乘從方一百九十二寸得二千三百四寸爲減率以減上積四千一百六十七寸二分餘一千八百六十三寸二分爲實開連枝平方得六寸三分五釐爲基其積不及一寸一分六釐系有虧數其基數爲米可用湏合損益基數今益作六寸四分爲口方以原立一尺二寸爲底方以口方乘底方得七十六寸八分以上又以口方六寸四分自乘得四十寸九分六釐又以底方十二寸自乘得一百四十四寸並以上共得二百六十一寸七分六釐爲法以除前積四千一百六十七寸二分得一尺五寸九分二釐爲方斛深其積不及一釐九毫二絲収爲閏又累增至一十寸爲口方仍以一十二寸爲底方乃以口方一十寸乘底方一十二寸得一百二十寸於上又口方自乘得一百寸加上又以底方自乘得一百四十四寸又加上共得三百六十四寸爲法亦除前實積四千一百六十七寸二分得一十一寸四分五釐爲方斛深其積不及六分収爲閏此是求出両等斛數在人擇而用之求圓斛置四數以因前積四千一百六十七寸二分得一萬六千六百六十八寸八分爲寄如意立一尺二寸爲圓斛深又如意立一尺爲底徑以三因深得三十六寸爲從隅以底一十寸乘隅得三百六十寸爲從方又以底一十寸乘從方得三千六百寸爲減率以減寄一萬六千六百六十八寸八分餘一萬三千六十八寸八分爲實開連枝平方得一尺四寸七分爲基其實不及二寸四分四釐収爲閏次以原立底徑一尺並基一尺四寸七分得二尺四寸七分只減七分爲差以餘三尺四寸以半之得一尺二寸爲底徑以差七分並底徑得一尺二寸七分爲口徑始以口徑一尺二寸七分乘底徑一尺二寸得一百五十二寸四分於上次以口徑自乘得一百六十一寸二分九釐加上又以底徑自乘得一百四十四寸又加上共得四百五十七寸六分九釐以三因之得一千三百七十三寸七釐爲法除前寄一萬六千六百六十八寸八分得一尺二寸一分四釐爲圓斛正深其實不及二毫六絲九忽八微収爲閏又以基一尺四寸七分增三分得一尺五寸並底徑一尺得二尺五寸減一寸爲差餘二尺四寸以半之得一尺二寸爲底徑以差一寸並底徑一尺二寸得一尺三寸爲口徑始以口徑一十三寸乘底徑一尺二寸得一百五十六寸於上又以口徑一十三寸自乘得一百六十九寸加上又以底徑一十二寸自乘得一百四十四寸又加上共得四百六十九寸以三因之得一千四百七寸爲法除前寄一萬六千六百六十八寸八分得一尺一寸八分四釐七毫爲圓斛深寄餘七釐一毫卻収深七毫作一釐通得一尺一寸八分五釐爲圓斛深此是求出両等圓斛在人擇而用之求囤米置大囤上徑一丈通爲百寸乘下徑九十寸得九千於上又以上徑自乘得一萬寸加上又以下徑九十寸自乘得八千一百寸加上共得二萬七千一百寸乘髙一百二十寸得三百二十五萬二千寸又乘大囤一十二个得三千九百二萬四千寸爲寄次置小囤上徑九十寸下徑八十寸相乘得七千二百寸於次又上徑自乘得八千一百寸加次又下徑自乘得六千四百寸加次共得二萬一千七百寸又乘髙一百寸得二百一十七萬寸又乘小囤一十三个得二千八百二十一萬寸並寄共得六千七百二十三萬四千寸爲實【按應四歸爲實艸中遺漏故得數誤】倍前斛積四千一百六十七寸二分爲法除之得八千六十七石四升七合四勺一抄四撮

按求方斛積法以上下徑相乘又各自乘並而以深再乘三除之得積求徑深法三因積有二徑以二徑相乘各自乘數並而除之得深有一深一徑以深除積得數內減徑自來余爲實徑爲縱開帶縱平方得又一徑或徑自乘深再乘減積除爲實以深爲縱隅深徑相乘爲縱方開連枝平方得又一徑艸中求斗積不加三除爲三倍斗積五因之爲三倍斛積故設正深底徑二數開連枝平方以求口徑旣得口徑復設二徑數以求正深也求圓斛徑卽如求圓外切方邊當以方圓冪率變圓積爲方積故四因前積而以三因正深代三除也求圓囤米尺積先用方斛求積法次變方爲圓方斛法用三除變圓法用三因四除合之則三因四除合之則三除並可省惟以四除之卽得圓囤積術中詳言之而艸中步算遺漏四除故得數誤爲四倍也

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九上﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九上﹥

數學九章卷九上

欽定四庫全書

數學九章卷九下

宋秦九韶撰市易

推求典本

問典庫今年二月二十九日有人取觧一號主家聽得當事共算本息一百六十貫八百三十二文稱系前嵗頭臘月半觧去月息二分二釐欲知原本幾何答曰本一百二十貫文

術曰以粟米求之置積日乘息分數增三百爲法以三百乘共錢爲寔寔如法而一得本

艸曰置前年頭臘月半系四十五日並去年三百六十又加今年五十九日共得四百六十四日爲積日乘息二分二釐得一百二十文八釐增三百文得四百二文八釐爲法以三百文乘共錢一百六十貫八百三十二文得四萬八千二百四十九貫六百文爲寔如法而一得一百二十貫文爲原本

按題意謂前年十一月半典錢去年未取今年二月二十九日取去按日計利共合本息錢一十六千八百三十二文月息每千二十二文問本錢若干法當以積日乘息二十二文以三十日除之得一千文之共息加一千文爲一千文之本息共數然後置今本息共數以一千乘之一千之本息共數除之卽得今本錢數艸中以十文爲本以二分二釐爲息不以三十除之爲共息而以三十乘十文得三百爲本其理一也

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九下﹥

推知糴數

問和糴三百萬貫求石數聞每石牙錢三十文糴埸量米折支牙人所得毎石出牽錢八百牙人量米四石六鬥八合折與牽頭欲知米數石價牙錢米牽錢各幾何

按題意買米共用錢三十億每石牙錢三十文共牙錢折米給之共折米每石牽錢八百文共牽錢牙人又折米四石六斗零八合給之求各數

答曰糴到米一十二萬石石價二十五貫文牙錢三千六百貫文折米一百四十四石牽錢一百一十五貫二百文

術曰以商功求之率變入之置糴本牙錢牽錢相乘爲寔以牽米爲隅開連枝立方得石價以價除本得糴到米以牙錢乘米得縂牙錢以價除之得牙米以牽錢乘牙米得共牽錢

艸曰置糴本三百萬貫乘牙錢三十文得九千萬貫文乘牽錢八百文得七百二十億萬貫【按七百二十億貫萬字誤後余寔內萬字同此】爲價寔置牽米四石六鬥八合於寔數零文之下爲立方從隅起步步法常超二位每超一度商進之今隅凡超四度當於寔上約定首商二十貫乃以商生隅超四石六鬥八合得九十二貫一百六十文乃以爲亷又以商生亷得一百八十四萬三千二百貫爲方乃以方命上商二十貫除寔訖寔餘三百五十一億三千六百萬貫復以商生隅四石六鬥八合入亷得一百八十四貫三百二十文又以商生亷加入方內得五百五十二萬九千六百貫爲方法復以商又生隅四石六鬥八合加入亷得二百七十六貫四百八十文爲亷法其方法一退亷法二退從隅三退乃於首商之次約寔續商五貫以續商生隅四石六鬥八合入亷得二百九十九貫五百二十文又以續商生亷入方得七百二萬七千二百貫乃命續商五貫除寔適盡所得二十五貫爲毎石米價以爲法以糴本三百萬貫爲寔寔如法而一得一十二萬石爲糴到米數以米數乘牙錢三十得三千六百貫爲牙錢以石價二十五貫除牙錢三千六百貫文得一百四十四石爲糴埸量米折牙錢以牽錢八百乘牙米一百四十四石得一百一十五貫二百文爲牽頭得牙人所與牽錢之數以石價二十五貫文約牽錢一百一十五貫二百文得四石六鬥八合爲牽米折錢合問

按此術之意以立天元一觧之法立天元一爲米每石之價以折牽米四石六斗零八合乘之得四元【六○八】爲共牽錢應以每石牽錢八百除之寄分母代除得八百分元之四分【六○八】爲共折給牙人米數又以天元一乘之得八百分平方之四分【六○八】爲共牙錢應以每石牙錢三十除之寄分母代除得三十分又八百分平方之四分【六○八】爲共米數又以天元一乘之得三十分又八百分立方之四分【六○八】爲共米價與三百萬貫相等兩邊各以三十乘之又以八百乘之得四立方【六○八】與七百二十億貫等以立方數除兩邊得一立方與一百五十六億二千五百萬貫等置貫數爲寔開立方得二十五貫爲米每石價數艸中不除開連枝立方爲除之不能盡者便於用也

﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九下﹥﹤子部﹐天文算法類﹐算書之屬﹐數學九章﹐卷九下﹥

累收庫本

問有庫本錢五十萬貫月息六釐半今令掌事每月帶本約息共還一十萬欲知幾何月而納足並末復畸錢多少

答曰本息納足共七个月末後一月畸錢二萬四千七百六貫二百七十九文三分四釐八毫四絲六忽七微七沙三莽一輕二淸五煙

術曰以盈朏變法求之置原本以息數退位乘歸本位每出共納累得月數以末後不及數爲足月錢數艸曰置本五十萬貫以六釐五毫乘之入共本內得五十三萬二千五百貫文內減初月一十萬餘四十三萬二千五百貫文又以六釐五毫乘之餘本內得四十六萬六百一十二貫五百文又減次月一十萬貫餘三十六萬六百一十二貫五百文又以六釐五毫乘之入余本內得三十八萬四千五十二貫三百一十二文五分又減第三月錢一十萬貫文餘二十八萬四千五十二貫三百一十二文五分又以六釐五毫乘之得三十萬二千五百一十五貫七百一十二文八分一釐二毫五絲內減第四月錢一十萬貫餘二十萬二千五百一十五貫七百一十二文二分一釐二毫五絲又以六釐五毫乘之入余本內得二十一萬五千六百七十九貫二百三十四文一分四釐五毫三絲一忽二微五塵內減第五月錢一十萬貫餘一十一萬五千六百七十九貫二百三十四文一分四釐五毫三絲一忽二微五塵又以六釐五毫乘之入余本內得一十二萬三千一百九十八貫三百八十四文三分六釐四毫七絲五忽七微八塵一沙二五莾減第六月錢一十萬貫餘二萬三千一百九十八貫三百八十四文三分六釐四毫七絲五忽七微八塵一沙二五莾又以六釐五毫乘之入余本內得二萬四千七百六貫二百七十九文三分四釐八毫四絲六忽七微無塵七沙無三莾一輕二淸五煙爲第七月納足本息畸錢

均貨推本

問海舶赴務抽畢除納主家貨物外有沈香五千八十八兩胡椒一萬四百三十包【包四十觔】象牙二百一十二合【以大小爲合觔兩俱等】系甲乙丙丁四人合本博到緣昨來湊本互有假借甲分到官供稱甲本金二百兩鹽四袋鈔一十道乙本銀八百兩鹽三袋鈔八十八道丙本銀一千六百七十兩度蝶一十五道丁本度蝶五十二道金五十八兩八銖已上共估值四十二萬四千貫甲借乙鈔乙借丙銀丙借丁度蝶丁借甲金今合撥各借物歸原主名下爲率均分上件貨物欲知金銀袋鹽度牒原價及四人各合得香椒牙幾何按題意謂甲金乙鹽丙銀丁牒原本不同互借爲同本買得香椒牙三色今有互借各物及同本貫數求原本以分所買之物蓋方程而亷衰分之法也甲乙二條內鹽鈔二色寔卽一色先言鹽袋數乃一鈔之數以鈔數乘之始爲鹽數是鈔數旣贅又不明言其故皆故爲隠晦也

答曰甲金每兩四百八十貫文本一十二萬四十貫文合得沈香一千四百八十八兩胡椒三千五十包一十一觔五兩五十三分兩之七象牙六十二合

乙鹽每袋二百五十貫文本七萬六千貫文合得沈香九百一十二兩胡椒一千八百

六十九包二十一觔二兩五十三分兩之六象牙三十八合

丙銀每兩五十貫文本一十二萬三千五百貫文合得沈香一千四百八十二兩胡椒三千三十七包三十九觔五兩五十三分兩之二十三象牙六十一合四分合之三丁度牒每道一千五百貫文本一十萬五百貫文合得沈香一千二百六兩胡椒二千四百七十二包八觔三兩五十三分兩之十七象牙五十合分合之一

術曰以方程求之衰分入之正負入之置共錢以人數約之得數列入人數各爲行積次置諸色各物數爲叚子對本色有分者通之可約者約之爲定率以第一行爲右以第二行爲副以第三行爲次第四行爲左每以下位互徧乘之每驗其積以少減多如同名相減異名相加正無人負之負無人正之如同名相加異名相減正無人正之負無人負之得一叚爲法以余積爲寔除之各得諸價以諸價列右行以各物數列左行以兩行對乘各得本率以諸色求等約之得列衰並諸衰爲總法以列衰徧乘各物諸數各爲寔諸寔並如總法而一各得其物除不盡者以觔兩通而除之或又分母命之

艸曰置估值四十二萬四千貫以四人約之得一十萬六千貫爲各積以人數列四位次置甲金二百兩於右上以四袋乘鈔一十道得四十袋【按此條以四袋爲一鈔相乘爲塩數是二色止爲一色不如卽用塩爲正】於右副爲右行次置乙鈔八十八道以三袋乘之得鹽二百六十四袋【按此條以三袋爲一鈔】及銀八百兩爲副行次置丙銀一千六百七十兩度牒一十五道爲次行次置丁度牒五十二道金五十八兩八銖爲左行驗得首圖左行上叚金帶八銖是三分兩之一乃以分母徧乘左行諸數隻以分子一內入左上金內其左積得三十一萬八千貫左金得一百七十五兩左度牒得一百五十六道爲次圖驗次圖四行皆可求等右行求得四十約之副行求得八約之次行求得五約之左行求得一約之各得數爲定

率圖

定率圖右積得二千六百五十貫金五兩鹽一袋副積得一萬三千二百五十貫鹽三十三袋銀一百兩次積得二萬一千二百貫銀三百三十四兩度牒三道左積得三十一萬八千貫金一百七十五兩度牒一百五十六道乃以定圖次行度牒三因左行左積得九十五萬四千貫金五百二十五兩度牒四百六十八道次以定圖左下度牒一百五十六乘次行積得三百三十萬七千二百貫銀五萬二千一百四兩【按此下落度牒四百六十八道八字】

定率圖

維圖

乃驗維圖左及次行之下度牒等當相減之以積爲端當以左之少積減次之多積按術曰同名相減其次行之金空而左行之金五百二十五兩有爲正次空爲無按術曰正無人負之卽以左行之金正加入次行金位爲負名成音圖仍置定圖左行諸數乃驗音圖次行積得二百三十五萬三千二百貫正金五百二十五兩負銀五萬二千一百四兩爲正餘三行皆正

音圖

駁圖

今驗音次行之負金當以右行之正金補之而其數不等先以右金五約次金五百二十五得一百五以乘音圖右行畢其右積得二十七萬八千二百五十貫金二百五十五兩正鹽一百五袋正其副次左三行如音圖故乃成爻圖今視爻圖右行之金正與次行之金負適等卽用右行直加次行按術以同名相加乃以右之金正減其次之金負爲空按術以異名相減之其次鹽空爲無人按術以正無人正之乃以爻圖右積二十七萬八千二百五十貫加次積二百三十五萬三千二百貫內得二百六十三萬一千四百五十貫其次金空次鹽一百五袋正次銀五萬二千一百四兩正仍置定圖右行數而成政圖

政圖

卜圖

今視政圖從者乃擇其諸行本色可求等首金可鹽亦可蓋金多鹽少乃以政圖副次兩行鹽數三十三與一百五求等得三故以三約三十三得一十一以乘次行又以三約一百五得三十五以乘副行畢其副積得四十六萬三千七百五十貫鹽一千一百五十五袋銀三千五百兩次積二千八百九十四萬五千九百五十貫鹽一千一百五十五袋銀五十七萬三千一百四十四兩皆正列成卜圖

宮圖

及視上圖副行積少次行積多卽以副行求減次行皆是同名相減之旣畢仍置定圖副行數其次行乃得積二千八百四十八萬二千二百貫銀得五十六萬九千六百四十四兩列爲宮圖驗宮圖次行下只有銀五十六萬九千六百四十四兩獨一數以爲法以次積二千八百四十八萬二千二百貫爲寔寔如法而一得五十貫爲銀一兩價而成千圖

千圖

乃以千圖副行銀一百兩乘兩價五十貫得五千貫以減千圖副行之積一萬三千二百五十貫訖副積餘八千二百五十貫其下鹽得三十三袋銀空而成曜圖

曜圖

支圖

乃以曜圖副行之積八千二百五十貫爲鹽寔以其下鹽三十三袋爲法除之得二百五十貫爲鹽一袋價而成支圖乃以支圖右行鹽一袋徧乘副行畢其副積只得二百五十貫次以副行直減右行畢右積餘二千四百貫金五兩鹽空而成閏圖乃以閏圖右積二千四百貫爲寔金五兩爲法除之得四百八十貫爲金一兩價成定圖次以左金一百七十五兩徧乘右行直減左行訖左積得二十三萬四千貫度牒一百五十六道左金空而成定圖

閏圖

定圖

今驗定圖左積二十三萬四十貫爲寔以左下度牒一百五十六道爲法除之得一千五百貫爲度牒一道價而成終圖旣得金銀每兩鈔鹽每袋度牒每各色之價次列甲乙丙丁四人乘之

終圖

後以首圖右金二百兩並左金五十八兩八銖得二百五十八兩以八銖爲三分兩之一通分內子得七百七十五於左甲其右價四百八十貫乃以左甲母三約之爲一百六十貫於左甲次以右鹽四千袋並副鹽二百六十四袋得三百四袋於左乙以鹽價二百五十貫於右乙次以副銀八百兩並銀一千六百七十兩得二千四百七十兩於左丙以銀價五十貫於右丙又以次行度牒一十五道並左度牒五十二道得六十七道於左丁以度牒價一千五百貫於右丁兩行對乘之

以右甲一百六十乘左甲七百七十五兩得一十二萬四千貫爲甲原本以右乙二百五十貫乘左乙三百四袋得七萬六千貫爲乙原本以右丙五十貫乘左丙二千四百七十兩得一十二萬三千五百貫爲丙原本以右丁一千五百貫乘左丁六十七道得一十萬五百貫爲丁原本列四人各得原本求等得五百貫皆以五百貫爲法除之甲行二百四十八乙得一百五十二丙得二百四十七丁得二百一各爲列衰於右行並右行列衰得八百四十八爲總法次置到沈香五千八十八兩徧乘列衰各爲沈香寔次置胡椒一萬四百三十包亦徧乘列衰爲椒寔次置象牙四百二十四條以大小各半之得二百一十二合亦徧乘列衰爲牙寔

甲得一百二十六萬一千八百二十四乙得七十七萬三千三百七十六丙得一百二十五萬六千七百二十六丁得一百二萬三千六百八十八各爲沈香寔以總法八百四十八除之甲得沈香一千四百八十八兩乙得沈香九百一十二兩丙得沈香一千四百八十二兩丁得沈香一千二百六兩

甲得二百五十八萬六千六百四十乙得一百五十八萬五千三百六十丙得二百五十七萬六千二百一十丁得二百九萬六千四百三十各爲椒寔以總法八百四十八除之甲得三千五十包不盡二百四十包以包率四十觔乘之得九千六百觔又以法除之得一十一觔不盡二百七十二觔以十六兩通之得四千三百五十二兩又以法除之得五兩不盡一百一十二求等得一十六約之得五十三分兩之七約甲得椒三千五十包一十一觔五兩五十三分兩之七乙得一千八百六十九包不盡四百四十八包以四十觔乘之得一萬七千九百二十又以法除之得二十一觔不盡一百一十二觔以十六兩通之得一千七百九十二兩又以法除得二兩不盡九十六兩求等得十六約之得五十三分兩之六爲乙合得椒一千八百六十九包二十一觔二兩五十三分兩之六丙得三千三十七包不盡八百三十四以四十觔通之得三萬三千三百六十觔又以法除之得三十九觔不盡二百八十八以十六兩通之得四千六百八兩又以法除之得五兩不盡三百六十八兩求等得十六約之得五十三分兩之二十三爲丙合得椒三千三十七包三十九觔五兩五十三分兩之二十三丁得二千四百七十二包不盡一百七十四以四十觔通之得六千九百六十觔又以法除之得八觔不盡一百七十六以十六兩通之得二千八百一十六又以法除之得三兩不盡二百七十二求等得十六約之得五十三分兩之一十七爲丁合得椒二千四百七十二包八觔三兩五十三分兩之一十七

甲得五萬二千五百七十六合乙得三萬二千二百二十四合丙得五萬二千三百六十四合丁得四萬二千六百一十二合各爲牙寔皆以總法八百四十八除之甲合得牙六十二合乙合得牙三十八合丙合得牙六十一合不盡六百三十六求等得二百一十二約之得四分合之三丁合得牙五十合不盡二百十二求等得二百一十二約之得四分合之一按此條於方程正負之用通分乘除之變多所發明步算𨿽繁寔有條而不紊也

推求物價

問推貨務三次支物凖錢各一百四十七萬貫文先撥沈香三千五百裹瑇瑁二千二百觔乳香三百七十五套次撥沈香二千九百七十裹瑇瑁二千一百三十觔乳香三千五十六套四分套之一後撥沈香三千二百裹瑇瑁一千五百觔乳香三千七百五十套欲求沈乳瑇瑁裹觔套各價幾何

答曰沈香每裹三百貫文乳香毎套六十四貫文瑇瑁每斤一百八十貫文

術曰以方程求之正負入之列積及物數於下布行數各對本色有分者通之可約者約之爲定率積列數每以下項互徧乘之毎視其積以少減多其下物數各隨積正負之類如同名相減異名相加正無人負之負無人正之其如同名相加異名相減正無人正之負無人負之使其下項物數得一數者爲法其積爲寔寔如法而一所得不計徧損或益諸積各得法寔除之餘仿此艸曰置凖錢一百四十七萬貫爲三次撥錢爲三行積數次置先撥沈香三千五百里瑇瑁二千二百觔乳香三百七十五觔爲右行物數又列次撥沈香二千九百七十裹瑇瑁二千一百三十觔乳香三千五十六套四分套之一爲中行物次列沈香三千二百裹瑇瑁一千五百觔乳香三千七百五十套爲左行之物各以本色相對列之

率圖

定率圖

其中行乳香有四分套之一便以母四通中行諸數隻內子一入乳香叚內積得五百八十八萬貫沈香得一萬一千八百八十裹瑇瑁得八千五百二十觔乳香得一萬二千二百二十五套以右行求等得二十五俱約之積得五萬八千八百貫沈香得一百四十裹瑇瑁得八十八觔乳香得一十五套以中行求等得一十五約之積得三十九萬二千貫沈香得七百九十二裹瑇瑁得五百六十八觔乳香得八百一十五套以左行求等得五約之積得二萬九千四百貫沈香得六十四裹瑇瑁得三十觔乳香得七十五套列爲定率圖三行副置求之今先欲去定圖下位乳香套數一十五與左下七十五互乘左右兩行右積得四百四十一萬貫沈香一萬五百裹瑇瑁得六千六百觔乳香得一千一百二十五套左積得四十四萬一千貫沈香得九百六十一裹瑇瑁得四百五十觔乳香得一千一百二十五套驗左積少右積多當以左行直減右行畢仍置定圖左行數

維圖【按以上三圖名舊本未載今依前題補之以便檢閱】

右積得三百九十六萬九千貫沈香得九千五百四十裹瑇瑁得六千一百五十觔次驗中左兩行各有下位叚又以左下七十五互乘中行乃以中行下八百一十五互乘左行畢中積得二千九百四十萬貫沈香得五萬九千四百裹瑇瑁得四萬二千六百觔乳香得六萬一千一百二十五套左積得二千三百九十六萬一千貫沈香得五萬二千一百六十觔瑇瑁得二萬四千四百五十觔乳香得六萬一千一百二十五套驗左積少中積多以左行同名直減中行畢仍置定圖左行數

卜圖

宮圖

中積得五百四十三萬九千貫沈香得七千二百四十裹瑇瑁得一萬八千一百五十觔今驗右中兩行數多又求約之其右行求得三十約之右積得一十三萬二千三百貫沈香得三百一十八裹瑇瑁得二百五觔中行求得一十約之中積得五十四萬三千九百貫沈香得七百二十四裹瑇瑁得一千八百一一十五觔今又欲去中左行之瑇瑁乃以中行瑇瑁一千八百一十五互乘右行右積得二億四千一十二萬四千五百貫沈香得五十七萬七千一百七十裹瑇瑁得三十七萬二千七十五套以卜右瑇瑁二百五觔互乘中行中積一億一千一百四十九萬九千五百貫沈香得一十四萬八千四百二十裹瑇瑁得三十七萬二千七十五觔今驗宮右積多中積少乃以中行直減右行畢仍置卜圖中行數

幹圖

支圖

今驗幹圖右行叚數只有沈香四十二萬八千七百五十裹以爲法以右上積一億二千八百六十二萬五千貫爲寔寔如法而一得三百貫爲沈香一裹價便以中行沈香七百二十四乘三百貫得二十一萬七千二百貫減中行五十四萬三千九百貫餘三十二萬六千七百貫爲中積便減去中行沈香叚之數次以左上沈香六十四乘三百貫得一萬九千二百貫減左積二萬九千四百貫餘一萬二百貫爲左積便減左上沈香裹數去之今驗支圖中行其下只有瑇瑁一千八百一十五觔以爲法中積三十二萬六千七百貫爲寔寔如法而一得一百八十貫爲瑇瑁價

閏圖【按此圖舊本亦未載名今補】

今驗閏圖左行有瑇瑁三十觔以乘價一百八十貫得五千四百貫減左積一萬二百貫餘四千八百貫爲左積其下只有乳香七十五套以爲法以積四千八百貫爲寔寔如法而一得六十四貫爲乳香套價此題並系俱正補艸

數學九章卷九下

